{"version":3,"sources":["./src/app/_constants/reportCategories.ts","./src/app/patient/add-followup/add-followup.component.html","./src/app/patient/add-followup/add-followup.component.ts","./src/app/patient/add/add.component.html","./src/app/patient/add/add.component.ts","./src/app/patient/dashboard/dashboard.component.html","./src/app/patient/dashboard/dashboard.component.ts","./src/app/patient/followup/followup.component.html","./src/app/patient/followup/followup.component.ts","./src/app/patient/medical/medical.component.html","./src/app/patient/medical/medical.component.ts","./src/app/patient/patient-routing.module.ts","./src/app/patient/patient.module.ts","./src/app/patient/patient.service.ts","./src/app/patient/profile-billing/profile-billing.component.html","./src/app/patient/profile-billing/profile-billing.component.ts","./src/app/patient/profile-reports/profile-reports.component.html","./src/app/patient/profile-reports/profile-reports.component.ts","./src/app/patient/profile/profile.component.html","./src/app/patient/profile/profile.component.ts","./src/app/patient/profiles/profiles.component.html","./src/app/patient/profiles/profiles.component.ts","./src/app/patient/services/diseaseCategory.service.ts","./src/app/patient/services/report.service.ts"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAO,MAAM,qBAAqB,GAAG;IACjC,YAAY;IACZ,oBAAoB;IACpB,cAAc;IACd,WAAW;CACd,CAAC;AAEK,MAAM,yBAAyB,GAAG;IACrC,CAAC,uBAAuB,EAAE,KAAK,EAAE,UAAU,EAAE,aAAa,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,CAAC;IAC1F,CAAC,YAAY,EAAE,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,gBAAgB,EAAE,WAAW,EAAE,QAAQ,CAAC;IACzG,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,iBAAiB,EAAE,aAAa,EAAE,SAAS,EAAE,eAAe,EAAE,uBAAuB,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,CAAC;IAC/J,CAAC,yBAAyB,EAAE,oBAAoB,EAAE,MAAM,EAAE,kBAAkB,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC;CACvG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0GCW8B,6xBAAuE,gFACvE,2BADmD,kBAAmB,4BAAtE,YAAuE,EAApB,8BAAmB,4BAAtE,YAAuE,EAApB,SAAmB,2BAAC,qEACvE;0GAKJ,iJAEwB,+FAExB;0GAUA,iJAEwB,+GAExB;0GAUA,iJAEwB,0HAExB;0GAWA,iJAEwB,0HAExB;0GAWA,iJAEwB,0HAExB;0GAWA,iJAEwB,wGAExB;0GAWA,iJAEwB,0GAExB;0GAUA,iJACwB,oGAExB;2GAUA,iJACwB,kGAExB;2GAcA,iJACwB,+FAExB;2GAMA,iJACwB,mGAExB;2GAMA,iJACwB,gGAExB;2GAwDwB,gLACyD,KACrD,yOAC8D,KAC9D,mLACuB,oFAAO,iCAF1B,kEAA8B,yCADlC,YAC8D,EAA1D,SAA8B;2GAItC,gLACyD,KACrD,yOACgE,KAChE,mLACuB,sFAAS,iCAF5B,kEAAgC,2CADpC,YACgE,EAA5D,SAAgC;2GAIxC,gLACyD,KACrD,yOAC8D,KAC9D,mLACuB,oFAAO,iCAF1B,kEAA8B,yCADlC,YAC8D,EAA1D,SAA8B;2GAItC,gLACyD,KACrD,yOAC4D,KAC5D,mLACuB,kFAAK,iCAFxB,kEAA4B,uCADhC,YAC4D,EAAxD,SAA4B;2GA/BhD,uHAA0D,KACtD,8IAAwB,kFAAS,MACjC,+IAAyB,kFAAgB,MACzC,8IAAwB,iFAAmB,MAC3C,8IAAwB,kFAAgB,MACxC,mIAAa,KACT,qIAAc,KACV,+YACyD,IAMzD,+YACyD,IAMzD,+YACyD,IAMzD,+YACyD,IAQjE,+IAAwB,KACpB,oJAA6B,KAAC,mOAC+B,YAD5B;;wBAA+B;MAAlC,wBAC+B,KAC7D,oJAA6B,KAAC,kOAC8B,YAD3B;;wBAAkB;MAArB,wBAC8B,0BAlCnD,2DAA0B,kCAA/B,aACyD,EADpD,SAA0B,GAO1B,2DAA4B,oCAAjC,aACyD,EADpD,SAA4B,GAO5B,2DAA0B,kCAA/B,aACyD,EADpD,SAA0B,GAO1B,2DAAwB,gCAA7B,aACyD,EADpD,SAAwB,2BA3Bb,+DAAS,GACR,4GAAgB,GACjB,gHAAmB,GACnB,4GAAgB;2GAnBhE,6IAA8D,KAC1D,8IAAuB,KACnB,qJAA8B,KAC1B,wJAAiC,KAC7B,0HAAO,KACH,uHAAI,KACA,8IAAwB,8EAAC,MACzB,sHAAI,iFAAI,MACR,+IAAwB,qFAAQ,MAChC,+IAAwB,iFAAI,MAC5B,oIAAa,iFAAI,MACjB,+IAAwB,mFAAM,MAGtC,0HAAO,KACH,wdAA0D,iDAAtD,mBAAqD,qBAAzD,aAA0D,EAAtD,SAAqD;0GAxOjG,yIAAiB,KACb,+IAAuB,KACnB,0IAAkB,KACd,yMAAqD,YAAhD;;wBAA6B;MAAlC,wBAAqD,KACjD,6IAAuB,0FAAa,MACpC;;;;;;mzBAA+D,IAC3D,wIAAiB,KAcjB,qJAA6B,KACzB,2IAAoB,oFAAO,MAC3B,kLAA0D,KACtD;;;;;;61CAAkE,IAC9D,udAAuE,IAM3E,8YAEwB,IAOhC,gJAAwB,KACpB,2IAAoB,iGAAoB,MACxC,iLAA0D,4HAAI,KAC1D;;;;;;;;;;;;85CACa,IACb,8YAEwB,IAOhC,gJAAwB,KACpB,2IAAoB,4GAA+B,MACnD,iLAA0D,KAAC,uHAAI,KAC3D;;;;;;;;;;;;85CAC8C,IAC9C,8YAEwB,IAQhC,gJAAwB,KACpB,2IAAoB,iGAAoB,MACxC,iLAA0D,4HAAI,KAC1D;;;;;;;;;;;;85CACa,IACb,8YAEwB,IAOhC,gJAAwB,KACpB,2IAAoB,kGAAqB,MACzC,iLAA0D,KACtD,uHAAI,KACJ;;;;;;;;;;;;85CAC8C,IAC9C,8YAEwB,IAOhC,gJAAwB,KACpB,2IAAoB,2FAAc,MAClC,iLAA0D,KACtD,uHAAI,KACJ;;;;;;;;;;;;85CACa,IACb,8YAEwB,IAOhC,gJAAwB,KACpB,2IAAoB,4FAAe,MACnC,iLAA0D,KACtD,uHAAI,KACJ;;;;;;;;;;;;+5CACa,IACb,+YAEwB,IAOhC,iJAAwB,KACpB,4IAAoB,sFAAS,MAC7B,kLAA0D,6HAAI,KAC1D;;;;;;;;;;;;i6CACa,IACb,+YACwB,IAOhC,iJAAwB,KACpB,4IAAoB,oFAAO,MAC3B,kLAA0D,6HAAI,KAC1D;;;;;;;;;;;;i6CACa,IACb,gZACwB,IAQhC,4IAAoB,yFAAY,MAEhC;;;;;wBAAyF;MAArD;;wBAAmC;MAAvE,yoBAAyF,IAGrF,+IAAsB,KAClB,sIAAc,iFAAI,MAClB;;;;;;;;;;;;i6CAA+D,IAC/D,gZACwB,IAK5B,gJAAuB,KACnB,sIAAc,qFAAQ,MACtB;;;;;;;;;;;;;;;;;;;;;+vDAAoF,IACpF,gZACwB,IAK5B,gJAAuB,KACnB,sIAAc,iFAAI,MAClB;;;;;;;;;;;;;;;;;;;;;+vDAAiE,IACjE,gZACwB,IAI5B,igCAA2C,IACvC,sIAAc,iFAAI,MAClB,wJAA+B,KAC3B,yKAAiD,KAC7C;;;;;;o2CACsB,IACtB,qLAAuD,oFAAO,MAElE,yKAAiD,KAC7C;;;;;;o2CACsB,IACtB,qLAAuD,sFAAS,MAEpE,yKAAiD,KAC7C;;;;;;o2CACsB,IACtB,qLAAuD,oFAAO,MAElE,yKAAiD,KAC7C;;;;;;o2CACsB,IACtB,qLAAuD,kFAAK,MAKxE,sJAA8B,KAC1B,2NAA6E,YAArE;;wBAA6B;MAArC,wBAA6E,wFACzE,qJAAuB,KAInC,gZAA8D,IAoE9D,gJAAwB,KAEtB,6PAC8C,YAD3C;;wBAAyB;MAA5B,wBAC8C,mFAAM,MACpD,6PACqD,YAD7C;;wBAAuB;MAA/B,wBACqD,mFAAM,mDA7R3D,mBAAkB,OAAxB,YAA+D,EAAzD,SAAkB,GAkBiB,qCAAoC,EAAjE,aAAkE,EAArC,UAAoC,GACrD,qDAA0C,0BAAlD,aAAuE,EAA/D,UAA0C,GAOlD,iFAA8F,wCADlG,aAEwB,EADpB,UAA8F,GAWxF,sCAAqC,EAA/C,aACa,EADH,UAAqC,GAG3C,kFAAgG,yCADpG,aAEwB,EADpB,UAAgG,GAW1F,+CAA8C,EAAxD,aAC8C,EADpC,UAA8C,GAGpD,2FAAkH,kDADtH,aAEwB,EADpB,UAAkH,GAY5G,sCAAqC,EAA/C,aACa,EADH,UAAqC,GAG3C,kFAAgG,yCADpG,aAEwB,EADpB,UAAgG,GAY1F,uCAAsC,EAAhD,aAC8C,EADpC,UAAsC,GAG5C,mFAAkG,0CADtG,aAEwB,EADpB,UAAkG,GAY5F,iCAAgC,EAA1C,aACa,EADH,UAAgC,GAGtC,6EAAsF,oCAD1F,aAEwB,EADpB,UAAsF,GAYhF,iCAAgC,EAA1C,aACa,EADH,UAAgC,GAGtC,6EAAsF,oCAD1F,cAEwB,EADpB,UAAsF,GAWhF,4BAA2B,EAArC,cACa,EADH,UAA2B,GAE9B,wEAA4E,+BAAnF,cACwB,EADjB,UAA4E,GAW7D,0BAAyB,EAA/C,cACa,EADS,UAAyB,GAExC,sEAAwE,6BAA/E,cACwB,EADjB,UAAwE,GAWlF,oBAA8B,mBAAnC,cAAyF,EAApF,UAA8B,GAKR,wBAAsB,EAAzC,cAA+D,EAA5C,WAAsB,GAClC,qEAAoE,2BAA3E,cACwB,EADjB,WAAoE,GAQpE,4BAA0B,EAAjC,cAAoF,EAA7E,WAA0B,GAC1B,yEAA4E,+BAAnF,cACwB,EADjB,WAA4E,GAQ9D,wBAAsB,EAA3C,cAAiE,EAA5C,WAAsB,GACpC,qEAAoE,2BAA3E,cACwB,EADjB,WAAoE,GAK1E,wBAAoB,EAAzB,cAA2C,EAAtC,WAAoB,GAIN,2BAAyB,EAAhC,cACsB,EADf,WAAyB,GAKzB,6BAA2B,EAAlC,cACsB,EADf,WAA2B,GAK3B,2BAAyB,EAAhC,cACsB,EADf,WAAyB,GAKzB,yBAAuB,EAA9B,cACsB,EADf,WAAuB,GAazC,sDAAuC,GAA5C,cAA8D,EAAzD,WAAuC,2BApNhD,qtBAA+D,GAkBnD,guBAAkE,GAmBlE,ouBACa,GAab,ouBAC8C,GAc9C,ouBACa,GAcb,ouBAC8C,GAc9C,ouBACa,GAcb,2uBACa,GAab,4uBACa,GAYb,4uBACa,GAYrB,4uBAAyF,GAKjF,svBAA+D,GAS/D,0vBAAoF,GASpF,0vBAAiE,GAMrE,0vBAA2C,GAI/B,0vBACsB,GAItB,0vBACsB,GAItB,0vBACsB,GAItB,0vBACsB;;;;;;;;;;;;;;;;AC7M1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACkB;AASrC;AAWxB,MAAM,oBAAoB;IAmE/B,YACU,WAAwB,EACxB,YAAyB,EACjC,QAAyB,EACjB,cAA8B,EAC9B,sBAA8C,EAC9C,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,eAAgC,EAChC,MAAc;QATd,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAa;QAEzB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QA9BxB,iBAAY,GAAG,EAAE,CAAC;QAclB,eAAU,GAAG,KAAK,CAAC;QAEnB,uBAAkB,GAAmB,EAAE,CAAC;QACxC,uBAAkB,GAAY,KAAK,CAAC;QACpC,cAAS,GAAG,IAAI,CAAC;QAYW,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAAC,CAAC;IAvEvD;;;;MAIE;IACF,oDAAoD;IACpD,6BAA6B;IAC7B,IAAI;IAEJ;;;;;MAKE;IACK,gBAAgB,CAAC,IAAY,EAAE,OAAe;QACnD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;IAID;;;;;;MAME;IACK,wBAAwB,CAAC,IAAY,EAAE,OAAe,EAAE,EAAU;QACvE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED;;;;MAIE;IACK,wBAAwB,CAAC,EAAU;QACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzB,CAAC;IAkCD,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACxD,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;QACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACnD;QACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,wBAAwB;IACxB,MAAM;QACJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACjC,mCAAmC;YACnC,mCAAmC;YACnC,kBAAkB,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC7C,mBAAmB,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC9C,4BAA4B,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACvD,mBAAmB,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC9C,oBAAoB,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/C,cAAc,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACzC,cAAc,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACzC,SAAS,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACpC,OAAO,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAClC,YAAY,EAAE,CAAC,EAAE,CAAC;SACnB,CAAC,CAAC;IACL,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAC9C,IAAI,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,IAAI,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBAC5B,OAAO,EAAE,CAAC,KAAK,CAAC;gBAChB,SAAS,EAAE,CAAC,KAAK,CAAC;gBAClB,OAAO,EAAE,CAAC,KAAK,CAAC;gBAChB,KAAK,EAAE,CAAC,KAAK,CAAC;aACf,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEtC,IAAI,EAAE,KAAK,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEnD,UAAU;QACR,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YAC7E,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;aACzB;iBAAM;aACN;QAEH,CAAC,CAAC;IACJ,CAAC;IAED,iBAAiB;IACjB,WAAW;QACT,8CAA8C;QAE9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,OAAO;SACR;QAED,6CAA6C;QAC7C,yDAAyD;QACzD,kCAAkC;QAClC,YAAY;QACZ,IAAI;QAEJ,yBAAyB;QACzB,2BAA2B;QAC3B,YAAY;QACZ,IAAI;QAEJ,gCAAgC;QAEhC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7B,IAAI,CAAC,cAAc,CAAC,WAAW,mBAAM,IAAI,CAAC,IAAI,CAAC,KAAK,IAAE,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAG,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YAClK,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACtB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,uCAAuC,CAAC,CAAC;gBAC1E,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,sBAAsB;gBAC5D,qDAAqD;gBACrD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,IAAI,CAAC,SAAS,UAAU,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;aACnB;iBAAM;aACN;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oBAAoB,CAAC,EAAE;QACrB,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC;QAC1B,IAAI,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC9E,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;oBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACtB;aACF;QACH,CAAC,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,EAAE;QACZ,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC/D,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;oBACnB,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,kBAAkB;oBACpD,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,mBAAmB;oBACtD,4BAA4B,EAAE,IAAI,CAAC,QAAQ,CAAC,4BAA4B;oBACxE,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,mBAAmB;oBACtD,oBAAoB,EAAE,IAAI,CAAC,QAAQ,CAAC,oBAAoB;oBACxD,cAAc,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc;oBAC5C,cAAc,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc;oBAC5C,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,YAAY;oBACxC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS;oBAClC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO;iBAC/B,CAAC,CAAC;gBACH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;aAE/D;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,2CAA2C,CAAC,CAAC;gBAC9E,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAC7B;QACH,CAAC,CAAC;IACJ,CAAC;IAED,mBAAmB;IACnB,cAAc;QACZ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC5F,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,yCAAyC,CAAC;gBAC3E,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,IAAI,CAAC,SAAS,UAAU,CAAC,CAAC,CAAC;aAClE;QACH,CAAC,CAAC;IACJ,CAAC;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,IAAI,CAAC,SAAS,UAAU,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,oBAAoB;IACpB,iBAAiB;QACf,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE;YACjC,OAAO;SACR;QACD,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;YACtE,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACjC;aACI;YACH,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;QAClE,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC9B,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;IACvC,CAAC;IAED,qBAAqB;IACrB,kBAAkB,CAAC,CAAC;QAClB,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC9B,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACrB,CAAC;IAED,sBAAsB;IACd,oBAAoB,CAAC,KAAK;QAChC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;QAC1G,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;QAClE,kDAAI,CAAC,IAAI,CAAC,UAAU,EAAE,gCAAgC,EAAE,SAAS,CAAC,CAAC;IACrE,CAAC;IAED,wCAAwC;IACxC,KAAK,CAAC,KAAK;QACT,kDAAI,CAAC,IAAI,CAAC;YACR,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,8BAA8B,EAAE,IAAI,EAAE,SAAS;YAC7E,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,iBAAiB;YACpC,gBAAgB,EAAE,aAAa;SAChC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,MAAM,CAAC,KAAK,EAAE;gBAChB,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aAClC;iBAAM,IAAI,MAAM,CAAC,OAAO,KAAK,kDAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACvD,kDAAI,CAAC,IAAI,CAAC,WAAW,EAAE,0BAA0B,EAAE,OAAO,CAAC,CAAC;aAC7D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC5D,oCAAoC;YACpC,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACvB,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAChC;iBAAM;gBACL,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;aACxB;QACH,CAAC,CAAC;IACJ,CAAC;IAID,8CAA8C;IAC9C,iBAAiB,CAAC,EAAE;QAClB,IAAI,MAAM,GAAG;YACX,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG;YAChD,WAAW,EAAE,+BAA+B;YAC5C,QAAQ,EAAE,CAAC;YACX,MAAM,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;YAC/B,WAAW,EAAE,wBAAwB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,qBAAqB,EAAE,EAAE;SACpF;QACD,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,8BAA8B;QAEjF,+DAA+D;QAC/D,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YACtE,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBAClC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,WAAW,GAAG,oBAAoB,EAAE,EAAE,CAAC;YAC9C,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;SACnD;IACH,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kGC5U+B,0KAAsE,wDAA1C,mBAAW,MAAvC,YAAsE,EAA1C,SAAW;kGACvC,0KAAwF,IAA7D,8QAA8B,kBAAzD,YAAwF,EAA7D,SAA8B;kGAoBjE,iJAA8F,+FAE9F;kGAiBJ,sJAAiG,yGAEjG;kGAaI,iJACwB,kGAExB;kGAiBJ,iJACwB,0GAExB;kGAWA,iJAAgG,iGAEhG;kGASA,iJACwB,oGAExB;kGAWA,iJACwB,sGAExB;mGAWA,iJAAoG,mGAEpG;mGAWA,iJAA8F,gGAE9F;mGAUI,6xBAA+C,+EAAM,2BAAnB,kBAAY,oBAA9C,YAA+C,EAAb,8BAAY,oBAA9C,YAA+C,EAAb,SAAY,2BAAC,6DAAM;mGAGzD,iJAAgG,gGAEhG;mGAWA,iJAAgG,iGAEhG;mGACA,iJAA6F,kGAE7F;mGAYA,iJAAgG,uGAEhG;mGACA,iJAAkG,gHAElG;mGAWA,iJACwB,oGAExB;mGATR,+IAAwC,KACpC,+JAAmC,sFACnC,MACA,6IAAuB,KACnB;;;;;;;;;;;;25CACkC,IAClC,uYACwB,iDAHD,0BAA0B,EAAjD,YACkC,EADX,SAA0B,GAE1C,sEAA0E,8BAAjF,aACwB,EADjB,SAA0E,2BAFjF,8sBACkC;mGAalC,iJACwB,uGAExB;mGAchB,+IAA0D,KACtD,6IAAuB,gGAAmB,MAC1C;;;;;;kzBAAuE,IACnE,+IAAwB,KAEpB,qJAA8B,KAC1B,yKAA4C,6FAAgB,MAC5D;;;;;;;;;;;;85CACmC,IACnC,wiBAA8E,IAGlF,sJAA8B,KAC1B,yKAA4C,yFAAY,MACxD;;;;;;;;;;;;85CAC+B,IAC/B,wiBAAiF,IAGrF,sJAA8B,KAC1B,yKAA4C,kGAC5C,MACA;;;;;;;;;;;;85CACuC,IACvC,wiBAAwF,IAKpG,iJAA0B,KACtB,2NAAiF,YAA9E;;wBAAgC;MAAnC,wBAAiF,4FAAe,mDA5B9F,mBAA0B,eAAhC,YAAuE,EAAjE,SAA0B,GAKb,2BAA0B,EAAjC,aACmC,EAD5B,UAA0B,GAErB,oBAA4B,cAAC,oBAAoC,uBAA7E,aAA8E,EAAlE,UAA4B,EAAC,UAAoC,GAKtE,8BAA6B,EAApC,aAC+B,EADxB,UAA6B,GAExB,oBAA+B,iBAAC,oBAAoC,uBAAhF,aAAiF,EAArE,UAA+B,EAAC,UAAoC,GAMzE,qCAAoC,EAA3C,aACuC,EADhC,UAAoC,GAE/B,oBAAsC,wBAAC,oBAAoC,uBAAvF,aAAwF,EAA5E,UAAsC,EAAC,UAAoC,2BAtBnG,8sBAAuE,GAK3D,guBACmC,GAMnC,ouBAC+B,GAO/B,ouBACuC;sTAzQ3D,0IAAkB,KACd,+IAAuB,KACnB,6IAAuB,8FAAiB,MACxC;;;;;;2oBAA8D,IAC1D,sIAAc,KACV,+JAAuC,KACnC,0IAAkB,KACd;;wBAC6B;MADV;;wBAA+B;MAAlD,uQAC6B,IAC7B,4JAAqC,KACjC,6IAAsB,KAClB,sYAAsE,IACtE,sYAAwF,IAGhG,8IAAuB,KACnB,2QAC+C,YADvC;;wBAAsB;MAA9B,wBAC+C,KAC3C,0HAAO,qFAEP,MAOhB,qJAA6B,KACzB,yKAA4C,iFAAI,MAChD,8IAAuB,KACnB;;;;;;;;;;;;85CAAyF,IAEzF,sYAA8F,IAOtG,gJAAwB,KACpB,kKAAqC,2FACrC,MACA,wJAAgC,KAC5B;;;;;;;;;;;;;;;;;;;;;;;wBACyD;MAAnB;;wBAAkB;MADxD,85FACyD,IAEzD,0OACkB,EADuC;;wBAAoB;MAA7E,wBACkB,KAItB,sYAAiG,IAMrG,gJAAwB,KACpB,yKAA4C,oFAC5C,MACA,+IAAuB,KACnB;;;;;;61CAAsD,IAClD,6yBAAiB,yFAAa,MAC9B,izBAAqB,gFAAI,MACzB,mzBAAuB,kFAAM,MAEjC,sYACwB,IAOpC,gJAAwB,KACpB,yKAA4C,4FAC5C,MACA,+IAAuB,KACnB;;;;;;61CAA6D,IACzD,6yBAAiB,iGAAqB,MACtC,mzBAAuB,kFAAM,MAC7B,ozBAAwB,mFAAO,MAC/B,szBAAwB,mFAAO,MAC/B,wzBAAyB,oFAAQ,MACjC,yzBAA0B,qFAAS,MAEvC,uYACwB,IAOhC,iJAAwB,KACpB,0KAA4C,mFAC5C,MACA,+IAAuB,KACnB;;;;;;;;;;;;i6CAA2F,IAE3F,uYAAgG,IAKxG,iJAAwB,KACpB,0KAA4C,sFAC5C,MACA,+IAAuB,KACnB;;;;;;;;;;;;i6CAAiG,IAEjG,uYACwB,IAMhC,iJAAwB,KACpB,0KAA4C,wFAC5C,MACA,+IAAuB,KACnB;;;;;;;;;;;;i6CACoC,IAEpC,uYACwB,IAOhC,iJAAwB,KACpB,0KAA4C,qFAC5C,MACA,+IAAuB,KACnB;;;;;;;;;;;;i6CAA+F,IAE/F,wYAAoG,IAO5G,iJAAwB,KACpB,0KAA4C,kFAC5C,MACA,+IAAuB,KACnB;;;;;;;;;;;;i6CAAyF,IAEzF,wYAA8F,IAOtG,iJAAwB,KACpB,iJAAyB,kFAAK,MAC9B,gJAAuB,KACnB;;;;;;g2CAAqD,IACjD,gzBAAiB,wFAAY,MAC7B,idAA+C,IAGnD,wYAAgG,IAOxG,iJAAwB,KACpB,iJAAyB,mFACzB,MACA,gJAAuB,KACnB;;;;;;;;;;;;i6CAA4F,IAE5F,wYAAgG,IAGhG,wYAA6F,IAOrG,iJAAwB,KACpB,2KAA6C,mFAC7C,MACA,gJAAuB,KACnB;;;;;;;;;;;;;;;ioDAC+B,IAE/B,wYAAgG,IAGhG,wYAAkG,IAO1G,wYAAwC,IAcxC,iJAAwB,KACpB,iJAAyB,wFAAW,MACpC,+IAAuB,KACnB;;;;;;;;;;;;i6CAAsE,IACtE,wYACwB,IAKhC,gJAAwB,KACpB;;;wcACkD,GAD5B,yDAA+B,IACH,8EAAM,MACxD,6PACyD,YADnC;;wBAAuB;MAA7C,wBACyD,mFAAM,MAO3E,ytBAA0D,GAArD,yDAAiC,iDA/OS,mBAAkB,OAA7D,YAA8D,EAAnB,SAAkB,GAIoB,mBAAqB,WAAtF,aAC6B,EADoC,SAAqB,GAIzE,oBAAsB,gBAA3B,aAAsE,EAAjE,SAAsB,GACtB,oBAAqB,gBAA1B,aAAwF,EAAnF,UAAqB,GAkBf,uBAAsB,EAAzC,aAAyF,EAAtE,UAAsB,GAElC,mEAAkE,0BAAzE,aAA8F,EAAvF,UAAkE,GAWL,sBAAqB,EAAzF,aACyD,EADW,UAAqB,GAQtF,kEAAgE,yBAAvE,aAAiG,EAA1F,UAAgE,GAU3D,yBAAwB,EAAhC,aAAsD,EAA9C,UAAwB,GACpB,mBAAQ,EAAhB,aAAiB,EAAT,gCAAQ,EAAhB,aAAiB,EAAT,UAAQ,GACR,uBAAY,EAApB,aAAqB,EAAb,oCAAY,EAApB,aAAqB,EAAb,UAAY,GACZ,yBAAc,EAAtB,aAAuB,EAAf,sCAAc,EAAtB,aAAuB,EAAf,UAAc,GAEnB,qEAAsE,4BAA7E,aACwB,EADjB,UAAsE,GAYzE,gCAA+B,EAAvC,aAA6D,EAArD,UAA+B,GAC3B,mBAAQ,EAAhB,aAAiB,EAAT,gCAAQ,EAAhB,aAAiB,EAAT,UAAQ,GACR,yBAAc,EAAtB,aAAuB,EAAf,sCAAc,EAAtB,aAAuB,EAAf,UAAc,GACd,0BAAe,EAAvB,aAAwB,EAAhB,uCAAe,EAAvB,aAAwB,EAAhB,UAAe,GACf,0BAAe,EAAvB,cAAwB,EAAhB,uCAAe,EAAvB,cAAwB,EAAhB,UAAe,GACf,2BAAgB,EAAxB,cAAyB,EAAjB,wCAAgB,EAAxB,cAAyB,EAAjB,UAAgB,GAChB,4BAAiB,EAAzB,cAA0B,EAAlB,yCAAiB,EAAzB,cAA0B,EAAlB,UAAiB,GAEtB,4EAAoF,mCAA3F,cACwB,EADjB,UAAoF,GAYxE,wBAAuB,EAA1C,cAA2F,EAAxE,UAAuB,GAEnC,oEAAoE,2BAA3E,cAAgG,EAAzF,UAAoE,GASxD,2BAA0B,EAA7C,cAAiG,EAA9E,UAA0B,GAEtC,uEAA0E,8BAAjF,cACwB,EADjB,UAA0E,GAW9D,6BAA4B,EAA/C,cACoC,EADjB,UAA4B,GAGxC,yEAA8E,gCAArF,cACwB,EADjB,UAA8E,GAYlE,2BAAyB,EAA5C,cAA+F,EAA5E,WAAyB,GAErC,uEAAwE,6BAA/E,cAAoG,EAA7F,WAAwE,GAW5D,wBAAsB,EAAzC,cAAyF,EAAtE,WAAsB,GAElC,oEAAkE,0BAAzE,cAA8F,EAAvF,WAAkE,GAUjE,yBAAuB,EAA/B,cAAqD,EAA7C,WAAuB,GACnB,oBAAQ,EAAhB,cAAiB,EAAT,kCAAQ,EAAhB,cAAiB,EAAT,WAAQ,GACR,qBAAyB,SAAjC,cAA+C,EAAvC,WAAyB,GAG9B,qEAAoE,2BAA3E,cAAgG,EAAzF,WAAoE,GAWvD,yBAAuB,EAA3C,cAA4F,EAAxE,WAAuB,GAEpC,qEAAoE,2BAA3E,cAAgG,EAAzF,WAAoE,GAGpE,qEAAiE,wBAAxE,cAA6F,EAAtF,WAAiE,GAWrD,yBAAuB,EAA1C,cAC+B,EADZ,WAAuB,GAGnC,qEAAoE,2BAA3E,cAAgG,EAAzF,WAAoE,GAGpE,4GAAsE,6BAA7E,cAAkG,EAA3F,WAAsE,GAOhF,sBAAe,SAApB,cAAwC,EAAnC,WAAe,GAiBF,+BAA6B,EAAvC,cAAsE,EAA5D,WAA6B,GAChC,2EAAgF,iCAAvF,cACwB,EADjB,WAAgF,GAOrE,gDAA+B,GAArD,cACkD,EAD5B,WAA+B,GAU5D,2CAAiC,GAAtC,cAA0D,EAArD,WAAiC,2BA/OlC,8sBAA8D,GA2B9C,ouBAAyF,GAazF,s0BACyD,GAiBzD,ouBAAsD,GAiB1D,ouBAA6D,GAoB7D,4uBAA2F,GAW3F,4uBAAiG,GAajG,4uBACoC,GAcpC,4uBAA+F,GAa/F,0vBAAyF,GAYzF,0vBAAqD,GAgBrD,0vBAA4F,GAgB5F,0vBAC+B,GA6B/B,0vBAAsE;;;;;;;;;;;;;;;;AChO1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;AAGL;AACT;AAMR;AAGJ;AAC8B;AAC9C;AASxB,MAAM,YAAY;IAqBvB,YAAoB,WAAwB,EAClC,SAAmB,EACnB,YAAyB,EACzB,cAA8B,EAC9B,WAAwB,EACxB,sBAA8C,EAC/C,QAAyB,EACxB,MAAc,EACd,cAA8B;QARpB,gBAAW,GAAX,WAAW,CAAa;QAClC,cAAS,GAAT,SAAS,CAAU;QACnB,iBAAY,GAAZ,YAAY,CAAa;QACzB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACxB,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC/C,aAAQ,GAAR,QAAQ,CAAiB;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QA5BjC,aAAQ,GAAiB,IAAI,4DAAY,CAAC,EAAE,GAAG,EAAE,GAAG,wEAAW,CAAC,QAAQ,YAAY,EAAE,CAAC,CAAC;QAE/F,WAAM,GAAG,+DAAM,CAAC;QAEhB,oBAAe,GAAG,KAAK,CAAC;QACxB,yBAAoB,GAAG,KAAK,CAAC;QAE7B,gBAAW,GAAY,IAAI,CAAC;QAC5B,aAAQ,GAAQ,IAAI,CAAC;QACrB,WAAM,GAAY,KAAK,CAAC;QACxB,QAAG,GAAW,GAAG,wEAAW,CAAC,QAAQ,iBAAiB,CAAC;QAEvD,wBAAmB,GAAsB,EAAE,CAAC;QAE5C,cAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;QACjC,4BAA4B;QAC5B,YAAO,GAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,GAAG,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;QACxF,YAAO,GAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,CAAC;IAa7H,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,qCAAqC;QAErC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAC5C,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YAC/B,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAChC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,iBAAiB,GAAG,CAAC,IAAI,EAAE,EAAE;YACzC,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACvD;YACD,IAAI,CAAC,SAAS,GAAG,CAAC,GAAQ,EAAE,EAAE;gBAC5B,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YAC/C,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IAGM,gBAAgB,CAAC,IAAY,EAAE,OAAe;QACnD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACjC,IAAI,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,UAAU,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACrC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAClC,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,OAAO,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAClC,KAAK,EAAE,CAAC,EAAE,CAAC;YACX,IAAI,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,aAAa,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACxC,KAAK,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAChC,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,KAAK,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAChC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5D,GAAG,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC9B,MAAM,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACjC,WAAW,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACtC,IAAI,EAAE,CAAC,SAAS,CAAC;SAElB,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEtC,WAAW;QACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,gCAAgC;YAChC,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,qBAAqB;gBAC7D,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,6BAA6B;gBACnE,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,MAAM,CAAC;aACvC;YACD,OAAO;SACR;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,OAAO;SACR;QAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YAC3E,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,wBAAwB;gBACxB,IAAI,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBACtB,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,gCAAgC,CAAC;gBAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;aACvC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU;QACR,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;IACjC,CAAC;IAGD,UAAU,CAAC,EAAE;QACX,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACrD,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC5B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAG9B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;oBACnB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI;oBAChC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU;oBACvC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;oBACzC,GAAG,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;oBACnC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM;oBAC/B,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,aAAa;oBAC7C,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;oBAC7B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK;oBAClC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ;oBACxC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO;oBACtC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI;oBAChC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK;oBAClC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK;oBAClC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK;iBAEnC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;QACH,CAAC,CAAC;IACJ,CAAC;IAED,eAAe;IACf,UAAU;QACR,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QAEjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;QACvC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;QACnC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC;QAClE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;QACnC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;QAEnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACjE,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,aAAa,EAAE,CAAC;aACtB;iBACI;gBACH,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;gBACnD,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;gBACtB,yCAAyC;aAC1C;QACH,CAAC,CAAC;IACJ,CAAC;IAED,kBAAkB;IAClB,aAAa;QACX,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACvF,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,wBAAwB;gBACxB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,+BAA+B,CAAC,CAAC;gBAClE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;gBACtB,yCAAyC;aAC1C;iBACI;gBACH,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;gBACnD,yCAAyC;gBACzC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;aAEvB;QACH,CAAC,CAAC;IACJ,CAAC;IAED,iCAAiC;IACjC,gHAAgH;IAChH,+FAA+F;IAC/F,mGAAmG;IACnG,oHAAoH;IACpH,2FAA2F;IAC3F,4FAA4F;IAC5F,IAAI;IAIJ,wBAAwB;IACxB,kBAAkB;QAChB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAC1C,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACrC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACxC,kBAAkB,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;SAChD,EAAE;YACD,SAAS,EAAE,iGAAwB,CAAC,aAAa,EAAE,oBAAoB,CAAC;SACzE,CAAC,CAAC;IACL,CAAC;IAED,IAAI,EAAE,KAAK,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;IAE/C,yCAAyC;IACzC,oBAAoB;QAClB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;YAC7B,OAAO;SACR;QAED,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC9E,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACvB,kDAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;gBAC1B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;aACnC;iBAAM;gBACL,kDAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,0BAA0B,GAAG,CAAC;aACjF;QACH,CAAC,EAAE,GAAG,CAAC,EAAE;YACP,kDAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,mBAAmB,GAAG,CAAC;QAC3E,CAAC,CAAC,CAAC;IACL,CAAC;CAEF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wGChM2B,0KAA6E,YAA5B;;wBAA2B;MAA5E,wBAA6E,KACzE,sHAAI,gFAAQ,MACZ,sHAAI,gFAAsB,MAC1B,sHAAI,4IAAiC,IACrC,sHAAI,gFAAY,iCAHZ,+DAAQ,GACR,8EAAsB,GACtB,sOAAiC,GACjC,oEAAY;wGA1EhD,wHAAuB,KACvB,wIAAiB,KAEb,sJAA+B,KAC3B,wIAAkB,KACd,6IAAuB,KACnB,mJAA6B,KACzB,yKAAmD,kJAAuB,KAC1E,4JAAsC,KAClC,wIAAkB,iFAAkB,MACpC,oJAA6B,oFAAO,MAQxD,uJAA+B,KAC3B,yIAAkB,KACd,8IAAuB,KACnB,oJAA6B,KACzB,uKAAgD,sJAA0B,KAC1E,6JAAsC,KAClC,yIAAkB,iFAAoB,MACtC,oJAA6B,yFAAY,MAQ7D,uJAA+B,KAC3B,yIAAkB,KACd,8IAAuB,KACnB,oJAA6B,KACzB,yKAAkD,sJAA0B,KAC5E,6JAAsC,KAClC,yIAAkB,iFAAc,MAChC,oJAA6B,mFAAM,MAY3D,yIAAiB,KACb,+IAAuB,KACnB,0IAAkB,KACd,+IAAuB,KACnB,oJAA6B,wGAA2B,MACxD,6IAAsB,oHAAuC,MAC7D,sJAA8B,KAC1B,6IAAqB,KACjB,0HAAO,KACH,uHAAI,KACA,uHAAI,8EAAC,MACL,uHAAI,mFAAM,MACV,uHAAI,iFAAI,MACR,uHAAI,mFAAM,MAIlB,0HAAO,KACH,qdAA6E,iDAAzE,mBAA4C,eAAhD,aAA6E,EAAzE,SAA4C,mDA7DlC,4DAAkB,GAelB,8DAAoB,GAepB,wDAAc;wGAiDxD,0eAAyB;oRAxFzB,2YAAuB,IAwFvB,2YAAyB,iDAxFpB,oBAAiB,WAAtB,YAAuB,EAAlB,SAAiB,GAwFd,mBAAgB,WAAxB,YAAyB,EAAjB,SAAgB;;;;;;;;;;;;;;;;ACxFxB;AAAA;AAAA;AAAyE;AAYlE,MAAM,kBAAkB;IAW7B,YAAoB,gBAAkC,EAC5C,MAAc;QADJ,qBAAgB,GAAhB,gBAAgB,CAAkB;QAC5C,WAAM,GAAN,MAAM,CAAQ;QAXxB,aAAQ,GAAG,KAAK,CAAC;QACV,mBAAc,GAAG,CAAC,CAAC;QACnB,qBAAgB,GAAG,CAAC,CAAC;QACrB,eAAU,GAAG,CAAC,CAAC;QACf,iBAAY,GAAkB,EAAE,CAAC;IAOZ,CAAC;IAE7B,QAAQ;QACN,IAAI,CAAC,OAAO,EAAE,CAAC;IAGjB,CAAC;IACD,OAAO;QACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YAC7E,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;gBACzC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;gBAC7C,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;gBAC1C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;QACH,CAAC,CAAC;IACJ,CAAC;IACD,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;IACzC,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uGCiO+C,+NACuG,KACnG,iJAA2B,KAAI,gFACnC;uGACA,+NACuG,KACnG,iJAA2B,KAAI,kFACnC;uGACA,+NACuG,KACnG,uJAAiC,KAAI,gFACzC;uGACA,+NACuG,KACnG,kJAA4B,KAAI,8EACpC;uGApCZ,sKAC+C,KAC3C,2LAAqE,iFACrE,MACA,mKAA6C,KACzC,6JAAuC,gFAAc,MAEzD,+KAAyD,KACrD,yMACiF,kFAEjF,MAEJ,+KAAyD,KACrD,4MACmF,wFAEnF,MAEJ,oKAA6C,KACzC,wKAAiD,KAC7C,2YACuG,IAGvG,2YACuG,IAGvG,2YACuG,IAGvG,2YACuG,yBAbjG,yGAA2B,mCAAjC,aACuG,EADjG,SAA2B,GAI3B,yGAA6B,qCAAnC,aACuG,EADjG,SAA6B,GAI7B,yGAA2B,mCAAjC,aACuG,EADjG,SAA2B,GAI3B,yGAAyB,iCAA/B,aACuG,EADjG,SAAyB,2BA/B8B,+DACrE,GAE2C,4GAAc,GAI4B,gHAEjF,GAImF,6GAEnF;uGAjD5B,yMACgE,KAC5D,wLAAkE,KAC9D,qLAA+D,KAC3D,qKAA+C,KAAI,8FAEvD,MAGJ,wIAAiB,KACb,oJAA6B,KACzB,6JAAsC,KAClC,0HAAO,KACH,8IAAuB,KACnB,0MACmF,+EAC9E,MACL,0MACmF,wFACrE,MACd,4MACqF,sFACzE,MACZ,4MACqF,sFACzE,MACZ,4MACqF,oFAC3E,MAGlB,0HAAO,KACH,odAC+C,iDAD3C,mBAAsD,qBAA1D,aAC+C,EAD3C,SAAsD;uGA+C9E,wMACmE,KAC/D,sJAAgC,KAC5B,yKAAmD,KAEvD,yKAAmD,4FAAe,MAClE,+IAAyB,gIAAmD;uGAahF,kJAA6D,KACzD,uPAC6H,KACzH,kJAA4B,KAAI,8EAEpC,MACA,oPAC0H,KACtH,kJAA4B,KAAI,8EAEpC;mRArUpB,4MAAoF,KAChF,uJAA+B,KAG3B,wLAAiE,KAE7D,2OAAoH,KAChH,0NAAmG,KAE/F,2IAAoB,KAChB,0JAAoC,KAChC,6LAAuE,KACvE,mMAA6E,kFAC7C,MAEpC,gLAAwD,KACpD,oJAA6B,KACzB,wKAAiD,KACjD,iJAA0B,iFAA+B,MAE7D,oJAA6B,KACzB,8JAAuC,KACvC,yHAAM,uFAA2D,MAErE,oJAA6B,KACzB,+JAAwC,KACxC,yHAAM,iFAA6B,MAM/C,+LAAuE,KACnE,wLAAiE,KAC7D,6LAAsE,KACtE,wHAAK,KACD,mKAA4C,gGAAmB,MAC/D,4LAAqE,qFACpC,MAGzC,sKAA8C,KAC1C,iLAA0D,KACtD,sKAA+C,KAC/C,yHAAM,8IAAyC,IAEnD,sLAA+D,KAC3D,+JAAwC,KACxC,yHAAM,8IAA0C,IAQxE,4KAAmD,KAG/C,6JAAqC,KAGjC,8LAAsE,KAClE,8LAAuE,KACnE,wKAAiD,KAAI,uFAEzD,MACA,+IAAuB,KACnB,yJAAkC,KAC9B,mJAA4B,kFAAK,MACjC,iJAA0B,8IAA0C,IAExE,yJAAkC,KAC9B,mJAA4B,kFAAK,MACjC,iJAA0B,8IAA0C,IAExE,yJAAkC,KAC9B,mJAA4B,kFAAK,MACjC,0MACiF,sFAAS,MAMtG,8LAAsE,KAClE,8LAAuE,KACnE,mKAA4C,KAAI,uFAEpD,MACA,8IAAuB,KACnB,gRACqJ,KACjJ,oJAA6B,KAAI,sFAErC,MACA,kRACuJ,KACnJ,oJAA6B,KAAI,sFAErC,MACA,+QACoJ,KAChJ,uJAAgC,KAAI,sFAExC,MAMZ,6JAAqC,KAGjC,0MAAkF,KAC9E,0LAAmE,KAC/D,sLAA+D,KAC3D,0JAAmC,KAAI,4FAE3C,MAGJ,mJAA2B,KAEvB,yLAAkE,KAC9D,qLAA8D,KAC1D,mKAA4C,KAAI,8FAEpD,MACA,gKAAyC,iFACzB,MAIpB,2LAAoE,KAChE,sLAA+D,KAC3D,sJAA+B,KAAI,yGAEvC,MACA,gKAAyC,iFACxB,MAIrB,gMAAwE,KACpE,yLAAiE,KAC7D,sJAA8B,KAAI,8FAEtC,MACA,iKAAyC,kFACxB,MAIrB,gMAAwE,KACpE,yLAAiE,KAC7D,qJAA6B,KAAI,wFAErC,MACA,iKAAyC,kFAA8C,MAMnG,2MAAkF,KAC9E,8LAAsE,KAClE,uLAA+D,KAC3D,yJAAiC,KAAI,+FAEzC,MAGJ,oJAA2B,KAEvB,gMAAwE,KACpE,yLAAiE,KAC7D,2JAAmC,KAAI,+FAE3C,MACA,iKAAyC,kFACrB,MAIxB,8LAAsE,KAClE,wLAAgE,KAC5D,4JAAoC,KAAI,yFAE5C,MACA,iKAAyC,mFACzC,MAIJ,4LAAoE,KAChE,uLAA+D,KAC3D,qJAA6B,KAAI,wFAErC,MACA,iKAAyC,kFACxB,MAIrB,kMAA0E,KACtE,0LAAkE,KAC9D,0JAAkC,KAAI,iFAE1C,MACA,iKAAyC,mFACzC,MAMZ,4YACgE,IA8EhE,4YACmE,IAW3E,oMAA2E,KACvE,wKAA+C,KAC3C,2JAAmC,KAC/B,uHAAG,iOACmB,IACtB,uHAAG,iGAAyC,MAEhD,ytBAA6D,GAAxD,yDAAgC,iDAjGjC,8EAA2D,IAD/D,cACgE,EAA5D,UAA2D,GA+E3D,iFAA8D,IADlE,cACmE,EAA/D,UAA8D,GAkB7D,yCAAgC,GAArC,cAA6D,EAAxD,UAAgC,mDA/SoD,iJAC7C,GAKF,oJAA+B,GAInD,sRAA2D,GAI3D,kJAA6B,GAWkC,mJACpC,GAM3B,wPAAyC,GAIzC,yPAA0C,GAsB1B,yPAA0C,GAI1C,yPAA0C,GAuD3B,mIACzB,GASyB,6IACxB,GASwB,qIACxB,GASwB,8HAA8C,GAqB9C,6IACrB,GASqB,kIACzC,GASyC,4IACxB,GASwB,kIACzC,GAoGL,6eACmB,GACnB,0GAAyC;;;;;;;;;;;;;;;;AC1ThE;AAAA;AAAA;AAAkD;AAW3C,MAAM,iBAAiB;IAS5B,YACU,cAA8B,EAC9B,cAA8B;QAD9B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,mBAAc,GAAd,cAAc,CAAgB;QANxC,uBAAkB,GAAmB,EAAE,CAAC;IAMK,CAAC;IAE9C,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAC5C,IAAI,CAAC,UAAU,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YACjC,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACnC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yBAAyB;IACzB,WAAW,CAAC,EAAE;QACZ,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC/D,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;aACtD;QACH,CAAC,CAAC;IACJ,CAAC;CAIF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sGC3CG,sLAAuF,KACnF,kMAA2E,KACvE,wIAAkB,KACd,mNAA6F,KACzF,qOAAwF,KACpF,iWACkJ,KAI1J,wKAAkD,8FAAiB,MACnE,oJAA8B,gFAAkB,MAChD,6JAAsC,4JACtB,MAEpB,2SAEmC,YAA/B;;wBAA8B;MAFlC,wBAEmC,4FAEnC,yDARkC,yDAAkB;sGAwB5C,oJAA6E,KACzE,+IAAyB,4GAA+B,MACxD,4JAAsC,8PAAyC;sGAgB/D,6RAE4B,YAFa;;wBAAiC;MAA1E,wBAE4B,KACxB,wNAA2E,KACvE,sOACuB;sGAG/B,0RAE2B,YAFc;;wBAA0B;MAAnE,wBAE2B,KACvB,wNAA2E,KACvE,oVACqI;sGAUrJ,yKACkD,yGAElD;uGAUQ,6RAE8B,YAFW;;wBAA6B;MAAtE,wBAE8B,KAC1B,wNAA2E,KACvE,oVACqI;uGAbrJ,6KACsD,KAClD,yNACkG,KAC9F,oRACwG,YADlG;;wBAA8B;MAApC,wBACwG,kFAExG,MACA,utBAE8B,GAFtB,sHAAgC,GAAxC,YAE8B,EAFtB,SAAgC,2BAHgE,2HAExG;sGAbZ,4IAAkD,KAC9C,yYACkD,IAIlD,mdACsD,yBANjD,sHAAwD,IAA7D,YACkD,EAD7C,SAAwD,GAKxD,kBAAkD,yCAAvD,YACsD,EADjD,SAAkD;sGAvC/D,sLAC8D,KAG1D,gMAAyE,KACrE,yKAAmD,KAC/C,wRAC0G,YADlG;;wBAAgC;MAAxC,wBAC0G,kFAE1G,MACA,oKAA8C,KAC1C,stBAE4B,GAFpB,uDAAgC,IAQxC,utBAE2B,GAFnB,wDAAgC,IAcpD,0YAAkD,iDAtB9B,sCAAgC,GAAxC,YAE4B,EAFpB,SAAgC,GAQhC,uCAAgC,GAAxC,aAE2B,EAFnB,SAAgC,GAc9B,yCAA2B,iBAAjD,aAAkD,EAA5B,SAA2B,2BA1BiE,8FAE1G;sGAVhB,6IAAmE,KAC/D,kdAC8D,iDADzD,mBAA4C,aAAjD,YAC8D,EADzD,SAA4C;uGA+DrD,wIAAmD,KAC/C,qVACuK,YAD/J;;wBAAoC;MAA5C,wBACuK,KACnK,wNAA2E,KACvE,sOACuB,KAE3B,wHAAM,yFAAY;uGAOlC,4JAAuD,KACnD,gMAA0E;uGAkC1D;;;mcAEqI,GADjI,uDAA+D,IAE/D,wNAA2E,KACvE,sOACuB,KAE3B,wHAAM,0FAAa,mDANnB,sHAA+D,uBADnE,YAEqI,EADjI,SAA+D;uGAFvE,wHAAoC,KAChC,utBAEqI,GAF7H,sMAAgC,GAAxC,YAEqI,EAF7H,SAAgC;uGAYxC;;wBAEuI;MAF9F;;wBAA4B;MAArE,6bAEuI,GADnI,uDAAgG,IAEhG,wNAA2E,KACvE,sOACuB,KAE3B,wHAAM,0FAAa,mDANnB,kMAAgG,uBADpG,YAEuI,EADnI,SAAgG;uGAFxG,wHAAmC,KAC/B,utBAEuI,GAF/H,sMAAgC,GAAxC,YAEuI,EAF/H,SAAgC;uGAgBpD,qJAAkF,KAC9E,oNAA8F,KAC1F,sOAAyF,KACrF,4UAC6H,KAIrI,yKAAmD,8FAAiB,MACpE,+IAAyB,yHAA4C;uGAiCzD,6RAC+G,YADtE;;wBAA0B;MAAnE,wBAC+G,KAC3G,wNAA2E,KACvE,oVACqI;uGAjCzJ,8NACsG,KAClG,wIAAiB,KACb,sKAA+C,KAC3C;;;mcACgF,GADxE,uDAAwC,IAE5C,2KAAqD,kFAErD,MACA,sLAA+D,KAC3D,uKAAiD,mFAEjD,MACA,wKAAiD,mFAEjD,MACA,iKAA0C,KACtC,yNACwB,KACpB,+SAE+F,KAGnG,yHAAM,8IAA2C,IAK7D,wtBAC+G,GADvG,wDAAgC,yBAzBhC,4CAAwC,yBAAhD,YACgF,EADxE,SAAwC,GAyBxC,uCAAgC,GAAxC,aAC+G,EADvG,SAAgC,2BAvBiB,sHAErD,GAEqD,wHAEjD,GACiD,2HAEjD,GASU,oRAA2C;uGAuBrE,qTACuI,YAD9G;;wBAA+B;MAAxD,wBACuI,uFAEvI;uGAGI,+LAC+M,YADvK;;wBAAwB;MAAhE,wBAC+M,gFAE/M,yDAFI,uNAA0M,GAD9M,YAC+M,EAA3M,SAA0M;uGAI9M,+LAC+M,YADvK;;wBAAwB;MAAhE,wBAC+M,gFAE/M,yDAFI,uNAA0M,GAD9M,YAC+M,EAA3M,SAA0M;uGAI9M,+LAC+M,YADvK;;wBAAwB;MAAhE,wBAC+M,gFAE/M,yDAFI,uNAA0M,GAD9M,YAC+M,EAA3M,SAA0M;uGAKlN,qTAEuI,YADnI;;wBAA+B;MADnC,wBAEuI,mFAEvI;uGA7BZ,uKAA2E,KACvE,sKAA+C,KAC3C,gKAAyC,KACrC,0YACuI,IAIvI,kJAA4B,KACxB,0YAC+M,IAI/M,0YAC+M,IAI/M,2YAC+M,IAKnN,2YAEuI,iDAxB/H,6BAAgB,GAAxB,YACuI,EAD/H,SAAgB,GAMZ,kDAA+B,GAAvC,YAC+M,EADvM,SAA+B,GAK/B,kDAA+B,GAAvC,YAC+M,EADvM,SAA+B,GAK/B,kDAA+B,GAAvC,aAC+M,EADvM,SAA+B,GAMnC,mGAAmE,MAA3E,aAEuI,EAF/H,SAAmE;uGAgB3F,4JAAuD,KACnD,gMAA0E;sGAjQtF,wKAA0E,KAGtE,sJAA+B,KAC3B,yMAAkF,KAC9E,wLAAkE,KAC9D,mKAA6C,+FAAkB,MAGnE,iLAA2D,KAEvD,yYAA6E,IAM7E,0YAAmE,IAgEnE,wtBAAmD,GAA9C,wDAAgC,IAc7C,2YAAuD,IAM3D,uJAA+B,KAC3B,0LAAkE,KAC9D,kKAA0C,KACtC,2KAAoD,KAChD,oKAA6C,mFAE7C,MACA,wRACyG,YADjG;;wBAAmB;MAA3B,wBACyG,KACrG,iJAA0B,oFAAO,MACjC,yNAA2E,KACvE,oUACoH,KAMhI,uKAA+C,KAC3C,gKAAyC,KACrC,2JAAoC,uFAAU,MAC9C,0MAAmF,mFAEnF,MAIJ,mJAA4B,KACxB,2YAAoC,IAYpC,2YAAmC,IAgB/C,wIAAiB,KACb,2YAAkF,IAYlF,8IAAuB,KACnB,odACsG,IA2C9G,2YAA2E,IAyC/E,2YAAuD,iDArP1C,gEAA8C,IAAnD,YAA6E,EAAxE,SAA8C,GAM5B,6DAA2C,IAAlE,aAAmE,EAA5C,SAA2C,GAgE7D,uCAAgC,GAArC,aAAmD,EAA9C,SAAgC,GAcxC,mBAAgB,WAArB,aAAuD,EAAlD,SAAgB,GAkCS,oBAAqB,eAAnC,aAAoC,EAAtB,SAAqB,GAYrB,mBAAoB,eAAlC,aAAmC,EAArB,SAAoB,GAiBrC,sEAAkD,IAAvD,aAAkF,EAA7E,SAAkD,GAa9C,mBAAiD,YAAtD,aACsG,EADjG,SAAiD,GA4CzD,sCAA0B,SAA/B,aAA2E,EAAtE,UAA0B,GAyC9B,oBAAgB,WAArB,aAAuD,EAAlD,UAAgB,mDAvJoC,iMAE7C,GAeuF,iEAEnF;uGA+JR,qKAC4C,wGAE5C;uGArBhB,mLAA4D,KACxD,kMAA4E,KACxE,sKAAgD,6FAAgB,MAChE,2PAAqG,YAA7F;;wBAAmB;MAA3B,wBAAqG,KACjG,wNAA2E,KACvE,4OAA+F,KAM3G,kMAAgD,YAA/B;;wBAA8B;MAA/C,wBAAgD,KAC5C;;;;;;ozBAAyB,IACrB,0IAAkB,KACd,mLAA4D,0FAAa,MACzE;;;;;;;;;;;;85CAEsC,IACtC,2YAC4C,IAOxD,4LAAqE,KACjE,2RAC4G,YADpG;;wBAAmB;MAA3B,wBAC4G,qFAE5G,MACA,wRACyG,YADjG;;wBAAwB;MAAhC,wBACyG,4FAEzG,mDAtBM,mBAAkB,OAAxB,aAAyB,EAAnB,SAAkB,GAGT,2BAA0B,EAAjC,aAEsC,EAF/B,UAA0B,GAG1B,uEAA0E,8BAAjF,aAC4C,EADrC,UAA0E,2BANzF,qtBAAyB,GAGjB,guBAEsC;uGA4CtC,qKAC4C,uGAE5C;uGAvBhB,mLAA4D,KACxD,kMAA4E,KACxE,sKAAgD,4FAAe,MAC/D,2PAAqG,YAA7F;;wBAAmB;MAA3B,wBAAqG,KACjG,wNAA2E,KACvE,4OAA+F,KAM3G,kMAAmD,YAAlC;;wBAAiC;MAAlD,wBAAmD,KAC/C;;;;;;ozBAA0B,IACtB,0IAAkB,KACd,mLAA4D,kGAE5D,MACA;;;;;;;;;;;;85CAEqC,IACrC,2YAC4C,IAOxD,4LAAqE,KACjE,2RAC4G,YADpG;;wBAAmB;MAA3B,wBAC4G,qFAE5G,MACA,wRACyG,YADjG;;wBAA2B;MAAnC,wBACyG,2FAEzG,mDAxBM,mBAAmB,QAAzB,aAA0B,EAApB,SAAmB,GAKV,0BAAyB,EAAhC,aAEqC,EAF9B,UAAyB,GAGzB,uEAA0E,8BAAjF,aAC4C,EADrC,UAA0E,mDARzF,qtBAA0B,GAE0C,2IAE5D,GACA,kuBAEqC;wdA/VzD,2JAAqC,KAEjC,yYAAuF,IAwBvF,yYAA0E,IAwQ9E,kJAAyC,KAyCzC,8IAAqC,kDAzU5B,mBAAuB,kBAA5B,YAAuF,EAAlF,SAAuB,GAwBvB,oBAAwB,kBAA7B,YAA0E,EAArE,SAAwB;;;;;;;;;;;;;;;;AC3BjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0E;AAGN;AAKrC;AAUxB,MAAM,gBAAgB;IA+B3B,YACU,sBAA8C,EAC9C,cAA8B,EAC9B,cAA8B,EAC9B,MAAc,EACd,WAAwB,EACxB,QAAyB,EACzB,KAAe;QANf,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,aAAQ,GAAR,QAAQ,CAAiB;QACzB,UAAK,GAAL,KAAK,CAAU;QArCzB,aAAQ,GAAY,KAAK,CAAC;QAC1B,oBAAe,GAAY,KAAK,CAAC,CAAC,mCAAmC;QACrE,iBAAY,GAAW,EAAE,CAAC,CAAC,yBAAyB;QACpD,SAAI,GAAG,CAAC,CAAC;QACT,UAAK,GAAG,EAAE,CAAC;QACX,eAAU,GAAG,CAAC,CAAC;QACf,UAAK,GAAG;YACN,eAAe,EAAE,MAAM;YACvB,kBAAkB,EAAE,MAAM;SAC3B,CAAC;QACF,aAAQ,GAAG;YACT,eAAe,EAAE,MAAM;YACvB,kBAAkB,EAAE,MAAM;SAC3B,CAAC;QAWF,kBAAa,GAAG,IAAI,CAAC;QACrB,wBAAmB,GAAW,MAAM,CAAC;QACrC,mBAAc,GAAY,IAAI,CAAC;QAC/B,iBAAY,GAAY,KAAK,CAAC;IAW3B,CAAC;IAKJ,QAAQ;QACN,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC9C,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4DAA4D;IAC5D,kBAAkB;QAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,8BAA8B,CAAC,CAAC;YAC/D,OAAO;SACR;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAC9D,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;gBAC5C,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,gCAAgC,CAAC,CAAC;aACjE;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,kDAAkD,CAAC,CAAC;aACpF;QACH,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,gDAAgD,CAAC,CAAC;YACjF,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,kCAAkC;IAClC,MAAM;QACJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACjC,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,OAAO,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC;SAC1B,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC5B,CAAC;IAED,UAAU;QACR,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CACnD,CAAC,GAAoB,EAAE,EAAE;YACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACzC,IAAI,CAAC,aAAa,EAAE,CAAC;aACtB;iBAAM,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;gBACrC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;aACnD;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,+BAA+B,CAAC,CAAC;aACjE;QACH,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,gDAAgD,CAAC,CAAC;YACjF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAC7C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,aAAa;QACX,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,sBAAsB,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAC3F,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC;aAC5B;iBAAM;gBACL,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;aACtB;YAED,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,EAAE;QACb,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC;QACvD,IAAI,CAAC,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAC7D,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAC3G,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBAC9B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;aAClC;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;aACrB;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IAED,OAAO;QACL,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,QAAQ,CAAC,eAAe,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAC7D,IAAI,CAAC,cAAc,CAAC,8BAA8B,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACvF,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAClC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,qBAAqB,CAAC,CAAC;aACzD;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,uBAAuB,CAAC,CAAC;aACzD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,KAAK;QACjB,kDAAI,CAAC,IAAI,CAAC;YACR,KAAK,EAAE,eAAe;YACtB,IAAI,EAAE,gDAAgD;YACtD,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,iBAAiB;YACpC,gBAAgB,EAAE,aAAa;SAChC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,MAAM,CAAC,KAAK,EAAE;gBAChB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBAC7B,kDAAI,CAAC,IAAI,CAAC,UAAU,EAAE,oBAAoB,EAAE,SAAS,CAAC,CAAC;aACxD;iBAAM,IAAI,MAAM,CAAC,OAAO,KAAK,kDAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACvD,kDAAI,CAAC,IAAI,CAAC,WAAW,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;aACnD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,IAAI,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAED,gBAAgB,CAAC,KAAK;QACpB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACnF,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;aAChF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wBAAwB;QACtB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACnE,CAAC;IAED,oBAAoB,CAAC,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAC/D,CAAC;IAED,mBAAmB,CAAC,CAAC;QACnB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;QACxD,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACpC,CAAC;IAED,iBAAiB,CAAC,KAAK;QACrB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;YAC1D,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC;YAC5F,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,mBAAmB,CAAC;YACxD,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACnC;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,OAAO;SACR;QACD,IAAI,CAAC,sBAAsB,CAAC,cAAc,mBAAM,IAAI,CAAC,IAAI,CAAC,KAAK,IAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,IAAG,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACnH,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;gBAClB,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;aACrD;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,aAAa,CAAC,KAAK;QACjB,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;QAC/D,IAAI,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACnG,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;gBAClF,IAAI,CAAC,sBAAsB,EAAE,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,kBAAkB,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBACpE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;SACF;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAClC,OAAO,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACnC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,EAAE;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;IAC7B,CAAC;IAED,eAAe;QACb,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,OAAO;SACR;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACzE,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC;QACjD,IAAI,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAChH,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;aACpD;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,gBAAgB,CAAC,CAAC;QAChB,kDAAI,CAAC,IAAI,CAAC;YACR,KAAK,EAAE,eAAe;YACtB,IAAI,EAAE,8CAA8C;YACpD,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,iBAAiB;YACpC,gBAAgB,EAAE,aAAa;SAChC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,MAAM,CAAC,KAAK,EAAE;gBAChB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBACzB,kDAAI,CAAC,IAAI,CAAC,UAAU,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAAC;aACtD;iBAAM,IAAI,MAAM,CAAC,OAAO,KAAK,kDAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACvD,kDAAI,CAAC,IAAI,CAAC,WAAW,EAAE,wBAAwB,EAAE,OAAO,CAAC,CAAC;aAC3D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,CAAC;QAChB,IAAI,CAAC,QAAQ,CAAC,kBAAkB,GAAG,CAAC,CAAC;QACrC,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACnD,QAAQ,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC3E,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC;QACjD,IAAI,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACrF,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,IAAI,CAAC,sBAAsB,EAAE,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IAEM,gBAAgB,CAAC,IAAY,EAAE,OAAe;QACnD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,aAAa,CAAC,KAAK;QACjB,kDAAI,CAAC,IAAI,CAAC;YACR,KAAK,EAAE,eAAe;YACtB,IAAI,EAAE,4CAA4C;YAClD,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,iBAAiB;YACpC,gBAAgB,EAAE,aAAa;SAChC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,MAAM,CAAC,KAAK,EAAE;gBAChB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC1B,kDAAI,CAAC,IAAI,CAAC,UAAU,EAAE,wBAAwB,EAAE,SAAS,CAAC,CAAC;aAC5D;iBAAM,IAAI,MAAM,CAAC,OAAO,KAAK,kDAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACvD,kDAAI,CAAC,IAAI,CAAC,WAAW,EAAE,uBAAuB,EAAE,OAAO,CAAC,CAAC;aAC1D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;;;;;;;;;;;;AClXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACW;AACf;AACY;AACA;AACc;AACX;AACG;AAMrE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE;YACR,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,8EAAiB,EAAE;YAC1C,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,+DAAY,EAAE;YACxC,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,+DAAY,EAAE;YAC7C,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,iFAAkB,EAAE;YAC/C;gBACE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE;oBACrB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,2EAAgB,EAAE;oBACzC,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,2EAAgB,EAAE;oBAChD,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,8EAAiB,EAAE;oBAC9D,EAAE,IAAI,EAAE,2BAA2B,EAAE,SAAS,EAAE,yFAAoB,EAAE;oBACtE,EAAE,IAAI,EAAE,yCAAyC,EAAE,SAAS,EAAE,yFAAoB,EAAE;iBAErF;aACF;YACD;gBACE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE;oBAC7B,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,2EAAgB,EAAE;oBACzC,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,2EAAgB,EAAE;oBAChD,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,8EAAiB,EAAE;iBAC/D;aACF;SACF;KACF;CACF,CAAC;AAMK,MAAM,oBAAoB;CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHrC;AAAA;AAAO,MAAM,aAAa;CAAI;;;;;;;;;;;;;;;;;;;ACvCvB,MAAM,cAAc;IACzB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAI,CAAC;IAC/C,IAAI,CAAC,OAAO;QACV,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,mBAAmB,EAAE,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAE,EAAE,MAAM,GAAG,IAAI;QACrC,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,qBAAqB,IAAI,UAAU,KAAK,WAAW,MAAM,EAAE,CAAC,CAAC;IAC1F,CAAC;IAED,OAAO,CAAC,EAAE;QACR,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;IACnD,CAAC;IAED,kBAAkB,CAAC,EAAE;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,2BAA2B,EAAE,EAAE,CAAC,CAAC;IAC9D,CAAC;IACD,aAAa,CAAC,KAAK;QACjB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,2BAA2B,KAAK,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,aAAa,CAAC,EAAE,EAAE,KAAU;QAC1B,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,qBAAqB,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;IAC/D,CAAC;IAED,iBAAiB;IACjB,WAAW,CAAC,KAAK;QACf,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,gCAAgC;IAChC,qBAAqB,CAAC,EAAE,EAAE,KAAK,GAAG,IAAI,EAAE,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAE;QAC1D,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,IAAI,UAAU,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;IACxF,CAAC;IAKD,iBAAiB,CAAC,EAAE;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;IACnD,CAAC;IAED,cAAc,CAAC,EAAE,EAAE,KAAU;QAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;IAC1D,CAAC;IAED,cAAc,CAAC,EAAE;QACf,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;IACtD,CAAC;IAED,8BAA8B,CAAC,KAAK,GAAG,IAAI;QACzC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;IACpE,CAAC;IAED,kBAAkB,CAAC,EAAE,EAAE,KAAU;QAC/B,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,0BAA0B,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;IACpE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6GCzDiB,mKAA+F,KAC3F,mOAAuE,YAA/D;;wBAAmB;MAA3B,wBAAuE,iLAClB,KAAI,sFAAc;6GAgCnD,4MACuD,YAAnD;;wBAA2B;MAD/B,wBACuD,KACnD,4IAAsB,gFAAwB,MAE9C,sHAAI,4IAAoC,IACxC,sHAAI,6IAAwC,IAC5C,sHAAI,mFAAoB,MACxB,uHAAI,8IAA0C,uDALxB,0FAAwB,GAE1C,2QAAoC,GACpC,mOAAwC,GACxC,iHAAoB,GACpB,wOAA0C;6GAkB1D,4IAAuC,KACnC,2PAC0B,YADL;;wBAAgC;MAArD,wBAC0B,KACtB,+IAAyB,mFAAO,MAChC,4IAAsB,qFAAQ;6GAItC,gMACoC,YADoB;;wBAAwB;MAAhF,ksBACoC,GADd,mEAAiC,MAEnD,2KAA+C,8EAAC,mDAFhD,2BAAiB,EAAC,4CAAiC,IAAvD,YACoC,EADhC,SAAiB,EAAC,SAAiC;6GAMvD,szBACoC,GADd,mEAAiC,MAEnD,+NAAwE,YAAzB;;wBAAwB;MAAvE,wBAAwE,8EAAC,mDAFzE,2BAAiB,EAAC,4CAAiC,IAAvD,YACoC,EADhC,SAAiB,EAAC,SAAiC;6GAMvD,szBACoC,GADd,mEAAiC,MAEnD,+NAAwE,YAAzB;;wBAAwB;MAAvE,wBAAwE,8EAAC,mDAFzE,2BAAiB,EAAC,4CAAiC,IAAvD,YACoC,EADhC,SAAiB,EAAC,SAAiC;6GAKvD,szBACwE,GADlD,mEAAgC,MAElD,uPACsB,YADD;;wBAAgC;MAArD,wBACsB,KAClB,+IAAyB,mFAAO,MAChC,4IAAsB,iFAAI,mDAL9B,2BAAiB,EAAC,2CAAgC,IAAtD,YACwE,EADpE,SAAiB,EAAC,SAAgC;6GA1B1D,8IAAkD,KAC9C,gZAAuC,IAQvC,gZACoC,IAKpC,gZACoC,IAKpC,gZACoC,IAIpC,iZACwE,iDA1BlD,6BAAgB,GAAtC,YAAuC,EAAjB,SAAgB,GASlC,kDAA+B,GADnC,YACoC,EAAhC,SAA+B,GAM/B,kDAA+B,GADnC,YACoC,EAAhC,SAA+B,GAM/B,kDAA+B,GADnC,YACoC,EAAhC,SAA+B,GAK/B,mGAAmE,MADvE,aACwE,EAApE,SAAmE;ycA5F3G,wIAAiB,KACb,8IAAuB,KACnB,yIAAkB,KACd,8IAAuB,KACnB,yLAAmE,KAC/D,2JAAqC,8FAA4B,MAEjE,8tBAA+F,GAA1F,wDAAiD,IAK1D,sJAA8B,KAC1B,2NAA6F,KACzF,yIAAiB,KACb,+IAAuB,KACnB,mJAA2B,KACvB,0PACoC,KAChC,2HAAO,KACH,uIAAe,KACX,qVAGyB,+EAAE,MAE3B,uTAE0B,iFAAI,MAC9B,0TAE0B,oFAAO,MACjC,2TAE0B,qFAAQ,MAClC,uTAEyB,kFAAK,MAGtC,0HAAO,KACH,0dACuD,IAc3E,wIAAiB,KACb,uJAAgC,KAC5B,yNAAgF,KAC5E,0IAAmB,yGACR,MAInB,0LAA6D,KACzD,iZAAkD,iDA1DzD,0DAAiD,GAAtD,aAA+F,EAA1F,SAAiD,GAkC1B,mBAA6C,YAAjD,aACuD,EADnD,SAA6C,GAwBtC,qCAA0B,SAAjD,aAAkD,EAA3B,SAA0B,mDA5DxB,uDAA4B,GAsD9B,uKACR;;;;;;;;;;;;;;;;AC5D/C;AAAA;AAAA;AAAkD;AAU3C,MAAM,uBAAuB;IAQlC,YAAoB,MAAa,EACvB,cAA8B,EAC9B,cAA6B;QAFnB,WAAM,GAAN,MAAM,CAAO;QACvB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,mBAAc,GAAd,cAAc,CAAe;QATvC,SAAI,GAAG,CAAC,CAAC;QACT,UAAK,GAAG,EAAE,CAAC;QACX,eAAU,GAAG,CAAC,CAAC;QAGf,cAAS,GAAQ,EAAE,CAAC;IAIuB,CAAC;IAE5C,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAC5C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;YACnB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,IAAI,CAAC,EAAE,EAAC;gBACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACtB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAC7C,CAAC;IAED,MAAM,CAAC,EAAE;QACP,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,EAAE,EAAC,IAAI,CAAC,IAAI,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAO,EAAC,EAAE;YAC7E,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBAC9B,IAAI,CAAC,UAAU,GAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;aAChC;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;aACrB;QACH,CAAC,CAAC;IAEJ,CAAC;IAED,OAAO,CAAC,EAAE;QACR,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,uBAAuB,EAAC,EAAE,CAAC,CAAC,CAAC;IAErD,CAAC;IAED,WAAW,CAAC,IAAI,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC;IAED,WAAW,CAAC,CAAC;QACX,IAAI,QAAQ,GAAW,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzE,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,aAAa,CAAC,CAAC;QACb,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1F,CAAC;CAKF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6GCrEO,mKAA8E,KAC1E,mOAAoE,YAA5D;;wBAAgB;MAAxB,wBAAoE,iLACzC,KAAI,uFAAe;6GAOlD,kJAA2D,KACvD,uMAA0D,YAA7B;;wBAA4B;MAAzD,wBAA0D,kFAE1D,MACA,gJAA0B,4IAAqC,IAC/D,4JAAsC,gFAAiB,iCAJG,qEAE1D,GAC0B,2QAAqC,GACzB,oEAAiB;6GAUvD,4IAAuC,KACnC,2PAAsG,YAAjF;;wBAAgC;MAArD,wBAAsG,KAClG,+IAAyB,mFAAO,MAChC,4IAAsB,qFAAQ;6GAItC,gMACoC,YADoB;;wBAAwB;MAAhF,ksBACoC,GADd,mEAAiC,MAEnD,2KAA+C,8EAAC,mDAFhD,2BAAiB,EAAC,4CAAiC,IAAvD,YACoC,EADhC,SAAiB,EAAC,SAAiC;6GAMvD,szBAAwF,GAAlE,mEAAiC,MACnD,+NAAwE,YAAzB;;wBAAwB;MAAvE,wBAAwE,8EAAC,mDADzE,2BAAiB,EAAC,4CAAiC,IAAvD,YAAwF,EAApF,SAAiB,EAAC,SAAiC;6GAKvD,szBAAwF,GAAlE,mEAAiC,MACnD,+NAAwE,YAAzB;;wBAAwB;MAAvE,wBAAwE,8EAAC,mDADzE,2BAAiB,EAAC,4CAAiC,IAAvD,YAAwF,EAApF,SAAiB,EAAC,SAAiC;6GAIvD,szBACwE,GADlD,mEAAgC,MAElD,uPAAkG,YAA7E;;wBAAgC;MAArD,wBAAkG,KAC9F,+IAAyB,mFAAO,MAChC,4IAAsB,iFAAI,mDAJ9B,2BAAiB,EAAC,2CAAgC,IAAtD,YACwE,EADpE,SAAiB,EAAC,SAAgC;6GAvB1D,8IAAkD,KAC9C,gZAAuC,IAOvC,gZACoC,IAKpC,gZAAwF,IAKxF,gZAAwF,IAIxF,iZACwE,iDAvBlD,6BAAgB,GAAtC,YAAuC,EAAjB,SAAgB,GAQlC,kDAA+B,GADnC,YACoC,EAAhC,SAA+B,GAKqB,kDAA+B,GAAvF,YAAwF,EAAhC,SAA+B,GAK/B,kDAA+B,GAAvF,YAAwF,EAAhC,SAA+B,GAKnF,mGAAmE,MADvE,aACwE,EAApE,SAAmE;8GA6B/D,iJACwB,oGAExB;8GAYA,iJACwB,wGAExB;8GAUA,iJAAoG,mGAEpG;6GA/ChB,gJAA0B,KACtB,2JAAqC,8FAAiB,MACtD,oNAAsD,YAAlB;;wBAAiB;MAArD,wBAAsD,KAClD,+IAAyB,mFAAO,MAGxC;;;;;wBAAyE;MAAhD;;wBAAuB;MAAhD,i0BAAyE,IACrE,gJAAwB,KAEpB,gJAAwB,KAEpB,gJAAyB,qFAAQ,MACjC,oJAA4B,KACxB;;wBACyB;MAD2C;;wBAA8B;MAAlG,4mGACyB,IAGzB,kZACwB,IAMhC,gJAAwB,KAEpB,gJAAyB,yFAAY,MACrC,oJAA4B,KACxB;;;omGACoC,IAGpC,kZACwB,IAMhC,gJAAwB,KACpB,oKAAuC,qFACvC,MACA,8IAAuB,KACnB;;;;;;;;;;;;85CAAmG,IAEnG,kZAAoG,IAShH,iJAA0B,KACtB,oMAAuE,iFAAI,mDAjD7E,mBAAkB,OAAxB,YAAyE,EAAnE,SAAkB,GAO8B,kCAA6B,EAC/D,oBAAoB,aADxB,aACyB,EADa,UAA6B,EAC/D,UAAoB,GADb,2BAA0B,EAArC,aACyB,EADd,UAA0B,GAI9B,uEAA0E,8BAAjF,aACwB,EADjB,UAA0E,GAWxC,sCAAiC,EACtE,oBAA+B,wBADnC,aACoC,EADK,UAAiC,EACtE,UAA+B,GADxB,8BAA6B,EAAxC,aACoC,EADzB,UAA6B,GAIjC,0EAAgF,iCAAvF,aACwB,EADjB,UAAgF,GAWpE,0BAAyB,EAA5C,aAAmG,EAAhF,UAAyB,GAErC,sEAAwE,6BAA/E,aAAoG,EAA7F,UAAwE,2BAvC/F,qtBAAyE,GAOzD,6rDACyB,IAczB,isDACoC,IAcpC,ouBAAmG;8GAuD/G,8IAA6D,KACzD,+IAAyB,0FACzB,MACA,6IAAuB,KACnB,qHAAG,2MAAyB;8GASxB,kJAAiF,KAC7E,uMAAuD,YAA1B;;wBAAyB;MAAtD,wBAAuD,0NAEvD;8GAtDpB,gJAA0B,KACtB,2JAAqC,gFAAqB,MAC1D,oNAAsD,YAAlB;;wBAAiB;MAArD,wBAAsD,KAClD,+IAAyB,mFAAO,MAIxC,+IAAwB,KAEpB,8IAAuB,KACnB,8IAAuB,KACnB,4HAAS,KACL,uHAAI,oFAAO,oJAAuB,mFAA+B,MACjE,mJAA4B,oFACxB,6HAAM,yFACN,6HAAM,0FACV,MAKZ,+IAAwB,KAEpB,gJAAyB,2FAAgC,MAI7D,+IAAwB,KAEpB,gJAAyB,+FAAuC,MAGpE,+IAAwB,KAEpB,gJAAyB,yFAA4B,MAIzD,kZAA6D,IAO7D,+IAAwB,KACpB,gJAAyB,oFACzB,MACA,8IAAuB,KACnB,8IAAuB,KAEnB,2dAAiF,iDAbrE,iDAAoC,GAA5D,aAA6D,EAArC,SAAoC,GAa5C,oBAAoD,kBAAxD,aAAiF,EAA7E,UAAoD,mDAlD/B,8DAAqB,GAWZ,oJAA+B,GACrC,uJACxB,GAAM,4RACN,GAAM,qJACV,GAOiB,gEAAgC,GAMhC,mEAAuC,GAKvC,8DAA4B;ocA7JjE,8IAAuB,KACnB,yLAAmE,KAC/D,2JAAqC,+FAA6B,MAElE,6tBAA8E,GAAzE,uDAAgC,IAOzC,8IAAuB,KAEnB,0dAA2D,IAa/D,0LAA6D,KACzD,iZAAkD,IAmC1D,6IAA8B,KA4D9B,qIAAqB,kDAtHR,sCAAgC,GAArC,YAA8E,EAAzE,SAAgC,GASjC,mBAA8B,UAAlC,aAA2D,EAAvD,SAA8B,GAcX,qCAA0B,SAAjD,aAAkD,EAA3B,SAA0B,mDAzBZ,uDAA6B;;;;;;;;;;;;;;;;ACF1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiF;AAEb;AAMT;AAG4C;AAOhG,MAAM,uBAAuB;IAkClC,YAAoB,QAAkB,EAAU,WAAwB,EAAU,WAAwB,EAAU,aAA4B,EACtI,aAA4B,EAAU,mBAAwC,EAAU,mBAAwC,EAAU,SAAmB;QADnJ,aAAQ,GAAR,QAAQ,CAAU;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,kBAAa,GAAb,aAAa,CAAe;QACtI,kBAAa,GAAb,aAAa,CAAe;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,cAAS,GAAT,SAAS,CAAU;QAlCvK,YAAO,GAAG,EAAE,CAAC;QACb,SAAI,GAAG,CAAC,CAAC;QACT,UAAK,GAAG,EAAE,CAAC;QACX,eAAU,GAAG,CAAC,CAAC;QAGf,0BAAqB,GAAG,EAAE,CAAC;QAE3B,qBAAgB,GAAG,EAAE,CAAC;QAEtB,cAAS,GAAG,IAAI;QAChB,eAAU,GAAG,wFAAqB,CAAC;QACnC,kBAAa,GAAG,4FAAyB,CAAC;QAG1C,oBAAe,GAAG,KAAK,CAAC;QAExB,WAAM,GAAG;YACP,UAAU,EAAE,aAAa;YACzB,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,MAAM;YACd,WAAW,EAAE,iBAAiB;YAC9B,gBAAgB,EAAE,GAAG,EAAE,GAAG,CAAC;YAC3B,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM;YAC/B,QAAQ,EAAE,MAAM;YAChB,cAAc,EAAE,mBAAmB;YACnC,iBAAiB,EAAE,QAAQ;YAC3B,WAAW,EAAE,MAAM;SACpB;IAM0K,CAAC;IAE5K,QAAQ;QACN,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,sBAAsB;IAExB,CAAC;IACD,WAAW;QACT,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,GAAG,EAAE,CAAC;SACZ;IACH,CAAC;IACD,UAAU;QACR,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACjC,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,WAAW,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACtC,OAAO,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACnC,CAAC,CAAC;IACL,CAAC;IACD,GAAG;QACD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YAC/F,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACvB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBAC5B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;aAElC;QACH,CAAC,CAAC;IACJ,CAAC;IACD,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtC,IAAI;QACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAC3C,CAAC;IACD,UAAU,CAAC,MAAM;QACf,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IACD,KAAK;QACH,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;IAC7B,CAAC;IACD,YAAY,CAAC,KAAa;QACxB,IAAI,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC3B,OAAO,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5B,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAAE,OAAO;SAAE;QAElC,IAAI,MAAM,GAAG;YACX,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG;YAChD,WAAW,EAAE,qCAAqC;YAClD,QAAQ,EAAE,CAAC;YACX,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;SACtB;QACD,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;YACpC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBACtC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;SACJ;QAGD,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAC7B,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC;QACzD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YACnE,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACvB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;gBACpD,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;gBAClB,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;QACH,CAAC,CAAC;IACJ,CAAC;IACD,YAAY,CAAC,KAAa;QACxB,gBAAgB;QAEhB,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;YAC9C,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,wEAAW,CAAC,QAAQ,GAAG,OAAO,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,aAAa;QACX,kCAAkC;QAClC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACxD,oCAAoC;YACpC,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACvB,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,IAAI,CAAC;gBACjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aACpC;iBAAM;gBACL,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;aAC5B;QACH,CAAC,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,IAAI,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,EAAE,CAAC;IACb,CAAC;IACD,iBAAiB;QACf,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;QAChC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IACrG,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sGCjKG,sLAAuF,KACnF,oJAA6B,KACzB,yMAAkF,KAC9E,4LAAsE,KAClE,oNAA8F,KAC1F,mOAAsF,KAClF,iWACkJ,KAI1J,qKAA+C,8FAAiB,MAEpE,mJAA6B,KACzB,qJAA8B,iFAAkB,MAChD,6JAAsC,4JAChB,MACtB,8aAEmC,YAA/B;;wBAA8B;MAFlC,wBAEmC,KAC/B,sKAA+C,KAC3C,8NAAgF,KAC5E,mPACmC,KACjC,uFAEV,yDAZ0B,0DAAkB;sGAgE5C,wXAI6F,YAAzB;;wBAAwB;MAJ5F,ksBAI6F,IACzF,6NAAgF,KAC5E,qQACsD,KACpD,qFAEV,mDATI,2LAAiL,EACjL,2NAE+D,GAJnE,YAI6F,EAHzF,SAAiL,EACjL,SAE+D,mDAIzD,iKAEV;sGA8CQ,4MACqF;sGAErF,+LACwE;sGAiBxE,4MACqF;sGAErF,+LACwE;sGAjB5E,yTAI0E,YAArB;;wBAAoB;MAJzE,ksBAI0E,IACtE,y6BAE8C,IAC1C,8UAC+H,KAGnI,0JAAoC,2FAAc,MAClD,0YACqF,IAErF,0YACwE,iDAhBxE,oJAA0I,EAC1I,0JAEgD,GAJpD,YAI0E,EAHtE,SAA0I,EAC1I,SAEgD,GAC3C,gEAAsD,EACvD,wEAA6D,GADjE,YAE8C,EAFzC,SAAsD,EACvD,SAA6D,GAO5D,8BAAiB,GAAtB,aACqF,EADhF,SAAiB,GAGjB,8BAAiB,GAAtB,aACwE,EADnE,SAAiB;uGAiBtB,4MACqF;uGAErF,+LACwE;uGAgBxE,4MACqF;uGAErF,+LACwE;uGAqGhF,wIAA+C,KAC3C,0KAAoD,wFAAW,MAC/D,yLAAmE,2OACnE;uGAkBA,yJAAoE,weAEpE;uGAKA,oNAC6F,mFACzE,wJAA4B,gFAAe,iCAD8B,kEACzE,GAA4B,mEAAe;uGA2BnD,sKAAgD,0GACrC;uGAUP,2VAE6K,YADzK;;wBAA8F;MADlG,wBAE6K,2FAE7K;uGAXJ,8IAAwB,KAEpB;;wBAGwC;MAHxB;;wBAAgC;MAE5C;;wBAA8C;MAFlD,gmEAGwC,IAExC,0YAE6K,iDAP5H,mBAAuB,eACpE,+CAA+C,EADnD,YAGwC,EAHS,SAAuB,EACpE,SAA+C,GAC/C,oBAA8C,mCAFlD,YAGwC,EADpC,UAA8C,GAG1C,oBAAuB,kBAA/B,YAE6K,EAFrK,UAAuB,2BAL/B,6yBAGwC;uGAa5C,sKAAgD,yFAAY;uGAQxD,2VAE6K,YADzK;;wBAA8D;MADlE,wBAE6K,2FAE7K;uGATJ,8IAAwB,KACpB;;wBAEwC;MAFxB;;wBAAgC;MACb;;wBAA8B;MADjE,gmEAEwC,IAExC,0YAE6K,iDAN5H,mBAAuB,eACpE,8BAA8B,EADlC,YAEwC,EAFS,SAAuB,EACpE,SAA8B,GAAC,oBAA8B,mBADjE,YAEwC,EADL,UAA8B,GAGzD,oBAAuB,kBAA/B,YAE6K,EAFrK,UAAuB,2BAJ/B,6yBAEwC;uGAa5C,sKAAgD,6FAAgB;uGAQ5D,2VAE6K,YADzK;;wBAAsE;MAD1E,wBAE6K,2FAE7K;uGATJ,8IAAwB,KACpB;;wBAEwC;MAFxB;;wBAAgC;MACT;;wBAAkC;MADzE,gmEAEwC,IAExC,0YAE6K,iDAN5H,mBAAuB,eACpE,kCAAkC,EADtC,YAEwC,EAFS,SAAuB,EACpE,SAAkC,GAAC,oBAAkC,uBADzE,YAEwC,EADD,UAAkC,GAGjE,oBAAuB,kBAA/B,YAE6K,EAFrK,UAAuB,2BAJ/B,6yBAEwC;uGAa5C,sKAAgD,8GACrC;uGASP,2VAE6K,YADzK;;wBAAgG;MADpG,wBAE6K,2FAE7K;uGAVJ,8IAAwB,KACpB;;wBAGwC;MAHxB;;wBAAgC;MAE5C;;wBAA+C;MAFnD,gmEAGwC,IAExC,0YAE6K,iDAP5H,mBAAuB,eACpE,mDAAmD,EADvD,YAGwC,EAHS,SAAuB,EACpE,SAAmD,GACnD,oBAA+C,oCAFnD,YAGwC,EADpC,UAA+C,GAG3C,oBAAuB,kBAA/B,YAE6K,EAFrK,UAAuB,2BAL/B,6yBAGwC;uGAa5C,sKAAgD,qFAAQ;uGAQpD,2VAE6K,YADzK;;wBAAwD;MAD5D,wBAE6K,2FAE7K;uGATJ,8IAAwB,KACpB;;wBAEwC;MAFxB;;wBAAgC;MACjB;;wBAA2B;MAD1D,gmEAEwC,IAExC,0YAE6K,iDAN5H,mBAAuB,eACpE,0BAA0B,EAD9B,YAEwC,EAFS,SAAuB,EACpE,SAA0B,GAAC,oBAA2B,gBAD1D,YAEwC,EADT,UAA2B,GAGlD,oBAAuB,kBAA/B,YAE6K,EAFrK,UAAuB,2BAJ/B,6yBAEwC;uGAa5C,sKAAgD,sFAAS;uGAQrD,2VAE6K,YADzK;;wBAA0D;MAD9D,wBAE6K,2FAE7K;uGATJ,8IAAwB,KACpB;;wBAEwC;MAFxB;;wBAAgC;MAChB;;wBAA4B;MAD5D,gmEAEwC,IAExC,0YAE6K,iDAN5H,mBAAuB,eACpE,2BAA2B,EAD/B,YAEwC,EAFS,SAAuB,EACpE,SAA2B,GAAC,oBAA4B,iBAD5D,YAEwC,EADR,UAA4B,GAGpD,oBAAuB,kBAA/B,YAE6K,EAFrK,UAAuB,2BAJ/B,6yBAEwC;uGA/G5D,0IAAoD,KAChD,kRAC4B,YADb;;wBAAkC;MAAjD,gmBAC4B,MACxB,6kBAAoC,MAChC,2UAA2B,IAI3B,6UAA6B,IAiBjC,+kBAAoC,MAChC,2UAA2B,IAG3B,6UAA6B,IAejC,ilBAAoC,MAChC,2UAA2B,IAG3B,8UAA6B,IAejC,klBAAoC,MAChC,4UAA2B,IAI3B,8UAA6B,IAgBjC,klBAAoC,MAChC,4UAA2B,IAG3B,8UAA6B,IAejC,klBAAoC,MAChC,4UAA2B,IAG3B,8UAA6B,yBA1Ga,oBAAoB,EAAtE,YAC4B,EADsB,SAAoB,GAEvD,uBAAU,EAArB,YAAoC,EAAzB,SAAU,GAsBV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAmBV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAmBV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAqBV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAmBV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,2BAtGzB,oHAC4B;uGAgIhB,sKAAgD,0GACrC;uGAGX,wKAAkD,KAC9C,gLAC0E,wDAAtE,4EAAqE,GADzE,YAC0E,EAAtE,SAAqE;uGAQ7E,sKAAgD,yFAAY;uGAG5D,wKAAkD,KAC9C,gLAC0D,wDAAtD,4DAAqD,GADzD,YAC0D,EAAtD,SAAqD;uGAQ7D,sKAAgD,6FAAgB;uGAGhE,wKAAkD,KAC9C,gLAC8D,wDAA1D,gEAAyD,GAD7D,YAC8D,EAA1D,SAAyD;uGAOjE,sKAAgD,8GACrC;uGAGX,wKAAkD,KAC9C,gLAC2E,wDAAvE,6EAAsE,GAD1E,YAC2E,EAAvE,SAAsE;uGAQ9E,sKAAgD,qFAAQ;uGAGxD,wKAAkD,KAC9C,gLACuD,wDAAnD,yDAAkD,GADtD,YACuD,EAAnD,SAAkD;uGAQ1D,sKAAgD,sFAAS;uGAGzD,wKAAkD,KAC9C,gLACwD,wDAApD,0DAAmD,GADvD,YACwD,EAApD,SAAmD;uGA5E3E,0IAAsD,KAClD,kRAC4B,YADb;;wBAAkC;MAAjD,imBAC4B,MACxB,ilBAAoC,MAChC,4UAA2B,IAI3B,8UAA6B,IASjC,mlBAAoC,MAChC,4UAA2B,IAG3B,8UAA6B,IASjC,mlBAAoC,MAChC,4UAA2B,IAG3B,8UAA6B,IAQjC,mlBAAoC,MAChC,4UAA2B,IAI3B,8UAA6B,IASjC,mlBAAoC,MAChC,4UAA2B,IAG3B,8UAA6B,IASjC,mlBAAoC,MAChC,4UAA2B,IAG3B,8UAA6B,yBAxEa,oBAAoB,EAAtE,YAC4B,EADsB,SAAoB,GAEvD,uBAAU,EAArB,YAAoC,EAAzB,SAAU,GAcV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAaV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAYV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAcV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,GAaV,uBAAU,EAArB,aAAoC,EAAzB,SAAU,2BApEzB,oHAC4B;uGAlQ5C,8IAAyC,KAIrC,0MAAmF,KAC/E,iNAA2F,KACvF,oLAA8D,KAC1D,2OACwB,KACpB,2RAC4E,KAC1E,iFAEV,MAEJ,wIAAiB,KACb,yLAAkE,KAE9D,6JAAuC,KACnC,2KAAoD,mFAAM,MAC1D,q0BAC0E,kFAE1E,MAEJ,uLAAgE,KAC5D,2KAAoD,kFAAK,MACzD,sLAA+D,kFAC/D,MAEJ,8JAAuC,KACnC,2KAAoD,kFAAK,MACzD,wKAAiD,iFAAuB,MAG5E,8JAAuC,KACnC,2KAAoD,0FAAa,MACjE,wKAAiD,+IACjD,IAGJ,8JAAuC,KACnC,2KAAoD,yFAAY,MAChE,wKAAiD,8IACjC,IAGpB,8JAAuC,KACnC,2KAAoD,yFAAY,MAChE,wKAAiD,qFAAQ,MAG7D,8JAAuC,KACnC,2KAAoD,gFAAG,MACvD,wKAAiD,8IAAsB,IAE3E,8JAAuC,KACnC,2KAAoD,oFAAO,MAC3D,wKAAiD,iFAAyB,MAG9E,8JAAuC,KACnC,2KAAoD,kFAAK,MACzD,wKAAiD,kFACjD,MAGJ,8JAAuC,KACnC,2KAAoD,qFAAQ,MAC5D,wKAAiD,iFACjC,MAGpB,8JAAuC,KACnC,2KAAoD,2FAAc,MAClE,wKAAiD,iFACjC,MAGxB,2YAA+C,IASvD,2MAAmF,KAC/E,oNAA6F,KACzF,sKAA+C,KAC3C,qLAA8D,KAC1D,6OACwB,KACpB,oVACoI,KAElI,gFAEV,MACA,2YAAoE,IAK5E,wIAAiB,KACb,yLAAkE,KAC9D,odAC6F,IASzG,2MAAmF,KAC/E,kNAA2F,KACvF,qLAA8D,KAC1D,8OACwB,KACpB,+WAC+J,KAE7J,8FAEV,MAEJ,wIAAiB,KAEb,4tBAAoD,GAA/C,wDAAgC,IA6HrC,guBAAsD,GAAjD,wDAAkC,iDA5O1B,uCAA6B,EAC9B,mJAAqE,GADzE,aAC0E,EADrE,SAA6B,EAC9B,SAAqE,GA0D/D,oDAA4B,uBAA9C,aAA+C,EAA7B,UAA4B,GAqBrC,oDAAgC,2BAArC,aAAoE,EAA/D,UAAgC,GAOhC,oDAAqC,kBAA1C,aAC6F,EADxF,UAAqC,GAwBzC,wCAAgC,GAArC,aAAoD,EAA/C,UAAgC,GA6HhC,wCAAkC,GAAvC,aAAsD,EAAjD,UAAkC,mDA3O2C,kKAE1E,GAI+D,iGAC/D,GAIiD,iGAAuB,GAKvB,qQACjD,GAKiD,sTACjC,GAUiC,yPAAsB,GAItB,mGAAyB,GAKzB,iHACjD,GAKiD,sHACjC,GAKiC,2HACjC;uGA4QpC,yMAAqG,KACjG,6pCAA8E,iDAA3B,mDAA0B,eAAxD,wFAA6B,qBAAlD,YAA8E,EAA3B,SAA0B,EAAxD,SAA6B;uGAKtD,yMAAqG,KACjG,gxBAAqB;sGA1hBjC,gKAAkE,KAG9D,yIAAkB,KACd,0MAAmF,KAE/E,qLAA+D,KAG/D,iNAA0F,KAEtF,4JAAqC,KACjC,0JAAoC,KAChC,6OAC4F,KAC5F,o3BACsE,IAE1E,kJAA2B,KACvB,oKAA6C,iFAAyC,MACtF,wJAAiC,kFAA4B,MAE7D,8JAAuC,KACnC,mOAC0G,KACtG,8NAAgF,KAC5E,yXACyK,KAEvK,8EAEV,MAMZ,6JAAqC,KACjC,o3BACkG,IAC9F,00BACsE,IAAO,8EAEjF,MACA,2tBAI6F,GAJrF,wDAAkC,IAe1D,mMAA4E,KACxE;;;ucAE+B,GAA3B,wDAA0B,IAC1B,sRAC8C,KAC1C,6UAC6H,KAGjI,yJAAkC,iGAAoB,MACtD,0RAC8C,KAC1C,qOAAuF,KAOnG,iJAAyB,KAGrB,sIAAc,KAEV,uNAA+F,KAE3F,2KAAmD,KAC/C,qNAAuF,KACnF,0TAG6E,YAAxB;;wBAAuB;MAH5E,msBAG6E,IACzE,26BAE8C,IAC1C,4RAC4E,KAEhF,2JAAoC,oFAAO,MAE3C,0YACqF,IAErF,0YACwE,IAI5E,2tBAI0E,GAJvE,wDAAiC,IAqBpC,0TAG6E,YAAxB;;wBAAuB;MAH5E,msBAG6E,IACzE,26BAE8C,IAC1C,6UAC6H,KAGjI,2JAAoC,oFAAO,MAC3C,2YACqF,IAErF,2YACwE,IAI5E,0TAG6E,YAAxB;;wBAAuB;MAH5E,msBAG6E,IACzE,26BAE8C,IAC1C,2WAC2J,KAG/J,2JAAoC,oFAAO,MAC3C,2YACqF,IAErF,2YACwE,IAmBhG,gJAAyB,KAGrB,2YAAyC,IAwVzC,2YAAqG,IAMrG,2YAAqG,iDA1gB/E,sFAA4E,EAC9E,+IAAiE,GADrE,aACsE,EADhE,SAA4E,EAC9E,SAAiE,GAsBnE,qFAA2E,EAC7E,2KAA6F,GADjG,aACkG,EAD5F,SAA2E,EAC7E,SAA6F,GACvF,2CAAiC,EACnC,gJAAiE,GADrE,aACsE,EADhE,SAAiC,EACnC,UAAiE,GAGjE,0CAAkC,GAA1C,aAI6F,EAJrF,UAAkC,GAkBlD,yCAA0B,GAF9B,aAE+B,EAA3B,UAA0B,GA0BX,qJAA0I,EACzI,2JAEgD,GAHpD,aAG6E,EAH1E,UAA0I,EACzI,UAEgD,GAC3C,iEAAsD,EACvD,yEAA6D,GADjE,aAE8C,EAFzC,UAAsD,EACvD,UAA6D,GAO5D,+BAAiB,GAAtB,aACqF,EADhF,UAAiB,GAGjB,+BAAiB,GAAtB,aACwE,EADnE,UAAiB,GAKvB,yCAAiC,GAApC,aAI0E,EAJvE,UAAiC,GAqBjC,qJAA0I,EACzI,2JAEgD,GAHpD,aAG6E,EAH1E,UAA0I,EACzI,UAEgD,GAC3C,iEAAsD,EACvD,yEAA6D,GADjE,aAE8C,EAFzC,UAAsD,EACvD,UAA6D,GAO5D,+BAAiB,GAAtB,aACqF,EADhF,UAAiB,GAGjB,+BAAiB,GAAtB,aACwE,EADnE,UAAiB,GAKvB,qJAA0I,EACzI,2JAEgD,GAHpD,aAG6E,EAH1E,UAA0I,EACzI,UAEgD,GAC3C,iEAAsD,EACvD,yEAA6D,GADjE,aAE8C,EAFzC,UAAsD,EACvD,UAA6D,GAO5D,+BAAiB,GAAtB,aACqF,EADhF,UAAiB,GAGjB,+BAAiB,GAAtB,aACwE,EADnE,UAAiB,GAuBrC,+BAAiB,GAAtB,aAAyC,EAApC,UAAiB,GAwVjB,+BAAiB,GAAtB,aAAqG,EAAhG,UAAiB,GAMjB,+BAAiB,GAAtB,aAAqG,EAAhG,UAAiB,mDA5gBD,mBAAgB,WAAC,0HAAwC,GAA9D,YAC4F,EADvF,SAAgB,EAAC,SAAwC,GAMjB,0JAAyC,GACrD,0IAA4B,GAS/C,sHAEV,GAUyE,oKAEjF;sGAhFxB,2LAAuF,KAGnF,yYAAuF,IAkCvF,yYAAkE,iDAlC7D,mBAAuB,kBAA5B,YAAuF,EAAlF,SAAuB,GAkCvB,oBAAwB,kBAA7B,YAAkE,EAA7D,SAAwB;uGAkiBjC,oNAA+G,KAC3G,wKAAkD,KAC9C,kNAA4F,KAC5F,2JAAqC,2GAA8B;;qeA1kB3E,yYAAuF,IAukBvF,0YAA+G,IAwG/G,oIAA6C,kDA/qBwB,oBAAiB,WAAtF,YAAuF,EAAlB,SAAiB,GAukBjF,mBAAgB,WAArB,YAA+G,EAA1G,SAAgB;;;;;;;;;;;;;;;;ACxkBrB;AAAA;AAAA;AAAA;AAA0E;AAKf;AAYpD,MAAM,gBAAgB;IA+B3B,YACU,KAAe,EACf,MAAc,EACd,cAA8B,EACtC,QAAyB,EACjB,cAA8B,EAC9B,WAAwB,EACxB,aAA4B;QAN5B,UAAK,GAAL,KAAK,CAAU;QACf,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAE9B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QArCtC,aAAQ,GAAG,KAAK,CAAC;QACjB,oBAAe,GAAG,KAAK,CAAC;QACxB,iBAAY,GAAW,EAAE,CAAC;QAU1B,iBAAY,GAAwB;YAClC,QAAQ,EAAE,IAAI;SAEf,CAAC;QAGF,WAAM,GAAG,EAAE,CAAC;QACZ,mBAAc,GAAG,EAAE,CAAC;QACpB,qBAAgB,GAAG,EAAE,CAAC;QAOtB,oBAAe,GAAG,KAAK,CAAC;QACxB,QAAG,GAAG,CAAC,CAAC;QAWN,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IApCM,gBAAgB,CAAC,IAAY,EAAE,OAAe;QACnD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;IAoCD,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC9C,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4DAA4D;IAC5D,kBAAkB;QAChB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,8BAA8B,CAAC,CAAC;YAC/D,OAAO;SACR;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAC9D,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;YAChB,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE;gBAClE,0CAA0C;gBAC1C,MAAM,CAAC,IAAI,CAAE,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;gBAC7C,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,gCAAgC,CAAC,CAAC;aACjE;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,kDAAkD,CAAC,CAAC;aACpF;QACH,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,gDAAgD,CAAC,CAAC;YACjF,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC,CACF,CAAC;IACJ,CAAC;IACD,oBAAoB;QAClB,OAAO,EAAE,CAAC,CAAC,8BAA8B;IAC3C,CAAC;IACD,uBAAuB;QACrB,MAAM,QAAQ,GAAG,EAAE,CAAC,CAAC,wDAAwD;QAC7E,MAAM,OAAO,GAAG,CAAC,CAAC,CAAC,oBAAoB;QAEvC,IAAI,cAAc,GAAG,CAAC,CAAC;QAEvB,kDAAkD;QAClD,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC,EAAE;YAClB,cAAc,GAAG,CAAC,CAAC;SACpB;aAAM,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC,EAAE;YACzB,mDAAmD;YACnD,MAAM,oBAAoB,GAAG,IAAI,CAAC,CAAC,4CAA4C;YAC/E,cAAc,GAAG,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C;aAAM,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC,EAAE;YACzB,yDAAyD;YACzD,MAAM,oBAAoB,GAAG,IAAI,CAAC,CAAC,4CAA4C;YAC/E,cAAc,GAAG,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C;aAAM,IAAI,IAAI,CAAC,GAAG,KAAK,CAAC,EAAE;YACzB,yDAAyD;YACzD,MAAM,oBAAoB,GAAG,IAAI,CAAC,CAAC,4CAA4C;YAC/E,cAAc,GAAG,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/C;QAED,OAAO,OAAO,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,CAAC;IAC/C,CAAC;IACD,qBAAqB;QACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,GAAG,CAAC,EAAE;QACJ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,SAAS,CACvC,CAAC,GAAoB,EAAE,EAAE;YACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,gCAAgC,GAAG,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC;gBACjF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;gBACjD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;gBACzD,IAAI,CAAC,iCAAiC,GAAG,IAAI,CAAC,OAAO,CAAC,4BAA4B,CAAC;gBACnF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;gBAC7C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;iBAAM,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;gBACrC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;aACnD;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;QACH,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,gDAAgD,CAAC,CAAC;YACjF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;QACxC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,IAAI,QAAQ;QACV,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,OAAO,wEAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;SACvD;QACD,OAAO,wEAAW,CAAC,QAAQ,GAAG,iBAAiB,CAAC;IAClD,CAAC;IAED,aAAa,CAAC,QAAQ;QACpB,IAAI,QAAQ,EAAE;YACZ,QAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9B,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC;YACjD,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnC,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC,CAAC;SAClD;QACD,OAAO,CAAC,CAAC;IACX,CAAC;IAED,UAAU,CAAC,GAAG;QACZ,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;IAC1B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACrC,CAAC;IAED,YAAY;QACV,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YACtF,IAAI,GAAG,CAAC,MAAM,KAAK,KAAK,EAAE;gBACxB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;gBACrD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC1C;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,WAAW,EAAE,KAAK;QACpC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACtG,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,2BAA2B,CAAC,CAAC;aAC/D;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;aACxD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB;QACf,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,eAAe,CAAC,CAAC;QACf,OAAO,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC;IAC9B,CAAC;IAED,cAAc,CAAC,CAAC;QACd,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,iBAAiB,CAAC,CAAC;QACjB,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,aAAa,CAAC,CAAC;QACb,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,cAAc,CAAC,CAAC;QACd,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,WAAW,CAAC,CAAC;QACX,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAC7D,WAAW,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE;SAC5C,CAAC,CAAC;IACL,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uGC1NmC,wHAAwB,kQAA2C;uGAAnE,0YAAwB,yGAAlB,kBAAiB,oBAAvB,YAAwB,EAAlB,SAAiB;uGAGvB,mKAA6C,KACzC,iJAA2B,KACvB,qMAC8E,KAC1E,sKAC8C,gFAA0C,MAGhG,uHAAK,KACD,qKAA+C,gFAAkB,MACjE,yJAAmC,iFAAuB,iCALR,0FAA0C,GAI7C,kEAAkB,GAC9B,sEAAuB;uGAc1F,qJAAiF,KAC7E,gPAAmG,KAC/F,8dACiR,KAErR,yKAAmD,8FAAiB,MACpE,oJAA8B,oIAAuD;uGAIzF,0KAAqE,KACjE,kMAA4E;uGA8BhE,mLAC4D,KACxD,oLAA8D,kFAE9D,MACA,+JAAwC,KACpC,gKAAyC,KACrC,iJAA2B,KACvB,yOACkH,KAC9G,qKAC6C,gFAA0C,MAG/F,mJAA4B,KACxB,qUACsJ,YAD9I;;wBAAkC;MAA1C,wBACsJ,mFAEtJ,MACA,gKAAwC,KACpC,gKAAyC,KACrC,yNACwB,KACpB,6TAE+G,KAEnH,yHAAM,iFAAmB,MAE7B,qKAA8C,KAC1C,yNACwB,KACpB,8aAEgO,KAEpO,yHAAM,iFAAmB,MAM7C,+JAAwC,KACpC,mMAC0E,kFAAuB,MAErG,+JAAwC,KACpC,w3BAE6F,IACzF,g1BACiE,IAAO,8EAE5E,MAEJ,qLAA8D,KAC1D,kJAA2B,KACvB,yHAAM,8IAA2C,IACjD,2JAAoC,8IACnB,IAGzB,mLAA4D,KACxD,qaACsP,YAD9O;;wBAAkC;MAA1C,wBACsP,KAClP,gOACwB,KACpB,yPAC2C,KAC3C,gVACkI,KAChI,8EAEV,2BAzBI,yFAA+E,EAC/E,6GAAwF,GAF5F,aAE6F,EADzF,SAA+E,EAC/E,SAAwF,GAClF,iDAAuC,EACzC,iFAA4D,GADhE,aACiE,EAD3D,SAAuC,EACzC,SAA4D,mDAjDV,gGAE9D,GAO6D,+FAA0C,GAK2D,wEAEtJ,GASc,yEAAmB,GASnB,yEAAmB,GAQiC,4EAAuB,GAOrB,sGAE5E,GAIU,mPAA2C,GACb,oPACnB;uGArF7C,oJAAuE,KACnE,oJAA6B,KACzB,0KAAmD,KAC/C,iJAA0B,KACtB,uHAAI,KACA,iNAC2F,+EACtF,MACL,iNAC2F,0FAC3E,MAChB,iNAC2F,sFAC/E,MACZ,kNAC2F,oFACjF,MACV,kNAC2F,qFAChF,MACX,kNAC2F,qFAChF,MAGnB,wKAAiD,KAC7C,odAC4D,iDADxD,mBAA4C,WAAhD,aAC4D,EADxD,SAA4C;uGAoFxD,kOAC0G,KACtG,qKAA8C,KAC1C,+JAAwC,KACpC,iJAA2B,KACvB,yOACkH,KAC9G,qKAC6C,gFAA0C,MAG/F,mJAA4B,KACxB,qTACuI,YAD/H;;wBAAkC;MAA1C,wBACuI,kFAEvI,MACA,+JAAwC,KACpC,wHAAK,kFAAuB,MAC5B,yIAAkB,iFAAmB,MACrC,wHAAK,iFAAmB,MAE5B,4KAAoD,KAChD,o3BAE6F,IACzF,80BACiE,IAAO,8EAE5E,MACA,2JAAoC,8IAC5B,IAIpB,6RAC8G,YADtG;;wBAAkC;MAA1C,wBAC8G,KAC1G,yNAA2E,KACvE,qOACuB,0BAff,qFAA2E,EAC3E,6GAAwF,GAF5F,aAE6F,EADzF,SAA2E,EAC3E,SAAwF,GAClF,+CAAqC,EACvC,iFAA4D,GADhE,aACiE,EAD3D,SAAqC,EACvC,SAA4D,2BAlBvB,+FAA0C,GAK4C,uEAEvI,GAES,4EAAuB,GACV,yEAAmB,GAChC,yEAAmB,GAOoD,oGAE5E,GACoC,mPAC5B;uGAhCpC,6IAAiE,KAC7D,iJAA2B,KACvB,mdAC0G,iDADrG,mBAA4C,WAAjD,YAC0G,EADrG,SAA4C;wGA+CzD,0LACkE,KAC9D,wNAAiG,KAE7F,0JAAmC,sFAE/B,sJAA0B,gFAA0B,MAAO,4EAE3D,sJAA0B,gFAAyC,MAAO,4EAE1E,uJAA0B,iFAAc,MAAO,kFAEnD,MAGA,8LACkC,YADlB;;wBAAoC;MAApD,ggBACkC,mDADmB,mBAAkB,OAAC,mBAAoB,QACxF,mBAA6B,aADjC,aACkC,EADmB,SAAkB,EAAC,SAAoB,EACxF,SAA6B,mDAVH,2EAA0B,GAE1B,+HAAyC,GAEzC,wDAAc;mRA1OhE,gKAAyC,KACrC,sJAA+B,KAE3B,8LAAuE,KACnE,wIAAiB,KACb,uMAAgF,KAC5E,uHAAK,KACD,mKAA6C,+FAAkB,MAC/D,oJAA8B,gHAAmC,MAIrE,oJAA4B,KACxB,8IAAsB,KAClB,8MAAuF,KACnF,uOACwB,KACpB,oQACsD,KAG9D;;wBAE4D;MAAxD;;wBAAiC;MAFrC,i5EAE4D,MACxD,0TAA0C,IAG1C,0TAA2C,IAuBnE,0LAAkE,KAE9D,2YAAiF,IAUjF,2YAAqE,IAKrE,2YAAuE,IA4GvE,2YAAiE,IAiDjE,4YACkE,iDA3M9C,uBAAgB,EAAW,sBAAe,EADZ,yDAAoD,EACvC,oBAA2B,gBAD/D,oBAAsB,eAAjC,aAE4D,EADxD,UAAgB,EAAW,UAAe,EADZ,UAAoD,EACvC,UAA2B,EAD/D,UAAsB,GA+B5C,uGAAiD,IAAtD,aAAiF,EAA5E,UAAiD,GAUjD,oBAAgB,WAArB,aAAqE,EAAhE,UAAgB,GAKhB,6FAAyC,IAA9C,aAAuE,EAAlE,UAAyC,GA4GzC,6FAAyC,IAA9C,aAAiE,EAA5D,UAAyC,GAiDzC,qBAAiB,WAAtB,aACkE,EAD7D,UAAiB,2BA3MN,q9BAE4D;;;;;;;;;;;;;;;;ACvBxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAKnB;AAEA;AAQxB,MAAM,iBAAiB;IAc5B,YAAoB,MAAc,EACxB,cAA8B,EAC9B,aAA4B,EAC5B,WAAwB;QAHd,WAAM,GAAN,MAAM,CAAQ;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QAblC,aAAQ,GAAG,KAAK,CAAC;QACjB,iBAAY,GAAc,EAAE,CAAC;QAC7B,kBAAa,GAAG,IAAI,4CAAO,EAAU,CAAC;QAGtC,SAAI,GAAG,CAAC,CAAC;QACT,UAAK,GAAG,EAAE,CAAC;QACX,eAAU,GAAG,CAAC,CAAC;IAMuB,CAAC;IAEvC,QAAQ;QACN,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,IAAI,CAAC,aAAa,CAAC,SAAS,CAC1B,GAAG,CAAC,EAAE;YAEJ,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACzB,CAAC,CACF;IACH,CAAC;IACD,aAAa,CAAC,GAAG,GAAG,KAAK;QACvB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,QAAyB,EAAE,EAAE;YAC5E,IAAI,QAAQ,CAAC,MAAM,IAAI,KAAK,EAAE;gBAC5B,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC;aACnC;iBAAM;gBACL,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,GAAG;QACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAoB,EAAE,EAAE;YAChF,IAAI,GAAG,CAAC,MAAM,IAAI,KAAK,EAAE;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC9B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC5B,CAAC,CAAC;IACJ,CAAC;IACD,cAAc,CAAC,KAAK;QAClB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IACD,cAAc,CAAC,EAAE;QACf,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,GAAG,EAAE,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,WAAW,CAAC,EAAE;QACZ,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,GAAG,EAAE,CAAC,CAAC,CAAC;IACpD,CAAC;IAGD,0BAA0B;IAC1B,sBAAsB;IACtB,gBAAgB;IAChB,IAAI;IAGJ,WAAW,CAAC,CAAM;QAChB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;QACrB,IAAI,CAAC,GAAG,EAAE,CAAC;IACb,CAAC;IACD,eAAe;IACf,KAAK,CAAC,KAAK;QACT,kDAAI,CAAC,IAAI,CAAC;YACR,KAAK,EAAE,eAAe;YACtB,IAAI,EAAE,yBAAyB;YAC/B,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,iBAAiB;YACpC,gBAAgB,EAAE,aAAa;SAChC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,MAAM,CAAC,KAAK,EAAE;gBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBACzB,kDAAI,CAAC,IAAI,CACP,UAAU,EACV,2BAA2B,EAC3B,SAAS,CACV;aACF;iBAAM,IAAI,MAAM,CAAC,OAAO,KAAK,kDAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACvD,kDAAI,CAAC,IAAI,CACP,WAAW,EACX,qBAAqB,EACrB,OAAO,CACR;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YAClF,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;gBAC9B,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;QACH,CAAC,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;;;;;;;ACtHM,MAAM,sBAAsB;IAEjC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAI,CAAC;IAEzC,cAAc,CAAC,QAAyB;QACtC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B,EAAE,QAAQ,CAAC,CAAC;IAC/D,CAAC;IAED,uBAAuB,CAAC,GAAG;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,+BAA+B,GAAG,EAAE,CAAC,CAAC;IAC7D,CAAC;IAED,wBAAwB,CAAC,EAAM;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,gCAAgC,EAAE,EAAE,CAAC,CAAC;IAC7D,CAAC;IAED,qBAAqB,CAAC,EAAE;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,+BAA+B,EAAE,EAAE,CAAC,CAAC;IAC/D,CAAC;IAED,uBAAuB,CAAC,EAAE,EAAC,IAAI;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,EAAC,IAAI,CAAC,CAAC;IACtD,CAAC;IAED,qBAAqB,CAAC,EAAE,EAAE,KAAU;QAClC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,6BAA6B,EAAE,EAAE,EAAE,KAAK,CAAC;IAChE,CAAC;;;;;;;;;;;;;;;AC7BH;AAAA;AAAO,MAAM,aAAa;IAExB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAI,CAAC;IACzC,MAAM,CAAC,MAAM;QACX,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;IACD,GAAG,CAAC,SAAS,EAAE,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAE;QACjC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,yBAAyB,SAAS,SAAS,IAAI,UAAU,KAAK,EAAE,CAAC,CAAC;IACzF,CAAC;CAEF","file":"patient-patient-module-ngfactory-es2015.js","sourcesContent":["\r\nexport const LAB_REPORT_CATEGORIES = [\r\n    \"Hematology\",\r\n    \"Chemical pathology\",\r\n    \"Microbiology\",\r\n    \"Radiology\",\r\n];\r\n\r\nexport const LAB_REPORT_SUB_CATEGORIES = [\r\n    [\"FBC and differentials\", \"ESR\", \"Genotype\", \"blood group\", \"Pcv\", \"PT/PTT/INR\", \"OTHERS\"],\r\n    [\"urinalysis\", \"FBS and 2 hrsPP\", \"FBS\", \"RBS\", \"E/U/Cr\", \"FLP\", \"Pregnancy test\", \"bilirubin\", \"OTHERS\"],\r\n    [\"MP test\", \"Urine MCS\", \"Stool MCS\", \"Sputum for afb.\", \"Gene expert\", \"CSF MCS\", \"blood culture\", \"endocervical swab MCS\", \"sputum MCS\", \"HVS MCS\", \"OTHERS\"],\r\n    [\"plain radiograph(x-ray)\", \"abdominopelvic USS\", \"ECG \", \"Echocardiography\", \"CT\", \"MRI\", \"OTHERS\"]\r\n];\r\n","<div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n        <div class=\"card\">\r\n            <div (keyup.enter)=\"onClickSave()\" class=\"card-body\">\r\n                <h4 class=\"card-title\">Followup Form</h4>\r\n                <form [formGroup]=\"form\" class=\"form-material form-horizontal\">\r\n                    <div class=\"row\">\r\n                        <!-- Date -->\r\n                        <!-- <div class=\"form-group\">\r\n                        <label class=\"col-md-12\" for=\"bdate\">Date Time </label>\r\n                        <div class=\"col-md-12\">\r\n                            <input type=\"datetime-local\" formControlName=\"date\" id=\"bdate\" name=\"bdate\" class=\"form-control mydatepicker\">\r\n                            <small *ngIf=\"isFormSubmitted && f.date.errors && f.date.errors.required\" class=\"text-danger\">\r\n                                date is required\r\n                            </small>\r\n                        </div>\r\n                    </div> -->\r\n                    </div>\r\n\r\n                    <!-- Disease Category -->\r\n                    <div class=\"form-group mt-3\">\r\n                        <label for=\"form19\">Disease</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\">\r\n                            <select class=\"form-control\" formControlName=\"diseaseSubCategory\">\r\n                                <option *ngFor=\"let d of category?.subCategories;\" [value]=\"d.disease\">{{d.disease}}\r\n                                </option>\r\n                            </select>\r\n                            <!-- <select *ngIf=\"isFollowUp\" class=\"form-control\" formControlName=\"diseaseSubCategory\">\r\n                                <option [value]=\"followUp.diseaseSubCategory\">{{followUp.diseaseSubCategory}}</option>\r\n                            </select> -->\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.diseaseSubCategory.errors && f.diseaseSubCategory.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Select a Disease\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Prsenting Complaint -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Presenting Complaint</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\"><br>\r\n                            <textarea formControlName=\"presentingComplaint\" id=\"form19\" class=\"md-textarea form-control\"\r\n                                rows=\"2\"></textarea>\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.presentingComplaint.errors && f.presentingComplaint.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Presenting Complaint is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- History of Presenting Complaint -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">History of Presenting Complaint</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\"> <br>\r\n                            <textarea formControlName=\"historyOfPresentingComplaint\" id=\"form19\"\r\n                                class=\"md-textarea form-control\" rows=\"4\"></textarea>\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.historyOfPresentingComplaint.errors && f.historyOfPresentingComplaint.errors.required\"\r\n                                class=\"text-danger\">\r\n                                History of Presenting Complaint is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <!-- Physical Examination -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Physical Examination</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\"><br>\r\n                            <textarea formControlName=\"physicalExamination\" id=\"form19\" class=\"md-textarea form-control\"\r\n                                rows=\"4\"></textarea>\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.physicalExamination.errors && f.physicalExamination.errors.required\"\r\n                                class=\"text-danger\">\r\n                                History of Presenting Complaint is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Provisional Diagnosis -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Provisional Diagnosis</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\">\r\n                            <br>\r\n                            <textarea formControlName=\"provisionalDiagnosis\" id=\"form19\"\r\n                                class=\"md-textarea form-control\" rows=\"4\"></textarea>\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.provisionalDiagnosis.errors && f.provisionalDiagnosis.errors.required\"\r\n                                class=\"text-danger\">\r\n                                History of Presenting Complaint is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Investigation -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Investigations</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\">\r\n                            <br>\r\n                            <textarea formControlName=\"investigations\" id=\"form19\" class=\"md-textarea form-control\"\r\n                                rows=\"4\"></textarea>\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.investigations.errors && f.investigations.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Investigation is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!--  Final Dagnosis -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Final Diagnosis</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\">\r\n                            <br>\r\n                            <textarea formControlName=\"finalDiagnosis\" id=\"form19\" class=\"md-textarea form-control\"\r\n                                rows=\"4\"></textarea>\r\n                            <small\r\n                                *ngIf=\"isFormSubmitted && f.finalDiagnosis.errors && f.finalDiagnosis.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Final Diagnosis is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Treatment -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Treatment</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\"><br>\r\n                            <textarea formControlName=\"treatment\" id=\"form19\" class=\"md-textarea form-control\"\r\n                                rows=\"4\"></textarea>\r\n                            <small *ngIf=\"isFormSubmitted && f.treatment.errors && f.treatment.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Treatment is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Outcome -->\r\n                    <div class=\"form-group\">\r\n                        <label for=\"form19\">Outcome</label>\r\n                        <div class=\"md-form amber-textarea active-amber-textarea\"><br>\r\n                            <textarea id=\"form19\" formControlName=\"outcome\" class=\"md-textarea form-control\"\r\n                                rows=\"4\"></textarea>\r\n                            <small *ngIf=\"isFormSubmitted && f.outcome.errors && f.outcome.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Outcome is required\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <!-- Prescription Section -->\r\n                    <label for=\"form19\">Prescription</label>\r\n\r\n                    <div [formGroup]=\"prescriptionForm\" (keyup.enter)='onAddPrescription()' class=\"row my-4\">\r\n\r\n                        <!-- Service Name -->\r\n                        <div class=\"col-md-2\">\r\n                            <label for=\"\">Name</label>\r\n                            <input type=\"text\" formControlName=\"name\" class=\"form-control\">\r\n                            <small *ngIf=\"isFormSubmitted && f2.name.errors && f2.name.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Name is Required\r\n                            </small>\r\n                        </div>\r\n                        <!-- Quantity -->\r\n                        <div class=\"col-md-2 \">\r\n                            <label for=\"\">Quantity</label>\r\n                            <input formControlName=\"quantity\" type=\"number\" class=\"form-control\" placeholder=\"\">\r\n                            <small *ngIf=\"isFormSubmitted && f2.quantity.errors && f2.quantity.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Quantity is Required\r\n                            </small>\r\n                        </div>\r\n                        <!-- Days -->\r\n                        <div class=\"col-md-2 \">\r\n                            <label for=\"\">Days</label>\r\n                            <input type=\"number\" formControlName=\"days\" class=\"form-control\">\r\n                            <small *ngIf=\"isFormSubmitted && f2.days.errors && f2.days.errors.required\"\r\n                                class=\"text-danger\">\r\n                                Days are Required\r\n                            </small>\r\n                        </div>\r\n                        <div formGroupName='time' class=\"col-md-4\">\r\n                            <label for=\"\">Days</label>\r\n                            <div class=\"d-md-flex mt-md-4\">\r\n                                <div class=\"custom-control custom-checkbox mr-2\">\r\n                                    <input formControlName='morning' type=\"checkbox\" class=\"custom-control-input\"\r\n                                        id=\"customCheck1\">\r\n                                    <label class=\"custom-control-label\" for=\"customCheck1\">Morning</label>\r\n                                </div>\r\n                                <div class=\"custom-control custom-checkbox mr-2\">\r\n                                    <input formControlName='afternoon' type=\"checkbox\" class=\"custom-control-input\"\r\n                                        id=\"customCheck2\">\r\n                                    <label class=\"custom-control-label\" for=\"customCheck2\">Afternoon</label>\r\n                                </div>\r\n                                <div class=\"custom-control custom-checkbox mr-2\">\r\n                                    <input formControlName='evening' type=\"checkbox\" class=\"custom-control-input\"\r\n                                        id=\"customCheck3\">\r\n                                    <label class=\"custom-control-label\" for=\"customCheck3\">Evening</label>\r\n                                </div>\r\n                                <div class=\"custom-control custom-checkbox mr-2\">\r\n                                    <input formControlName='night' type=\"checkbox\" class=\"custom-control-input\"\r\n                                        id=\"customCheck4\">\r\n                                    <label class=\"custom-control-label\" for=\"customCheck4\">Night</label>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"col-md-1 mt-md-4\">\r\n                            <button (click)='onAddPrescription()' class=\"btn btn-primary mt-2 btn-block\">Add &nbsp;\r\n                                <i class=\"fas fa-plus\"></i></button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"addedPrescriptions.length !== 0\" class=\"row my-4\">\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"table-responsive\">\r\n                                <table class=\"table table-hover\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th class=\"text-center\">#</th>\r\n                                            <th>Name</th>\r\n                                            <th class=\"text-center\">Quantity</th>\r\n                                            <th class=\"text-center\">Days</th>\r\n                                            <th class=\"\">Time</th>\r\n                                            <th class=\"text-center\">Action</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr *ngFor=\"let item of addedPrescriptions;let i = index\">\r\n                                            <td class=\"text-center\"> {{i+1}} </td>\r\n                                            <td class=\"custom-width\"> {{item?.name}} </td>\r\n                                            <td class=\"text-center\">{{item?.quantity}} </td>\r\n                                            <td class=\"text-center\"> {{item?.days}} </td>\r\n                                            <td class=\"\">\r\n                                                <div class=\"\">\r\n                                                    <div *ngIf=\"item?.time.morning\"\r\n                                                        class=\"custom-control custom-checkbox disabled mr-2\">\r\n                                                        <input type=\"checkbox\" class=\"custom-control-input\"\r\n                                                            [checked]='item?.time.morning' disabled id=\"customCheck5\">\r\n                                                        <label class=\"custom-control-label\"\r\n                                                            for=\"customCheck5\">Morning</label>\r\n                                                    </div>\r\n                                                    <div *ngIf=\"item?.time.afternoon\"\r\n                                                        class=\"custom-control custom-checkbox disabled mr-2\">\r\n                                                        <input type=\"checkbox\" class=\"custom-control-input\"\r\n                                                            [checked]='item?.time.afternoon' disabled id=\"customCheck6\">\r\n                                                        <label class=\"custom-control-label\"\r\n                                                            for=\"customCheck6\">Afternoon</label>\r\n                                                    </div>\r\n                                                    <div *ngIf=\"item?.time.evening\"\r\n                                                        class=\"custom-control custom-checkbox disabled mr-2\">\r\n                                                        <input type=\"checkbox\" class=\"custom-control-input\"\r\n                                                            [checked]='item?.time.evening' disabled id=\"customCheck7\">\r\n                                                        <label class=\"custom-control-label\"\r\n                                                            for=\"customCheck7\">Evening</label>\r\n                                                    </div>\r\n                                                    <div *ngIf=\"item?.time.night\"\r\n                                                        class=\"custom-control custom-checkbox disabled mr-2\">\r\n                                                        <input type=\"checkbox\" class=\"custom-control-input\"\r\n                                                            [checked]='item?.time.night' disabled id=\"customCheck8\">\r\n                                                        <label class=\"custom-control-label\"\r\n                                                            for=\"customCheck8\">Night</label>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td class=\"text-center\">\r\n                                                <a href=\"javascript:void(0)\"> <i (click)='onEditPrescription(i)'\r\n                                                        class=\"fas text-success pointer fa-lg fa-pencil-alt\"></i></a>\r\n                                                <a href=\"javascript:void(0)\"> <i (click)='delet(i)'\r\n                                                        class=\"fas pointer ml-3 text-danger fa-lg fa-trash\"></i></a>\r\n                                            </td>\r\n                                        </tr>\r\n\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div class=\"text-right\">\r\n                      <!-- Buttons -->\r\n                      <a (click)=\"onClickCancel()\" href=\"javascript:void(0)\"\r\n                      class=\"btn btn-dark waves-effect waves-light\">Cancel</a>\r\n                      <button (click)=\"onClickSave()\" type=\"submit\"\r\n                      class=\"btn btn-info waves-effect waves-light m-r-10\">Submit</button>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { PatientService } from '../patient.service';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DiseaseCategoryService } from '../services/diseaseCategory.service';\r\nimport { DiseaseCategory } from 'src/app/_models/diseaseCategory';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { Disease } from 'src/app/_models/disease';\r\nimport { Prescription } from 'src/app/_models/prescription';\r\nimport Swal from 'sweetalert2';\r\nimport { Patient } from 'src/app/_models/patient';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { NotificationService } from 'src/app/shared/notification.service';\r\nimport { PharmacyService } from 'src/app/pharmacy/pharmacy.service';\r\n\r\n@Component({\r\n  selector: 'app-add-followup',\r\n  templateUrl: './add-followup.component.html',\r\n  styleUrls: ['./add-followup.component.css']\r\n})\r\nexport class AddFollowupComponent implements OnInit {\r\n  /**\r\n * Notifier service\r\n */\r\n  private notifier: NotifierService;\r\n\r\n  /**\r\n  * Constructor\r\n  *\r\n  * @param {NotifierService} notifier Notifier service\r\n  */\r\n  // public constructor( notifier: NotifierService ) {\r\n  // \tthis.notifier = notifier;\r\n  // }\r\n\r\n  /**\r\n  * Show a notification\r\n  *\r\n  * @param {string} type    Notification type\r\n  * @param {string} message Notification message\r\n  */\r\n  public showNotification(type: string, message: string): void {\r\n    this.notifier.notify(type, message);\r\n  }\r\n\r\n\r\n\r\n  /**\r\n  * Show a specific notification (with a custom notification ID)\r\n  *\r\n  * @param {string} type    Notification type\r\n  * @param {string} message Notification message\r\n  * @param {string} id      Notification ID\r\n  */\r\n  public showSpecificNotification(type: string, message: string, id: string): void {\r\n    this.notifier.show({ id, message, type });\r\n  }\r\n\r\n  /**\r\n  * Hide a specific notification (by a given notification ID)\r\n  *\r\n  * @param {string} id Notification ID\r\n  */\r\n  public hideSpecificNotification(id: string): void {\r\n    this.notifier.hide(id);\r\n  }\r\n\r\n  pharmacyList = [];\r\n\r\n  form: FormGroup;\r\n  prescriptionForm: FormGroup;\r\n  isFormSubmitted: boolean;\r\n  isPrescriptionSubmitted: boolean;\r\n\r\n\r\n  category: DiseaseCategory;\r\n  patientID: any;\r\n  patient: Patient;\r\n  diseaseCategoryID: any;\r\n  followUpID: any;\r\n  followUp: Disease;\r\n  isFollowUp = false;\r\n\r\n  addedPrescriptions: Prescription[] = [];\r\n  isPrescriptionEdit: boolean = false;\r\n  editIndex = null;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private formBuilder2: FormBuilder,\r\n    notifier: NotifierService,\r\n    private patientService: PatientService,\r\n    private diseaseCategoryService: DiseaseCategoryService,\r\n    private route: ActivatedRoute,\r\n    private authService: AuthService,\r\n    private notificationService: NotificationService,\r\n    private pharmacyService: PharmacyService,\r\n    private router: Router) { this.notifier = notifier; }\r\n\r\n  ngOnInit() {\r\n    this.patientID = this.route.snapshot.paramMap.get('id');\r\n    if (this.patientID) {\r\n      this.getPatient();\r\n    }\r\n    this.diseaseCategoryID = this.route.snapshot.paramMap.get('cid');\r\n    this.followUpID = this.route.snapshot.paramMap.get('fid');\r\n    if (this.followUpID) {\r\n      this.getFollowUp(this.followUpID);\r\n    }\r\n    if (this.diseaseCategoryID) {\r\n      this.getDiseaseCategories(this.diseaseCategoryID);\r\n    }\r\n    this.isFormSubmitted = false;\r\n    this.isPrescriptionSubmitted = false;\r\n    this.create();\r\n    this.cretaePrescriptionForm();\r\n    this.getPharmacyList();\r\n  }\r\n\r\n  // creates Reactive Form\r\n  create() {\r\n    this.form = this.formBuilder.group({\r\n      // time: ['', Validators.required],\r\n      // date: ['', Validators.required],\r\n      diseaseSubCategory: ['', Validators.required],\r\n      presentingComplaint: ['', Validators.required],\r\n      historyOfPresentingComplaint: ['', Validators.required],\r\n      physicalExamination: ['', Validators.required],\r\n      provisionalDiagnosis: ['', Validators.required],\r\n      investigations: ['', Validators.required],\r\n      finalDiagnosis: ['', Validators.required],\r\n      treatment: ['', Validators.required],\r\n      outcome: ['', Validators.required],\r\n      prescription: ['']\r\n    });\r\n  }\r\n\r\n  cretaePrescriptionForm() {\r\n    this.prescriptionForm = this.formBuilder2.group({\r\n      name: ['', Validators.required],\r\n      quantity: ['', Validators.required],\r\n      days: ['', Validators.required],\r\n      time: this.formBuilder2.group({\r\n        morning: [false],\r\n        afternoon: [false],\r\n        evening: [false],\r\n        night: [false],\r\n      }),\r\n    });\r\n  }\r\n\r\n  get f() { return this.form.controls; }\r\n\r\n  get f2() { return this.prescriptionForm.controls; }\r\n\r\n  getPatient() {\r\n    this.patientService.getById(this.patientID).subscribe((res: ResponseMessage) => {\r\n      if (res.status == '200') {\r\n        this.patient = res.data;\r\n      } else {\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  // on submit form\r\n  onClickSave() {\r\n    // this.form.patchValue({ date: Date.now() });\r\n\r\n    this.isFormSubmitted = true;\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n\r\n    // if (this.addedPrescriptions.length <= 0) {\r\n    //   this.showNotification('error', 'add Prescriptions');\r\n    //   this.isFormSubmitted = false;\r\n    //   return;\r\n    // }\r\n\r\n    // if (this.isFollowUp) {\r\n    //   this.updateFollowUp();\r\n    //   return;\r\n    // }\r\n\r\n    // console.log(this.form.value);\r\n\r\n    console.log(this.form.value);\r\n\r\n    this.patientService.addFollowUp({ ...this.form.value, diseaseCategory: this.category.category, patient: this.patient.user._id }).subscribe((res: ResponseMessage) => {\r\n      if (res.status == '200') {\r\n        console.log(res.data);\r\n        this.showNotification('success', 'Medical Follow up successfully added.');\r\n        this.sendNotifications(res.data._id); // sends notification \r\n        // this.notificationService.sendNotification(notObj);\r\n        this.router.navigate([`/app/patient/${this.patientID}/medical`]);\r\n        this.form.reset();\r\n      } else {\r\n      }\r\n    });\r\n  }\r\n\r\n  getDiseaseCategories(id) {\r\n    console.log('here.' + id);\r\n    this.diseaseCategoryService.getSingleDiseaseCategory(id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        console.log(res);\r\n        this.category = res.data[0];\r\n        if (res.data.length == 0) {\r\n          this.category = null;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  getFollowUp(id) {\r\n    this.patientService.getSingleFollowUp(id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        console.log(res);\r\n        this.isFollowUp = true;\r\n        this.followUp = res.data[0];\r\n        this.form.patchValue({\r\n          diseaseSubCategory: this.followUp.diseaseSubCategory,\r\n          presentingComplaint: this.followUp.presentingComplaint,\r\n          historyOfPresentingComplaint: this.followUp.historyOfPresentingComplaint,\r\n          physicalExamination: this.followUp.physicalExamination,\r\n          provisionalDiagnosis: this.followUp.provisionalDiagnosis,\r\n          investigations: this.followUp.investigations,\r\n          finalDiagnosis: this.followUp.finalDiagnosis,\r\n          prescription: this.followUp.prescription,\r\n          treatment: this.followUp.treatment,\r\n          outcome: this.followUp.outcome,\r\n        });\r\n        this.addedPrescriptions = this.form.get('prescription').value;\r\n\r\n      } else {\r\n        this.showNotification('warning', 'No history Found Against Specific Disease');\r\n        this.category = res.data[0];\r\n      }\r\n    })\r\n  }\r\n\r\n  // updates FollowUp\r\n  updateFollowUp() {\r\n    console.log(this.form.value);\r\n    this.patientService.updateFollowUp(this.followUp._id, this.form.value).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.showNotification('success', 'Medical Follow up successfully Updated.')\r\n        this.router.navigate([`/app/patient/${this.patientID}/medical`]);\r\n      }\r\n    })\r\n  }\r\n\r\n  onClickCancel() {\r\n    this.router.navigate([`/app/patient/${this.patientID}/medical`]);\r\n  }\r\n\r\n  // adds Prescription\r\n  onAddPrescription() {\r\n    this.isPrescriptionSubmitted = true;\r\n    if (this.prescriptionForm.invalid) {\r\n      return;\r\n    }\r\n    if (this.isPrescriptionEdit) {\r\n      this.addedPrescriptions[this.editIndex] = this.prescriptionForm.value;\r\n      this.isPrescriptionEdit = false;\r\n    }\r\n    else {\r\n      this.addedPrescriptions.push(this.prescriptionForm.value);\r\n    }\r\n    this.form.patchValue({ 'prescription': this.addedPrescriptions });\r\n    this.isPrescriptionSubmitted = false;\r\n    this.prescriptionForm.reset();\r\n    this.isPrescriptionSubmitted = false;\r\n  }\r\n\r\n  // edits Prescription\r\n  onEditPrescription(i) {\r\n    this.prescriptionForm.reset();\r\n    this.prescriptionForm.setValue(this.addedPrescriptions[i]);\r\n    this.isPrescriptionEdit = true;\r\n    this.editIndex = i;\r\n  }\r\n\r\n  //deletes Prescription\r\n  private onDeletePrescription(index) {\r\n    this.addedPrescriptions = this.addedPrescriptions.filter(item => item !== this.addedPrescriptions[index]);\r\n    this.form.patchValue({ 'prescription': this.addedPrescriptions });\r\n    Swal.fire('Deleted!', 'Prescription has been deleted.', 'success');\r\n  }\r\n\r\n  // swal Notifier for prescription Delete\r\n  delet(index) {\r\n    Swal.fire({\r\n      title: 'Are you sure?', text: 'Prescription will be Deleted', icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, delete it!',\r\n      cancelButtonText: 'No, keep it'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.onDeletePrescription(index);\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire('Cancelled', 'Prescription not deleted', 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  getPharmacyList() {\r\n    this.pharmacyService.getPharmacyList().subscribe((res: any) => {\r\n      // console.log('phrmacy List', res);\r\n      if (+res.status === 200) {\r\n        this.pharmacyList = res.data;\r\n        console.log(this.pharmacyList);\r\n      } else {\r\n        this.pharmacyList = [];\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  // Sends Notifications to patient and pharmacy\r\n  sendNotifications(id) {\r\n    let notObj = {\r\n      createdBy: this.authService.currentUserValue._id,\r\n      description: 'A Prescription has been added',\r\n      category: 5,\r\n      sentTo: [this.patient.user._id],\r\n      naviagteUrl: `/app/patient/profile/${this.patient.user._id}/medical/followup/${id}`\r\n    }\r\n    this.notificationService.sendNotification(notObj); //send notification to patient\r\n\r\n    // if prescription is added then sends notification to pharmacy\r\n    if (this.addedPrescriptions.length > 0 && this.pharmacyList.length > 0) {\r\n      notObj.sentTo = [];\r\n      this.pharmacyList.forEach(element => {\r\n        notObj.sentTo.push(element.user._id);\r\n      });\r\n      notObj.naviagteUrl = `app/prescription/${id}`;\r\n      this.notificationService.sendNotification(notObj);\r\n    }\r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-body\">\r\n        <h5 class=\"card-title\">Basic Information</h5>\r\n        <div class=\"form-material form-horizontal\" [formGroup]=\"form\">\r\n            <div class=\"\">\r\n                <div class=\"col-md-4 pt-3 float-right\">\r\n                    <div class=\"card\">\r\n                        <input type=\"file\" (change)=\"uploader.uploadAll()\" ng2FileSelect [uploader]=\"uploader\" #inp\r\n                            style=\"display: none;\" />\r\n                        <div class=\"card-header text-center\">\r\n                            <div class=\"edit-img\">\r\n                                <img *ngIf=\"!f.image.value\" [src]=\"url\" alt=\"\" class=\"rounded-circle\">\r\n                                <img *ngIf=\"f.image.value\" [src]=\"f.image.value|imageSrc\" alt=\"\" class=\"rounded-circle\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <button (click)=\"inputClick()\" class=\"btn btn-primary btn-block pt-2\"\r\n                                style=\"background: #50dff9; border: none;\">\r\n                                <label>\r\n                                    Upload\r\n                                </label>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Name -->\r\n                <div class=\"form-group mt-4\">\r\n                    <label class=\"col-md-12\" for=\"example-text\">Name</label>\r\n                    <div class=\"col-md-12\">\r\n                        <input type=\"text\" formControlName=\"name\" class=\"form-control\" placeholder=\"enter  name\">\r\n                        <!-- Name Validation -->\r\n                        <small *ngIf=\"isFormSubmitted && f.name.errors && f.name.errors.required\" class=\"text-danger\">\r\n                            Name is Required\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Date Of Birth -->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-12\" for=\"bdate\">Date of Birth\r\n                    </label>\r\n                    <div class=\"input-group-append\">\r\n                        <input class=\"form-control pl-3\" placeholder=\"dd/mm/yyyy\" name=\"dp\" formControlName=\"dob\"\r\n                             ngbDatepicker #d=\"ngbDatepicker\" (blur)=\"d.close()\">\r\n                            <!-- [minDate]=\"minDate\" [maxDate]=\"maxDate\" ngbDatepicker #d=\"ngbDatepicker\" (blur)=\"d.close()\"> -->\r\n                        <button class=\"btn btn-outline-secondary fa fa-calendar\" (click)=\"d.toggle()\"\r\n                            type=\"button\"></button>\r\n                        <!-- Date of Birth Validation -->\r\n\r\n                    </div>\r\n                    <small *ngIf=\"isFormSubmitted && f.dob.errors && f.dob.errors.required\" class=\"text-danger pl-3\">\r\n                        Date of Birth is Required.\r\n                    </small>\r\n                </div>\r\n\r\n                <!-- Gender -->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-12\" for=\"example-text\">Gender\r\n                    </label>\r\n                    <div class=\"col-md-12\">\r\n                        <select formControlName=\"gender\" class=\"form-control\">\r\n                            <option value=\"\">Select Gender</option>\r\n                            <option value=\"Male\">Male</option>\r\n                            <option value=\"Female\">Female</option>\r\n                        </select>\r\n                        <small *ngIf=\"isFormSubmitted && f.gender.errors && f.gender.errors.required\"\r\n                            class=\"text-danger\">\r\n                            Gender is Required.\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Gender -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-text\">Marital Status\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <select formControlName=\"maritalStatus\" class=\"form-control\">\r\n                        <option value=\"\">Select Marital Status</option>\r\n                        <option value=\"single\">single</option>\r\n                        <option value=\"married\">married</option>\r\n                        <option value=\"widowed\">widowed</option>\r\n                        <option value=\"divorced\">divorced</option>\r\n                        <option value=\"separated\">separated</option>\r\n                    </select>\r\n                    <small *ngIf=\"isFormSubmitted && f.maritalStatus.errors && f.maritalStatus.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Marital Status is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Tribe -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-text\">Tribe\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"tribe\" class=\"form-control\" placeholder=\"enter  tribe\">\r\n                    <!-- City Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.tribe.errors && f.tribe.errors.required\" class=\"text-danger\">\r\n                        Tribe is Required.\r\n                    </small>\r\n                </div>\r\n            </div><!-- City -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-text\">Religion\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"religion\" class=\"form-control\" placeholder=\"enter  Religion\">\r\n                    <!-- City Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.religion.errors && f.religion.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Religion is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n            <!-- Occupation -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-text\">Occupation\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"occupation\" class=\"form-control\"\r\n                        placeholder=\"enter  occupation\">\r\n                    <!-- Occupation Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.occupation.errors && f.occupation.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Occupation is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Addres -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-text\">Address\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"address\" class=\"form-control\" placeholder=\"enter  address\">\r\n                    <!--  Address Validation-->\r\n                    <small *ngIf=\"isFormSubmitted && f.address.errors && f.address.errors.required\" class=\"text-danger\">\r\n                        Address is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- City -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-text\">City\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"city\" class=\"form-control\" placeholder=\"enter  city\">\r\n                    <!-- City Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.city.errors && f.city.errors.required\" class=\"text-danger\">\r\n                        City is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- State -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\">State</label>\r\n                <div class=\"col-md-12\">\r\n                    <select formControlName=\"state\" class=\"form-control\">\r\n                        <option value=\"\">Select State</option>\r\n                        <option *ngFor=\"let st of states\" [value]=\"st\">{{st}}</option>\r\n\r\n                    </select>\r\n                    <small *ngIf=\"isFormSubmitted && f.state.errors && f.state.errors.required\" class=\"text-danger\">\r\n                        State is Required\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Email -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\">Email\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"email\" formControlName=\"email\" class=\"form-control\" placeholder=\"enter  email\">\r\n                    <!-- Email Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.email.errors && f.email.errors.required\" class=\"text-danger\">\r\n                        Email is Required.\r\n                    </small>\r\n                    <small *ngIf=\"isFormSubmitted && f.email.errors && f.email.errors.email\" class=\"text-danger\">\r\n                        Enter a valid Email\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Phone -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"example-phone\">Phone\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"phone\" num class=\"form-control\" placeholder=\"enter  phone\"\r\n                        data-mask=\"(999) 999-9999\">\r\n                    <!-- Phone Number Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.phone.errors && f.phone.errors.required\" class=\"text-danger\">\r\n                        Phone Number is Required\r\n                    </small>\r\n                    <small *ngIf=\"isFormSubmitted && f.phone.errors && f.phone.errors?.maxlength\" class=\"text-danger\">\r\n                        Phone Number's length is exceeded\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Password -->\r\n            <div *ngIf=\"!isEdit\" class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"pwd\">Password\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"password\" formControlName=\"password\" class=\"form-control\"\r\n                        placeholder=\"enter  password\">\r\n                    <small *ngIf=\"isFormSubmitted && f.password.errors && f.password.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Password is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\">Description</label>\r\n                <div class=\"col-md-12\">\r\n                    <textarea formControlName=\"description\" class=\"form-control\" rows=\"3\"></textarea>\r\n                    <small *ngIf=\"isFormSubmitted && f.description.errors && f.description.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Description is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n            <div class=\"text-right\">\r\n                <button type=\"button\" [routerLink]=\"['/app/patient']\"\r\n                    class=\"btn btn-dark waves-effect waves-light\">Cancel</button>\r\n                <button type=\"submit\" (click)=\"onClickSave()\"\r\n                    class=\"btn btn-info waves-effect waves-light m-l-10\">Submit</button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Update Password -->\r\n    <div *ngxPermissionsOnly=\"['patient']\" class=\"modal-body\">\r\n        <h5 class=\"card-title\">Password & Security</h5>\r\n        <form [formGroup]=\"passwordForm\" class=\"form-horizontal form-material\">\r\n            <div class=\"form-group\">\r\n                <!-- Old Password -->\r\n                <div class=\"col-md-12 m-b-20\">\r\n                    <label class=\"col-md-12\" for=\"example-text\">Current Password</label>\r\n                    <input formControlName=\"password\" type=\"password\" class=\"form-control\"\r\n                        placeholder=\"Current Password\">\r\n                    <app-errors [form_control]=\"f2.password\" [isSubmitted]=\"isPasswordFromSubmit\"></app-errors>\r\n                </div>\r\n                <!-- New Password -->\r\n                <div class=\"col-md-12 m-b-20\">\r\n                    <label class=\"col-md-12\" for=\"example-text\">New Password</label>\r\n                    <input formControlName=\"newPassword\" type=\"password\" class=\"form-control\"\r\n                        placeholder=\"New Password\">\r\n                    <app-errors [form_control]=\"f2.newPassword\" [isSubmitted]=\"isPasswordFromSubmit\"></app-errors>\r\n                </div>\r\n                <!-- Confirm Password -->\r\n                <div class=\"col-md-12 m-b-20\">\r\n                    <label class=\"col-md-12\" for=\"example-text\">Confirm New Password\r\n                    </label>\r\n                    <input formControlName=\"confirmNewPassword\" type=\"password\" class=\"form-control\"\r\n                        placeholder=\"Confirm New Password\">\r\n                    <app-errors [form_control]=\"f2.confirmNewPassword\" [isSubmitted]=\"isPasswordFromSubmit\">\r\n                    </app-errors>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <div class=\"modal-footer\">\r\n            <a (click)=\"onSubmitPasswordForm()\" class=\"btn btn-info text-white waves-effect\">Change Password</a>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { PatientService } from '../patient.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { Patient } from 'src/app/_models/patient';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { states } from 'src/app/_constants/states';\r\nimport { DiseaseCategoryService } from '../services/diseaseCategory.service';\r\nimport { DiseaseCategory } from 'src/app/_models/diseaseCategory';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { ConfirmPasswordValidator } from 'src/app/_helpers/confirm-password';\r\nimport Swal from 'sweetalert2';\r\nimport { Location } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.css']\r\n})\r\nexport class AddComponent implements OnInit {\r\n  public uploader: FileUploader = new FileUploader({ url: `${environment.base_url}api/upload` });\r\n\r\n  states = states;\r\n  form: FormGroup;\r\n  isFormSubmitted = false;\r\n  isPasswordFromSubmit = false;\r\n  passwordForm: FormGroup;\r\n  editPatient: Patient = null;\r\n  patienId: any = null;\r\n  isEdit: boolean = false;\r\n  url: string = `${environment.base_url}images/user.jpg`;\r\n\r\n  defaultDiseasesList: DiseaseCategory[] = [];\r\n\r\n  todayDate = new Date(Date.now());\r\n  // minDate = this.todayDate;\r\n  minDate: NgbDateStruct = { year: this.todayDate.getFullYear() - 100, month: 0, day: 1 };\r\n  maxDate: NgbDateStruct = { year: this.todayDate.getFullYear(), month: this.todayDate.getMonth(), day: this.todayDate.getDate() };\r\n  @ViewChild('inp', { static: false }) inp: ElementRef;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n    private _location: Location,\r\n    private formBuilder2: FormBuilder,\r\n    private patientService: PatientService,\r\n    private userService: AuthService,\r\n    private diseaseCategoryService: DiseaseCategoryService,\r\n    public notifier: NotifierService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.create();\r\n    this.createPasswordForm();\r\n\r\n    // this.initilizeDefaultCategories();\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.patienId = (params['id']);\r\n      if (this.patienId) {\r\n        this.isEdit = true;\r\n        this.getPatient(this.patienId);\r\n      }\r\n    });\r\n\r\n    this.uploader.onAfterAddingFile = (file) => {\r\n      if (this.uploader.queue.length > 1) {\r\n        this.uploader.removeFromQueue(this.uploader.queue[0]);\r\n      }\r\n      file.onSuccess = (res: any) => {\r\n        this.f.image.patchValue(JSON.parse(res).url);\r\n      };\r\n    };\r\n  }\r\n\r\n\r\n  public showNotification(type: string, message: string): void {\r\n    this.notifier.notify(type, message);\r\n  }\r\n\r\n  create() {\r\n    this.form = this.formBuilder.group({\r\n      name: ['', Validators.required],\r\n      occupation: ['', Validators.required],\r\n      email: ['', [Validators.required]],\r\n      password: ['', Validators.required],\r\n      address: ['', Validators.required],\r\n      image: [''],\r\n      city: ['', Validators.required],\r\n      maritalStatus: ['', Validators.required],\r\n      tribe: ['', Validators.required],\r\n      religion: ['', Validators.required],\r\n      state: ['', Validators.required],\r\n      phone: ['', [Validators.required, Validators.maxLength(15)]],\r\n      dob: ['', Validators.required],\r\n      gender: ['', Validators.required],\r\n      description: ['', Validators.required],\r\n      role: ['patient']\r\n\r\n    });\r\n  }\r\n\r\n  get f() { return this.form.controls; }\r\n\r\n  onClickSave() {\r\n    console.log(this.form.value)\r\n    this.isFormSubmitted = true;\r\n    if (this.form.invalid) {\r\n      // console.log(this.form.errors)\r\n      for (const field in this.form.controls) { // 'field' is a strin\r\n        const control = this.form.get(field); // 'control' is a FormControl\r\n        console.log('control', control.errors)\r\n      }\r\n      return;\r\n    }\r\n    if (this.patienId) {\r\n      this.updateUser();\r\n      return;\r\n    }\r\n\r\n    this.patientService.post(this.form.value).subscribe((res: ResponseMessage) => {\r\n      if (res.status == '200') {\r\n        // navigate to list page\r\n        let id = res.data._id;\r\n        console.log(id, this.defaultDiseasesList);\r\n        this.showNotification('success', 'Patient is successfully added.')\r\n        this.router.navigate(['app/patient']);\r\n      }\r\n    });\r\n  }\r\n\r\n  inputClick() {\r\n    this.inp.nativeElement.click();\r\n  }\r\n\r\n\r\n  getPatient(id) {\r\n    this.patientService.getById(id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.editPatient = res.data;\r\n        console.log(this.editPatient);\r\n\r\n\r\n        this.form.patchValue({\r\n          name: this.editPatient.user.name,\r\n          occupation: this.editPatient.occupation,\r\n          description: this.editPatient.description,\r\n          dob: new Date(this.editPatient.dob),\r\n          gender: this.editPatient.gender,\r\n          maritalStatus: this.editPatient.maritalStatus,\r\n          tribe: this.editPatient.tribe,\r\n          religion: this.editPatient.religion,\r\n          email: this.editPatient.user.email,\r\n          password: this.editPatient.user.password,\r\n          address: this.editPatient.user.address,\r\n          city: this.editPatient.user.city,\r\n          state: this.editPatient.user.state,\r\n          phone: this.editPatient.user.phone,\r\n          image: this.editPatient.user.image\r\n\r\n        });\r\n      } else {\r\n        this.editPatient = null;\r\n      }\r\n    })\r\n  }\r\n\r\n  // Updates User\r\n  updateUser() {\r\n    let user = this.editPatient.user;\r\n\r\n    user.address = this.f['address'].value;\r\n    user.city = this.f['city'].value;\r\n    user.email = this.f['email'].value;\r\n    user.image = this.f['image'].value || this.editPatient.user.image;\r\n    user.name = this.f['name'].value;\r\n    user.phone = this.f['phone'].value;\r\n    user.state = this.f['state'].value;\r\n\r\n    console.log(user);\r\n    this.userService.updateUser(user._id, user).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.updatePatient();\r\n      }\r\n      else {\r\n        this.showNotification('error', 'An Error Occured');\r\n        this._location.back();\r\n        // this.router.navigate(['app/patient']);\r\n      }\r\n    })\r\n  }\r\n\r\n  // Updates Patient\r\n  updatePatient() {\r\n    this.patientService.updatePatient(this.patienId, this.form.value).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        // navigate to list page\r\n        this.showNotification('success', 'Patient Updated Successfully.');\r\n        this._location.back();\r\n        // this.router.navigate(['app/patient']);\r\n      }\r\n      else {\r\n        this.showNotification('error', 'An Error Occured');\r\n        // this.router.navigate(['app/patient']);\r\n        this._location.back();\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  // initilizeDefaultCategories() {\r\n  //   this.defaultDiseasesList.push({ _id: null, category: \"Problems/Past Medical History\", subCategories: [] });\r\n  //   this.defaultDiseasesList.push({ _id: null, category: \"Drug History\", subCategories: [] });\r\n  //   this.defaultDiseasesList.push({ _id: null, category: \"Surgical History\", subCategories: [] });\r\n  //   this.defaultDiseasesList.push({ _id: null, category: \"Obstetrics and gynacology History\", subCategories: [] });\r\n  //   this.defaultDiseasesList.push({ _id: null, category: \"Vaccines\", subCategories: [] });\r\n  //   this.defaultDiseasesList.push({ _id: null, category: \"Allergies\", subCategories: [] });\r\n  // }\r\n\r\n\r\n\r\n  // password Section Form\r\n  createPasswordForm() {\r\n    this.passwordForm = this.formBuilder2.group({\r\n      password: ['', [Validators.required]],\r\n      newPassword: ['', [Validators.required]],\r\n      confirmNewPassword: ['', [Validators.required]],\r\n    }, {\r\n      validator: ConfirmPasswordValidator('newPassword', 'confirmNewPassword')\r\n    });\r\n  }\r\n\r\n  get f2() { return this.passwordForm.controls; }\r\n\r\n  // password Section Submit Button Actions\r\n  onSubmitPasswordForm() {\r\n    this.isPasswordFromSubmit = true;\r\n    if (this.passwordForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.userService.updatePassword(this.passwordForm.value).subscribe((res: any) => {\r\n      if (+res.status === 200) {\r\n        Swal.fire('Password Updated!', '', 'success');\r\n        this.userService.logout();\r\n        this.router.navigate(['/login']);\r\n        this.passwordForm.reset();\r\n        this.isPasswordFromSubmit = false;\r\n      } else {\r\n        Swal.fire({ icon: 'error', title: 'Error!', text: 'Password Updation Failed', })\r\n      }\r\n    }, err => {\r\n      Swal.fire({ icon: 'error', title: 'Error!', text: 'Password  Invalid', })\r\n    });\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"!isLoader\">\r\n<div class=\"row\">\r\n    <!-- Column -->\r\n    <div class=\"col-lg-4 col-md-6\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <div class=\"d-flex no-block\">\r\n                    <div class=\"round align-self-center round-success\"><i class=\"fa fa-flask\"></i></div>\r\n                    <div class=\"m-l-10 align-self-center\">\r\n                        <h3 class=\"m-b-0\">{{labReportCount}}</h3>\r\n                        <h5 class=\"text-muted m-b-0\">Reports</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div> \r\n    </div>\r\n    <!-- Column -->\r\n    <!-- Column -->\r\n    <div class=\"col-lg-4 col-md-6\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <div class=\"d-flex no-block\">\r\n                    <div class=\"round align-self-center round-info\"><i class=\"fa fa-calendar\"></i></div>\r\n                    <div class=\"m-l-10 align-self-center\">\r\n                        <h3 class=\"m-b-0\">{{appointmentCount}}</h3>\r\n                        <h5 class=\"text-muted m-b-0\">Appointments</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Column -->\r\n    <!-- Column -->\r\n    <div class=\"col-lg-4 col-md-6\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <div class=\"d-flex no-block\">\r\n                    <div class=\"round align-self-center round-danger\"><i class=\"fa fa-calendar\"></i></div>\r\n                    <div class=\"m-l-10 align-self-center\">\r\n                        <h3 class=\"m-b-0\">{{visitCount}}</h3>\r\n                        <h5 class=\"text-muted m-b-0\">Visits</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Column -->\r\n\r\n</div>\r\n<!-- Row -->\r\n\r\n<!-- /row -->\r\n<div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title m-b-0\">Scheduled Appointments List</h5>\r\n                <p class=\"text-muted\">Recent Appointments added in this month</p>\r\n                <div class=\"table-responsive\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Doctor</th>\r\n                                <th>date</th>\r\n                                <th>Status</th>\r\n\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let h of appointments;let i=  index\" (click)=\"gotoAppointment()\">\r\n                                <td>{{i +1}}</td>\r\n                                <td>{{h.doctor.user.name}}</td>\r\n                                <td>{{h.startDate | date : 'short' }}</td>\r\n                                <td>{{h.status}}</td>\r\n\r\n                            </tr>\r\n\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n</div>\r\n<loader *ngIf=\"isLoader\"></loader>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { User } from 'src/app/_models/user';\r\nimport { DashboardService } from 'src/app/dashboard/dashboard.service';\r\nimport { Router } from '@angular/router';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\nimport { Appointment } from 'src/app/_models/appointment';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  isLoader = false;\r\n  public labReportCount = 0;\r\n  public appointmentCount = 0;\r\n  public visitCount = 0;\r\n  public appointments: Appointment[] = [];\r\n\r\n\r\n\r\n\r\n\r\n  constructor(private dashboardService: DashboardService,\r\n    private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n\r\n\r\n  }\r\n  getData() {\r\n    this.isLoader = true;\r\n    this.dashboardService.getPatientDashboard().subscribe((res: ResponseMessage) => {\r\n      if (res.status == '200') {\r\n        this.labReportCount = res.data.labReport;\r\n        this.appointmentCount = res.data.appointment;\r\n        this.visitCount = res.data.visit;\r\n        this.appointments = res.data.appointments;\r\n        this.isLoader = false;\r\n      }\r\n    })\r\n  }\r\n  gotoAppointment() {\r\n    this.router.navigate([`app/calender`]);\r\n  }\r\n}\r\n","<!-- Modern Follow-up Details Template -->\r\n<div class=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 p-4\">\r\n    <div class=\"max-w-6xl mx-auto\">\r\n\r\n        <!-- Header Section -->\r\n        <div class=\"bg-white shadow-xl rounded-2xl overflow-hidden mb-6\">\r\n            <!-- Header Gradient -->\r\n            <div class=\"bg-gradient-to-r from-blue-600 to-indigo-600 px-3 py-4 sm:px-4 sm:py-5 md:px-6 md:py-6 lg:px-8 lg:py-6\">\r\n                <div class=\"flex flex-col gap-4 sm:gap-5 md:flex-row md:justify-between md:items-start text-white\">\r\n                    <!-- Hospital Info -->\r\n                    <div class=\"flex-1\">\r\n                        <div class=\"flex items-center mb-3\">\r\n                            <i class=\"fas fa-hospital text-lg sm:text-xl md:text-2xl mr-2 sm:mr-3\"></i>\r\n                            <h1 class=\"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl font-bold\">\r\n                                {{followUp?.hospital?.name}}</h1>\r\n                        </div>\r\n                        <div class=\"text-blue-100 space-y-1 text-xs sm:text-sm\">\r\n                            <p class=\"flex items-center\">\r\n                                <i class=\"fas fa-map-marker-alt mr-2 w-3 sm:w-4\"></i>\r\n                                <span class=\"break-words\">{{followUp?.hospital?.address}}</span>\r\n                            </p>\r\n                            <p class=\"flex items-center\">\r\n                                <i class=\"fas fa-city mr-2 w-3 sm:w-4\"></i>\r\n                                <span>{{followUp?.hospital?.city}}, {{followUp?.hospital?.state}}</span>\r\n                            </p>\r\n                            <p class=\"flex items-center\">\r\n                                <i class=\"fas fa-phone mr-2 w-3 sm:w-4\"></i>\r\n                                <span>{{followUp?.hospital?.phone}}</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n        \r\n                    <!-- Doctor Info -->\r\n                    <div class=\"text-left md:text-right md:min-w-[200px] lg:min-w-[250px]\">\r\n                        <div class=\"flex items-center justify-start md:justify-end mb-3\">\r\n                            <i class=\"fas fa-user-md text-lg sm:text-xl md:text-2xl mr-2 sm:mr-3\"></i>\r\n                            <div>\r\n                                <p class=\"text-blue-100 text-xs sm:text-sm\">Attending Physician</p>\r\n                                <h2 class=\"text-sm sm:text-base md:text-lg lg:text-xl font-semibold\">Dr.\r\n                                    {{followUp?.createdBy?.name}}</h2>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"text-blue-100 text-xs sm:text-sm\">\r\n                            <p class=\"flex items-center justify-start md:justify-end\">\r\n                                <i class=\"fas fa-calendar-alt mr-2 w-3 sm:w-4\"></i>\r\n                                <span>{{followUp?.createdAt | date:'fullDate'}}</span>\r\n                            </p>\r\n                            <p class=\"flex items-center justify-start md:justify-end mt-1\">\r\n                                <i class=\"fas fa-clock mr-2 w-3 sm:w-4\"></i>\r\n                                <span>{{followUp?.createdAt | date:'shortTime'}}</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>  </div>\r\n\r\n        <!-- Main Content Grid -->\r\n        <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n\r\n            <!-- Left Column - Patient Info & Timeline -->\r\n            <div class=\"lg:col-span-1 space-y-6\">\r\n\r\n                <!-- Visit Summary Card -->\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6 border border-gray-100\">\r\n                    <h3 class=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n                        <i class=\"fas fa-info-circle text-blue-500 mr-2\"></i>\r\n                        Visit Summary\r\n                    </h3>\r\n                    <div class=\"space-y-3\">\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-600\">Date:</span>\r\n                            <span class=\"font-medium\">{{followUp?.createdAt | date:'shortDate'}}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-600\">Time:</span>\r\n                            <span class=\"font-medium\">{{followUp?.createdAt | date:'shortTime'}}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-600\">Type:</span>\r\n                            <span\r\n                                class=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-medium\">Follow-up</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Quick Actions -->\r\n                <div class=\"bg-white rounded-xl shadow-lg p-6 border border-gray-100\">\r\n                    <h3 class=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n                        <i class=\"fas fa-tools text-green-500 mr-2\"></i>\r\n                        Quick Actions\r\n                    </h3>\r\n                    <div class=\"space-y-3\">\r\n                        <button\r\n                            class=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex mb-2 items-center justify-center\">\r\n                            <i class=\"fas fa-print mr-2\"></i>\r\n                            Print Report\r\n                        </button>\r\n                        <button\r\n                            class=\"w-full bg-green-600 mb-2 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center\">\r\n                            <i class=\"fas fa-share mr-2\"></i>\r\n                            Share Report\r\n                        </button>\r\n                        <button\r\n                            class=\"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center\">\r\n                            <i class=\"fas fa-download mr-2\"></i>\r\n                            Download PDF\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Right Column - Medical Details -->\r\n            <div class=\"lg:col-span-2 space-y-6\">\r\n\r\n                <!-- Medical Assessment -->\r\n                <div class=\"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                    <div class=\"bg-gradient-to-r from-green-500 to-teal-500 px-6 py-4\">\r\n                        <h2 class=\"text-xl font-semibold text-white flex items-center\">\r\n                            <i class=\"fas fa-stethoscope mr-3\"></i>\r\n                            Medical Assessment\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <div class=\"p-6 space-y-6\">\r\n                        <!-- Presenting Complaint -->\r\n                        <div class=\"border-l-4 border-red-400 bg-red-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-red-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-exclamation-triangle mr-2\"></i>\r\n                                Presenting Complaint\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.presentingComplaint || 'Not\r\n                                specified'}}</p>\r\n                        </div>\r\n\r\n                        <!-- History -->\r\n                        <div class=\"border-l-4 border-blue-400 bg-blue-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-blue-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-history mr-2\"></i>\r\n                                History of Presenting Complaint\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.historyOfPresentingComplaint || 'Not\r\n                                documented'}}</p>\r\n                        </div>\r\n\r\n                        <!-- Physical Examination -->\r\n                        <div class=\"border-l-4 border-purple-400 bg-purple-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-purple-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-search mr-2\"></i>\r\n                                Physical Examination\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.physicalExamination || 'Not\r\n                                documented'}}</p>\r\n                        </div>\r\n\r\n                        <!-- Investigations -->\r\n                        <div class=\"border-l-4 border-orange-400 bg-orange-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-orange-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-flask mr-2\"></i>\r\n                                Investigations\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.investigations || 'None ordered'}}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Diagnosis & Treatment -->\r\n                <div class=\"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                    <div class=\"bg-gradient-to-r from-indigo-500 to-purple-500 px-6 py-4\">\r\n                        <h2 class=\"text-xl font-semibold text-white flex items-center\">\r\n                            <i class=\"fas fa-diagnoses mr-3\"></i>\r\n                            Diagnosis & Treatment\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <div class=\"p-6 space-y-6\">\r\n                        <!-- Provisional Diagnosis -->\r\n                        <div class=\"border-l-4 border-yellow-400 bg-yellow-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-yellow-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-search-plus mr-2\"></i>\r\n                                Provisional Diagnosis\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.provisionalDiagnosis || 'Pending\r\n                                investigation'}}</p>\r\n                        </div>\r\n\r\n                        <!-- Final Diagnosis -->\r\n                        <div class=\"border-l-4 border-green-400 bg-green-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-green-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-check-circle mr-2\"></i>\r\n                                Final Diagnosis\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.finalDiagnosis || 'To be determined'}}\r\n                            </p>\r\n                        </div>\r\n\r\n                        <!-- Treatment -->\r\n                        <div class=\"border-l-4 border-teal-400 bg-teal-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-teal-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-pills mr-2\"></i>\r\n                                Treatment Plan\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.treatment || 'Treatment plan to be\r\n                                determined'}}</p>\r\n                        </div>\r\n\r\n                        <!-- Outcome -->\r\n                        <div class=\"border-l-4 border-emerald-400 bg-emerald-50 p-4 rounded-r-lg\">\r\n                            <h4 class=\"font-semibold text-emerald-800 mb-2 flex items-center\">\r\n                                <i class=\"fas fa-chart-line mr-2\"></i>\r\n                                Outcome\r\n                            </h4>\r\n                            <p class=\"text-gray-700 leading-relaxed\">{{followUp?.outcome || 'Outcome to be monitored'}}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Prescription -->\r\n                <div class=\"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden\"\r\n                    *ngIf=\"addedPrescriptions && addedPrescriptions.length > 0\">\r\n                    <div class=\"bg-gradient-to-r from-pink-500 to-rose-500 px-6 py-4\">\r\n                        <h2 class=\"text-xl font-semibold text-white flex items-center\">\r\n                            <i class=\"fas fa-prescription-bottle-alt mr-3\"></i>\r\n                            Prescription Details\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <div class=\"p-6\">\r\n                        <div class=\"overflow-x-auto\">\r\n                            <table class=\"w-full border-collapse\">\r\n                                <thead>\r\n                                    <tr class=\"bg-gray-50\">\r\n                                        <th\r\n                                            class=\"border border-gray-200 px-4 py-3 text-left font-semibold text-gray-700\">\r\n                                            #</th>\r\n                                        <th\r\n                                            class=\"border border-gray-200 px-4 py-3 text-left font-semibold text-gray-700\">\r\n                                            Medication</th>\r\n                                        <th\r\n                                            class=\"border border-gray-200 px-4 py-3 text-center font-semibold text-gray-700\">\r\n                                            Quantity</th>\r\n                                        <th\r\n                                            class=\"border border-gray-200 px-4 py-3 text-center font-semibold text-gray-700\">\r\n                                            Duration</th>\r\n                                        <th\r\n                                            class=\"border border-gray-200 px-4 py-3 text-center font-semibold text-gray-700\">\r\n                                            Timing</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let item of addedPrescriptions; let i = index\"\r\n                                        class=\"hover:bg-gray-50 transition-colors\">\r\n                                        <td class=\"border border-gray-200 px-4 py-3 text-center font-medium\">{{i + 1}}\r\n                                        </td>\r\n                                        <td class=\"border border-gray-200 px-4 py-3\">\r\n                                            <div class=\"font-medium text-gray-900\">{{item?.name}}</div>\r\n                                        </td>\r\n                                        <td class=\"border border-gray-200 px-4 py-3 text-center\">\r\n                                            <span\r\n                                                class=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-medium\">\r\n                                                {{item?.quantity}}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td class=\"border border-gray-200 px-4 py-3 text-center\">\r\n                                            <span\r\n                                                class=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-medium\">\r\n                                                {{item?.days}} days\r\n                                            </span>\r\n                                        </td>\r\n                                        <td class=\"border border-gray-200 px-4 py-3\">\r\n                                            <div class=\"flex flex-wrap gap-1 justify-center\">\r\n                                                <span *ngIf=\"item?.time?.morning\"\r\n                                                    class=\"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium flex items-center\">\r\n                                                    <i class=\"fas fa-sun mr-1\"></i>Morning\r\n                                                </span>\r\n                                                <span *ngIf=\"item?.time?.afternoon\"\r\n                                                    class=\"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium flex items-center\">\r\n                                                    <i class=\"fas fa-sun mr-1\"></i>Afternoon\r\n                                                </span>\r\n                                                <span *ngIf=\"item?.time?.evening\"\r\n                                                    class=\"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium flex items-center\">\r\n                                                    <i class=\"fas fa-cloud-sun mr-1\"></i>Evening\r\n                                                </span>\r\n                                                <span *ngIf=\"item?.time?.night\"\r\n                                                    class=\"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium flex items-center\">\r\n                                                    <i class=\"fas fa-moon mr-1\"></i>Night\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- No Prescription Message -->\r\n                <div class=\"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center\"\r\n                    *ngIf=\"!addedPrescriptions || addedPrescriptions.length === 0\">\r\n                    <div class=\"text-gray-400 mb-4\">\r\n                        <i class=\"fas fa-prescription-bottle-alt text-4xl\"></i>\r\n                    </div>\r\n                    <h3 class=\"text-lg font-medium text-gray-600 mb-2\">No Prescription</h3>\r\n                    <p class=\"text-gray-500\">No medications have been prescribed for this visit.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Footer -->\r\n        <div class=\"mt-8 bg-white rounded-xl shadow-lg border border-gray-100 p-6\">\r\n            <div class=\"flex justify-between items-center\">\r\n                <div class=\"text-sm text-gray-500\">\r\n                    <p>Generated on {{followUp?.createdAt | date:'fullDate'}} at {{followUp?.createdAt |\r\n                        date:'shortTime'}}</p>\r\n                    <p>Follow-up ID: #{{followUp?._id || 'N/A'}}</p>\r\n                </div>\r\n                <div *ngxPermissionsOnly=\"['doctor']\" class=\"flex space-x-3\">\r\n                    <button\r\n                        class=\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors flex items-center\">\r\n                        <i class=\"fas fa-edit mr-2\"></i>\r\n                        Edit\r\n                    </button>\r\n                    <button\r\n                        class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center\">\r\n                        <i class=\"fas fa-save mr-2\"></i>\r\n                        Save\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { PatientService } from '../patient.service';\r\nimport { Disease } from 'src/app/_models/disease';\r\nimport { Prescription } from 'src/app/_models/prescription';\r\n\r\n@Component({\r\n  selector: 'app-followup',\r\n  templateUrl: './followup.component.html',\r\n  styleUrls: ['./followup.component.css']\r\n})\r\nexport class FollowupComponent implements OnInit {\r\n\r\n  followUpID: any;\r\n  followUp: Disease\r\n\r\n  addedPrescriptions: Prescription[] = [];\r\n\r\n\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private patientService: PatientService,) { }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.followUpID = (params['id']);\r\n      if (this.followUpID) {\r\n        this.getFollowUp(this.followUpID);\r\n      }\r\n    });\r\n  }\r\n\r\n  // gets follow up from DB\r\n  getFollowUp(id) {\r\n    this.patientService.getSingleFollowUp(id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        console.log(res);\r\n        this.followUp = res.data[0];\r\n        this.addedPrescriptions = this.followUp.prescription;\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n","<!-- Main Container -->\r\n<div class=\"min-h-screen bg-gray-50\">\r\n    <!-- Access Restricted Section -->\r\n    <div *ngIf=\"isNotSubscribed\" class=\"flex items-center justify-center min-h-screen p-4\">\r\n        <div class=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center\">\r\n            <div class=\"mb-6\">\r\n                <div class=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <svg class=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                            d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z\">\r\n                        </path>\r\n                    </svg>\r\n                </div>\r\n                <h3 class=\"text-2xl font-bold text-gray-900 mb-2\">Access Restricted</h3>\r\n                <p class=\"text-gray-600 mb-4\">{{ errorMessage }}</p>\r\n                <p class=\"text-sm text-gray-500 mb-6\">Please ensure the patient has an active subscription to view their\r\n                    information.</p>\r\n            </div>\r\n            <button\r\n                class=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200\"\r\n                (click)=\"createSubscription()\">\r\n                Subscribe Now\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Main Dashboard -->\r\n    <div *ngIf=\"!isNotSubscribed\" class=\"flex flex-col lg:flex-row gap-6 p-6\">\r\n\r\n        <!-- Sidebar - Disease Categories -->\r\n        <div class=\"lg:w-1/3 xl:w-1/4\">\r\n            <div class=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                <div class=\"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4\">\r\n                    <h2 class=\"text-lg font-semibold text-white\">Disease Categories</h2>\r\n                </div>\r\n\r\n                <div class=\"p-4 max-h-[calc(100vh-200px)] overflow-y-auto\">\r\n                    <!-- Debug: Show if categories exist -->\r\n                    <div *ngIf=\"!categories || categories.length === 0\" class=\"text-center py-8\">\r\n                        <p class=\"text-gray-500\">No disease categories available</p>\r\n                        <p class=\"text-sm text-gray-400 mt-2\">Categories: {{ categories?.length || 0 }}</p>\r\n                    </div>\r\n\r\n                    <!-- Categories Accordion -->\r\n                    <div class=\"space-y-2\" *ngIf=\"categories && categories.length > 0\">\r\n                        <div *ngFor=\"let c of categories; let i = index;\"\r\n                            class=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n\r\n                            <!-- Category Header -->\r\n                            <div class=\"bg-gray-50 hover:bg-gray-100 transition-colors duration-200\">\r\n                                <div class=\"flex items-center justify-between p-4\">\r\n                                    <button (click)=\"changeSelectedIndex(i)\"\r\n                                        class=\"flex-1 text-left font-medium text-gray-900 hover:text-blue-600 transition-colors duration-200\">\r\n                                        {{ c.category || 'Unnamed Category' }}\r\n                                    </button>\r\n                                    <div class=\"flex items-center space-x-2 ml-4\">\r\n                                        <button *ngxPermissionsOnly=\"['doctor']\" (click)=\"openSubCategoryModal(i)\"\r\n                                            class=\"p-1 text-blue-600 hover:text-blue-800 transition-colors duration-200\"\r\n                                            title=\"Add Subcategory\">\r\n                                            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                                    d=\"M12 4v16m8-8H4\"></path>\r\n                                            </svg>\r\n                                        </button>\r\n                                        <button *ngxPermissionsOnly=\"['doctor']\" (click)=\"deletCategory(i)\"\r\n                                            class=\"p-1 text-red-600 hover:text-red-800 transition-colors duration-200\"\r\n                                            title=\"delet Category\">\r\n                                            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\">\r\n                                                </path>\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- Subcategories -->\r\n                            <div class=\"bg-white\" *ngIf=\"selectedIndex === i\">\r\n                                <div *ngIf=\"!c.subCategories || c.subCategories.length === 0\"\r\n                                    class=\"p-4 text-center text-gray-500 text-sm\">\r\n                                    No subcategories available\r\n                                </div>\r\n\r\n                                <div *ngFor=\"let d of c.subCategories; let k = index; \"\r\n                                    class=\"border-t border-gray-100 first:border-t-0\">\r\n                                    <div\r\n                                        class=\"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors duration-200\">\r\n                                        <span (click)=\"changeSubCategory(k)\"\r\n                                            class=\"font-medium text-gray-700 hover:text-blue-600 cursor-pointer transition-colors duration-200\">\r\n                                            {{ d.disease || d.name || 'Unnamed Disease' }}\r\n                                        </span>\r\n                                        <button *ngxPermissionsOnly=\"['doctor']\" (click)=\"deletSubCategory(d)\"\r\n                                            class=\"p-1 text-red-600 hover:text-red-800 transition-colors duration-200\"\r\n                                            title=\"delet Subcategory\">\r\n                                            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\">\r\n                                                </path>\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Add New Category Button -->\r\n                    <div *ngxPermissionsOnly=\"['doctor']\" class=\"mt-6\">\r\n                        <button (click)=\"openDiseaseCategoryModal()\"\r\n                            class=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2\">\r\n                            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M12 4v16m8-8H4\"></path>\r\n                            </svg>\r\n                            <span>New Category</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Loader for Sidebar -->\r\n            <div *ngIf=\"isLoader\" class=\"flex justify-center mt-4\">\r\n                <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Main Content - Follow-ups -->\r\n        <div class=\"lg:w-2/3 xl:w-3/4\">\r\n            <div class=\"bg-white rounded-xl shadow-sm border border-gray-200\">\r\n                <div class=\"p-6 border-b border-gray-200\">\r\n                    <div class=\"flex items-center justify-between mb-4\">\r\n                        <h1 class=\"text-2xl font-bold text-gray-900\">\r\n                            {{ selectedIndex == null ? \"Select a Category\" : categories[selectedIndex]?.category }}\r\n                        </h1>\r\n                        <button (click)=\"refresh()\"\r\n                            class=\"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors duration-200\">\r\n                            <span class=\"font-medium\">Refresh</span>\r\n                            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\">\r\n                                </path>\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class=\"flex items-center justify-between\">\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <span class=\"text-sm text-gray-500\">Diagnosed:</span>\r\n                            <span class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\r\n                                {{ selectedSubCategory }}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <!-- Add Follow-up Buttons -->\r\n                        <div class=\"flex space-x-3\">\r\n                            <ng-container *ngIf=\"!haveFollowUp\">\r\n                                <button *ngxPermissionsOnly=\"['doctor']\"\r\n                                    [routerLink]=\"['add-followup', categories[selectedIndex]?._id]\"\r\n                                    class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center space-x-2\">\r\n                                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                            d=\"M12 4v16m8-8H4\"></path>\r\n                                    </svg>\r\n                                    <span>Add Follow-up</span>\r\n                                </button>\r\n                            </ng-container>\r\n\r\n                            <ng-container *ngIf=\"haveFollowUp\">\r\n                                <button *ngxPermissionsOnly=\"['doctor']\" (click)=\"clickAddFollowUp()\"\r\n                                    [routerLink]=\"['add-followup', latestFollowUp?._id, 'category', categories[selectedIndex]?._id]\"\r\n                                    class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center space-x-2\">\r\n                                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                            d=\"M12 4v16m8-8H4\"></path>\r\n                                    </svg>\r\n                                    <span>Add Follow-up</span>\r\n                                </button>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Follow-ups List -->\r\n                <div class=\"p-6\">\r\n                    <div *ngIf=\"followUps.length == 0 || followUps == null\" class=\"text-center py-12\">\r\n                        <div class=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <svg class=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\">\r\n                                </path>\r\n                            </svg>\r\n                        </div>\r\n                        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No Follow-ups Yet</h3>\r\n                        <p class=\"text-gray-500\">Start by adding your first follow-up record.</p>\r\n                    </div>\r\n\r\n                    <div class=\"space-y-4\">\r\n                        <div *ngFor=\"let followUp of followUps; let i = index\"\r\n                            class=\"bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow duration-200\">\r\n                            <div class=\"p-6\">\r\n                                <div class=\"flex items-center justify-between\">\r\n                                    <button [routerLink]=\"['followup',followUp._id]\"\r\n                                        class=\"text-left flex-1 hover:text-blue-600 transition-colors duration-200\">\r\n                                        <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                                            {{ followUp?.finalDiagnosis }}\r\n                                        </h3>\r\n                                        <div class=\"flex items-center space-x-4 text-sm text-gray-500\">\r\n                                            <span class=\"px-2 py-1 bg-gray-100 rounded-full\">\r\n                                                {{ followUp?.diseaseCategory }}\r\n                                            </span>\r\n                                            <span class=\"px-2 py-1 bg-gray-100 rounded-full\">\r\n                                                {{ followUp?.diseaseSubCategory }}\r\n                                            </span>\r\n                                            <span class=\"flex items-center space-x-1\">\r\n                                                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\"\r\n                                                    viewBox=\"0 0 24 24\">\r\n                                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n                                                        stroke-width=\"2\"\r\n                                                        d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\">\r\n                                                    </path>\r\n                                                </svg>\r\n                                                <span>{{ followUp?.createdAt | date : 'medium' }}</span>\r\n                                            </span>\r\n                                        </div>\r\n                                    </button>\r\n\r\n                                    <button *ngxPermissionsOnly=\"['doctor']\" (click)=\"deleteFolowUp(i)\"\r\n                                        class=\"ml-4 p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200\">\r\n                                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                                d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\">\r\n                                            </path>\r\n                                        </svg>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Pagination -->\r\n                <div *ngIf=\"totalCount > limit\" class=\"px-6 py-4 border-t border-gray-200\">\r\n                    <nav class=\"flex items-center justify-between\">\r\n                        <div class=\"flex items-center space-x-2\">\r\n                            <button *ngIf=\"page > 0\" (click)=\"onClickPage(page - 1)\"\r\n                                class=\"px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200\">\r\n                                Previous\r\n                            </button>\r\n\r\n                            <div class=\"flex space-x-1\">\r\n                                <button *ngIf=\"(totalCount/limit) >= 0\" (click)=\"onClickPage(0)\"\r\n                                    [class]=\"page == 0 ? 'px-3 py-2 text-sm text-white bg-blue-600 rounded-lg' : 'px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200'\">\r\n                                    1\r\n                                </button>\r\n\r\n                                <button *ngIf=\"(totalCount/limit) >= 1\" (click)=\"onClickPage(1)\"\r\n                                    [class]=\"page == 1 ? 'px-3 py-2 text-sm text-white bg-blue-600 rounded-lg' : 'px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200'\">\r\n                                    2\r\n                                </button>\r\n\r\n                                <button *ngIf=\"(totalCount/limit) >= 2\" (click)=\"onClickPage(2)\"\r\n                                    [class]=\"page == 2 ? 'px-3 py-2 text-sm text-white bg-blue-600 rounded-lg' : 'px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200'\">\r\n                                    3\r\n                                </button>\r\n                            </div>\r\n\r\n                            <button *ngIf=\"((totalCount/limit) > 3) && (totalCount > (limit*(page+1)))\"\r\n                                (click)=\"onClickPage(page + 1)\"\r\n                                class=\"px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200\">\r\n                                Next\r\n                            </button>\r\n                        </div>\r\n\r\n                        <!-- <div class=\"text-sm text-gray-500\">\r\n                            Showing {{ (page * limit) + 1 }} to {{ Math.min((page + 1) * limit, totalCount) }} of {{\r\n                            totalCount }} results\r\n                        </div> -->\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Loader for Main Content -->\r\n            <div *ngIf=\"isLoader\" class=\"flex justify-center mt-4\">\r\n                <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Create Disease Category Modal -->\r\n<ng-template #createDiseaseCategoryModal>\r\n    <div class=\"bg-white rounded-lg shadow-xl max-w-md mx-auto\">\r\n        <div class=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n            <h4 class=\"text-xl font-semibold text-gray-900\">Add New Category</h4>\r\n            <button (click)=\"onClose()\" class=\"text-gray-400 hover:text-gray-600 transition-colors duration-200\">\r\n                <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\">\r\n                    </path>\r\n                </svg>\r\n            </button>\r\n        </div>\r\n\r\n        <div class=\"p-6\" (keyup.enter)=\"saveCategory()\">\r\n            <form [formGroup]=\"form\">\r\n                <div class=\"mb-4\">\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">Category Name</label>\r\n                    <input formControlName=\"category\" type=\"text\"\r\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\"\r\n                        placeholder=\"Enter category name\">\r\n                    <small *ngIf=\"isFormSubmitted && f.category.errors && f.category.errors.required\"\r\n                        class=\"text-red-600 text-sm mt-1 block\">\r\n                        Category name is required\r\n                    </small>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n        <div class=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\r\n            <button (click)=\"onClose()\"\r\n                class=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\">\r\n                Cancel\r\n            </button>\r\n            <button (click)=\"saveCategory()\"\r\n                class=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200\">\r\n                Save Category\r\n            </button>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<!-- Create Disease Sub Category Modal -->\r\n<ng-template #createSubCategoryModal>\r\n    <div class=\"bg-white rounded-lg shadow-xl max-w-md mx-auto\">\r\n        <div class=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n            <h4 class=\"text-xl font-semibold text-gray-900\">Add New Disease</h4>\r\n            <button (click)=\"onClose()\" class=\"text-gray-400 hover:text-gray-600 transition-colors duration-200\">\r\n                <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\">\r\n                    </path>\r\n                </svg>\r\n            </button>\r\n        </div>\r\n\r\n        <div class=\"p-6\" (keyup.enter)=\"saveSubCategory()\">\r\n            <form [formGroup]=\"form2\">\r\n                <div class=\"mb-4\">\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                        Subcategory of {{ this.categories[this.selectedIndex]?.category }}\r\n                    </label>\r\n                    <input formControlName=\"disease\" type=\"text\"\r\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200\"\r\n                        placeholder=\"Enter disease name\">\r\n                    <small *ngIf=\"isFormSubmitted && f2.disease.errors && f2.disease.errors.required\"\r\n                        class=\"text-red-600 text-sm mt-1 block\">\r\n                        Disease name is required\r\n                    </small>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n        <div class=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\r\n            <button (click)=\"onClose()\"\r\n                class=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\">\r\n                Cancel\r\n            </button>\r\n            <button (click)=\"saveSubCategory()\"\r\n                class=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200\">\r\n                Save Disease\r\n            </button>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\r\nimport { DiseaseCategoryService } from '../services/diseaseCategory.service';\r\nimport { DiseaseCategory } from 'src/app/_models/diseaseCategory';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Disease } from 'src/app/_models/disease';\r\nimport { PatientService } from '../patient.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport Swal from 'sweetalert2';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { Patient } from 'src/app/_models/patient';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\n\r\n@Component({\r\n  selector: 'app-medical',\r\n  templateUrl: './medical.component.html',\r\n  styleUrls: ['./medical.component.css'],\r\n})\r\nexport class MedicalComponent implements OnInit {\r\n  isLoader: boolean = false;\r\n  isNotSubscribed: boolean = false; // New flag for subscription status\r\n  errorMessage: string = ''; // To store error message\r\n  page = 0;\r\n  limit = 10;\r\n  totalCount = 0;\r\n  query = {\r\n    diseaseCategory: String,\r\n    diseaseSubCategory: String,\r\n  };\r\n  delquery = {\r\n    diseaseCategory: String,\r\n    diseaseSubCategory: String,\r\n  };\r\n  querydiseaseCategory;\r\n  querydiseaseSubCategory;\r\n  delQueryDiseaseCategory;\r\n  patient: Patient;\r\n  categories: DiseaseCategory[];\r\n  followUps: Disease[];\r\n  isFormSubmitted: boolean;\r\n  form: FormGroup;\r\n  form2: FormGroup;\r\n  lastDate: Date;\r\n  selectedIndex = null;\r\n  selectedSubCategory: string = 'NONE';\r\n  latestFollowUp: Disease = null;\r\n  haveFollowUp: boolean = false;\r\n  patientID: string; // Changed to string to match ProfileComponent\r\n\r\n  constructor(\r\n    private diseaseCategoryService: DiseaseCategoryService,\r\n    private patientService: PatientService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private notifier: NotifierService,\r\n    private modal: NgbModal\r\n  ) {}\r\n\r\n  @ViewChild('createDiseaseCategoryModal', { static: true }) createDiseaseCategoryModal: TemplateRef<any>;\r\n  @ViewChild('createSubCategoryModal', { static: true }) createSubCategoryModal: TemplateRef<any>;\r\n\r\n  ngOnInit() {\r\n    this.categories = [];\r\n    this.isFormSubmitted = false;\r\n    this.activatedRoute.params.subscribe((params) => {\r\n      this.patientID = params['id'];\r\n      this.create();\r\n      this.create2();\r\n      this.getPatient();\r\n    });\r\n  }\r\n\r\n  // Create subscription and redirect to Paystack payment link\r\n  createSubscription() {\r\n    console.log(this.patientID)\r\n    if (!this.patientID) {\r\n      this.showNotification('error', 'Patient ID is not available.');\r\n      return;\r\n    }\r\n\r\n    this.isLoader = true;\r\n    this.patientService.createSubscription(this.patientID).subscribe(\r\n      (res: any) => {\r\n        this.isLoader = false;\r\n        if (res.status == '200') {\r\n          window.open(res.data.paymentLink, '_blank');\r\n          this.showNotification('info', 'Redirecting to payment page...');\r\n        } else {\r\n          this.showNotification('error', 'Failed to create subscription. Please try again.');\r\n        }\r\n      },\r\n      (error) => {\r\n        this.isLoader = false;\r\n        this.showNotification('error', 'An error occurred while creating subscription.');\r\n        console.error('Subscription error:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  navigateToPatientList() {\r\n    this.router.navigate(['app/patient']);\r\n  }\r\n\r\n  // Reactive Forms for new category\r\n  create() {\r\n    this.form = this.formBuilder.group({\r\n      category: ['', Validators.required],\r\n      patient: [this.patientID],\r\n    });\r\n  }\r\n\r\n  get f() {\r\n    return this.form.controls;\r\n  }\r\n\r\n  getPatient() {\r\n    this.isLoader = true;\r\n    this.patientService.getById(this.patientID).subscribe(\r\n      (res: ResponseMessage) => {\r\n        this.isLoader = false;\r\n        if (res.status == '200') {\r\n          this.isNotSubscribed = false;\r\n          this.patient = res.data;\r\n          this.getFollowUps(this.patient.user._id);\r\n          this.getCategories();\r\n        } else if (res.status == '403') {\r\n          this.isNotSubscribed = true;\r\n          this.errorMessage = res.data.message;\r\n          this.showNotification('error', this.errorMessage);\r\n        } else {\r\n          this.router.navigate(['app/patient/dash']);\r\n          this.showNotification('error', 'Failed to fetch patient data.');\r\n        }\r\n      },\r\n      (error) => {\r\n        this.isLoader = false;\r\n        this.showNotification('error', 'An error occurred while fetching patient data.');\r\n        this.router.navigate(['app/patient/dash']);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCategories() {\r\n    this.isLoader = true;\r\n    this.diseaseCategoryService.getAllDiseaseCategories(this.patient._id).subscribe((res: any) => {\r\n      this.isLoader = false;\r\n      if (res.status === 200) {\r\n        this.categories = res.data;\r\n      } else {\r\n        this.categories = [];\r\n      }\r\n\r\n      console.log('here is cat', this.categories)\r\n    });\r\n  }\r\n\r\n  getFollowUps(id) {\r\n    this.isLoader = true;\r\n    this.query.diseaseCategory = this.querydiseaseCategory;\r\n    this.query.diseaseSubCategory = this.querydiseaseSubCategory;\r\n    this.patientService.getFollowUpsOfPatient(this.patient.user._id, this.query, this.page, this.limit).subscribe(\r\n      (res: any) => {\r\n        this.isLoader = false;\r\n        if (res.status === 200) {\r\n          this.followUps = res.data.doc;\r\n          this.totalCount = res.data.count;\r\n        } else {\r\n          this.followUps = [];\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  refresh() {\r\n    this.querydiseaseCategory = null;\r\n    this.querydiseaseSubCategory = null;\r\n    this.selectedIndex = null;\r\n    this.getFollowUps(this.patient.user._id);\r\n  }\r\n\r\n  deleteDiseaseFollowUps() {\r\n    this.delquery.diseaseCategory = this.delQueryDiseaseCategory;\r\n    this.patientService.deleteDiseaseCategoryFollowUps(this.delquery).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.getFollowUps(this.patientID);\r\n        this.showNotification('success', 'Follow Ups Deleted!');\r\n      } else {\r\n        this.showNotification('error', 'Something went wrong!');\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteFolowUp(index) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'You will not be able to recover this Follow Up',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, delete it!',\r\n      cancelButtonText: 'No, keep it',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.deleteFollowUpDB(index);\r\n        Swal.fire('Deleted!', 'Follow Up deleted.', 'success');\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire('Cancelled', 'Data is safe :', 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  onClickPage(page = 0) {\r\n    this.page = page;\r\n    this.getFollowUps(this.patient.user._id);\r\n  }\r\n\r\n  deleteFollowUpDB(index) {\r\n    this.patientService.deleteFollowUp(this.followUps[index]._id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.followUps = this.followUps.filter((obj) => obj !== this.followUps[index]);\r\n      }\r\n    });\r\n  }\r\n\r\n  openDiseaseCategoryModal() {\r\n    this.modal.open(this.createDiseaseCategoryModal, { size: 'lg' });\r\n  }\r\n\r\n  openSubCategoryModal(i) {\r\n    this.selectedIndex = i;\r\n    this.modal.open(this.createSubCategoryModal, { size: 'lg' });\r\n  }\r\n\r\n  changeSelectedIndex(i) {\r\n    this.querydiseaseCategory = this.categories[i].category;\r\n    this.selectedIndex = i;\r\n    this.haveFollowUp = false;\r\n    this.changeSubCategory(0);\r\n    this.clickAddFollowUp();\r\n    this.getFollowUps(this.patientID);\r\n  }\r\n\r\n  changeSubCategory(index) {\r\n    if (this.categories && this.categories[this.selectedIndex]) {\r\n      this.haveFollowUp = false;\r\n      this.selectedSubCategory = this.categories[this.selectedIndex].subCategories[index].disease;\r\n      this.querydiseaseSubCategory = this.selectedSubCategory;\r\n      this.clickAddFollowUp();\r\n      this.getFollowUps(this.patientID);\r\n    }\r\n  }\r\n\r\n  onClose() {\r\n    this.modal.dismissAll();\r\n    this.getCategories();\r\n  }\r\n\r\n  saveCategory() {\r\n    this.isFormSubmitted = true;\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n    this.diseaseCategoryService.createCategory({ ...this.form.value, patient: this.patient._id }).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.form.reset();\r\n        this.onClose();\r\n        this.showNotification('success', 'Category Added.');\r\n      }\r\n    });\r\n    this.isFormSubmitted = false;\r\n  }\r\n\r\n  delCategoryDB(index) {\r\n    this.delQueryDiseaseCategory = this.categories[index].category;\r\n    this.diseaseCategoryService.deleteDiseaseCategory(this.categories[index]._id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.categories = this.categories.filter((obj) => obj !== this.categories[index]);\r\n        this.deleteDiseaseFollowUps();\r\n      }\r\n    });\r\n  }\r\n\r\n  clickAddFollowUp() {\r\n    for (let i = 0; i < this.followUps.length; i++) {\r\n      if (this.followUps[i].diseaseSubCategory == this.selectedSubCategory) {\r\n        this.latestFollowUp = this.followUps[i];\r\n        this.haveFollowUp = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  create2() {\r\n    this.form2 = this.formBuilder.group({\r\n      disease: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  get f2() {\r\n    return this.form2.controls;\r\n  }\r\n\r\n  saveSubCategory() {\r\n    this.isFormSubmitted = true;\r\n    if (this.form2.invalid) {\r\n      return;\r\n    }\r\n    this.categories[this.selectedIndex].subCategories.push(this.form2.value);\r\n    let id = this.categories[this.selectedIndex]._id;\r\n    this.diseaseCategoryService.updateDiseaseCategory(id, this.categories[this.selectedIndex]).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.form2.reset();\r\n        this.onClose();\r\n        this.showNotification('success', 'Disease Added.');\r\n      }\r\n    });\r\n    this.isFormSubmitted = false;\r\n  }\r\n\r\n  deletSubCategory(d) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'You will not be able to recover this disease',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, delete it!',\r\n      cancelButtonText: 'No, keep it',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.delSubCategoryDB(d);\r\n        Swal.fire('Deleted!', 'Disease deleted.', 'success');\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire('Cancelled', 'Your Disease is safe :', 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  delSubCategoryDB(d) {\r\n    this.delquery.diseaseSubCategory = d;\r\n    let category = this.categories[this.selectedIndex];\r\n    category.subCategories = category.subCategories.filter((obj) => obj !== d);\r\n    let id = this.categories[this.selectedIndex]._id;\r\n    this.diseaseCategoryService.updateDiseaseCategory(id, category).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.form2.reset();\r\n        this.onClose();\r\n        this.deleteDiseaseFollowUps();\r\n      }\r\n    });\r\n    this.isFormSubmitted = false;\r\n  }\r\n\r\n  public showNotification(type: string, message: string): void {\r\n    this.notifier.notify(type, message);\r\n  }\r\n\r\n  deletCategory(index) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Category and subcategories will be deleted',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, delete it!',\r\n      cancelButtonText: 'No, keep it',\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.delCategoryDB(index);\r\n        Swal.fire('Deleted!', 'Category been deleted.', 'success');\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire('Cancelled', 'Your Category is safe', 'error');\r\n      }\r\n    });\r\n  }\r\n}","\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProfilesComponent } from './profiles/profiles.component';\r\nimport { AddComponent } from './add/add.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { MedicalComponent } from './medical/medical.component';\r\nimport { AddFollowupComponent } from './add-followup/add-followup.component';\r\nimport { FollowupComponent } from './followup/followup.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\n\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      { path: '', component: ProfilesComponent },\r\n      { path: 'add', component: AddComponent },\r\n      { path: 'edit/:id', component: AddComponent },\r\n      { path: 'dash', component: DashboardComponent },\r\n      {\r\n        path: ':id', children: [\r\n          { path: '', component: ProfileComponent },\r\n          { path: 'medical', component: MedicalComponent },\r\n          { path: 'medical/followup/:id', component: FollowupComponent },\r\n          { path: 'medical/add-followup/:cid', component: AddFollowupComponent },\r\n          { path: 'medical/add-followup/:fid/category/:cid', component: AddFollowupComponent }\r\n\r\n        ]\r\n      },\r\n      {\r\n        path: 'profile/:id', children: [\r\n          { path: '', component: ProfileComponent },\r\n          { path: 'medical', component: MedicalComponent },\r\n          { path: 'medical/followup/:id', component: FollowupComponent },\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PatientRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PatientRoutingModule } from './patient-routing.module';\r\nimport { ProfilesComponent } from './profiles/profiles.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { AddComponent } from './add/add.component';\r\nimport { ProfileMedicalHistoryComponent } from './profile-medical-history/profile-medical-history.component';\r\nimport { ProfileReportsComponent } from './profile-reports/profile-reports.component';\r\nimport { ProfileBillingComponent } from './profile-billing/profile-billing.component';\r\nimport { ProfileVisitsComponent } from './profile-visits/profile-visits.component';\r\nimport { ProfileCommentsComponent } from './profile-comments/profile-comments.component';\r\nimport { NgbsharedModule } from '../ngbshared/ngbshared.module';\r\nimport { MedicalComponent } from './medical/medical.component';\r\nimport { FollowupComponent } from './followup/followup.component';\r\nimport { AddFollowupComponent } from './add-followup/add-followup.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { ReportService } from './services/report.service';\r\nimport { LightboxModule } from 'ngx-lightbox';\r\nimport { NgxPermissionsModule } from 'ngx-permissions';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { AngularEditorModule } from '@kolkov/angular-editor';\r\n\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [ProfilesComponent, ProfileComponent, AddComponent, ProfileMedicalHistoryComponent,\r\n    ProfileReportsComponent, ProfileBillingComponent, ProfileVisitsComponent, ProfileCommentsComponent, DashboardComponent,\r\n    MedicalComponent, FollowupComponent, AddFollowupComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgbsharedModule,\r\n    PatientRoutingModule,\r\n    SharedModule,\r\n\r\n    LightboxModule,\r\n    NgxPermissionsModule.forChild(),\r\n    AngularEditorModule\r\n\r\n  ],\r\n  providers: [ReportService]\r\n})\r\nexport class PatientModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PatientService {\r\n  constructor(private httpClient: HttpClient) { }\r\n  post(patient) {\r\n    return this.httpClient.post('api/createPatient', patient);\r\n  }\r\n\r\n  get(page = 0, limit = 10, active = true) {\r\n    return this.httpClient.get(`api/patients?page=${page}&limit=${limit}&active=${active}`);\r\n  }\r\n\r\n  getById(id) {\r\n    return this.httpClient.get(`api/patients/${id}`);\r\n  }\r\n\r\n  createSubscription(id) {\r\n    return this.httpClient.get(`api/subscription/create/${id}`);\r\n  }\r\n  searchPatient(query) {\r\n    return this.httpClient.get(`api/patient?searchQuery=${query}`);\r\n  }\r\n\r\n  updatePatient(id, value: any) {\r\n    return this.httpClient.put(`api/updatePatient/${id}`, value);\r\n  }\r\n\r\n  // adds Follow Up\r\n  addFollowUp(value) {\r\n    return this.httpClient.post(`api/addFollowUP`, value);\r\n  }\r\n\r\n  // returns follow ups of patient\r\n  getFollowUpsOfPatient(id, query = null, page = 0, limit = 10) {\r\n    return this.httpClient.post(`api/followUps/${id}?page=${page}&limit=${limit}`, query);\r\n  }\r\n\r\n \r\n\r\n\r\n  getSingleFollowUp(id) {\r\n    return this.httpClient.get(`api/followUp/${id}`);\r\n  }\r\n\r\n  updateFollowUp(id, value: any) {\r\n    return this.httpClient.put(`api/followUp/${id}`, value);\r\n  }\r\n\r\n  deleteFollowUp(id) {\r\n    return this.httpClient.delete(`api/followUp/${id}`);\r\n  }\r\n\r\n  deleteDiseaseCategoryFollowUps(query = null) {\r\n    console.log(query);\r\n    return this.httpClient.post(`api/followUp/deleteMultiple`, query);\r\n  }\r\n\r\n  updateFixedDisease(id, value: any) {\r\n    console.log(id, value);\r\n    return this.httpClient.put(`api/updateFixedDisease/${id}`, value);\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <div class=\"d-flex align-items-center justify-content-between m-0\">\r\n                    <p class=\"container-fluid text-left\">Total Bills: {{totalCount}} </p>\r\n\r\n                    <div *ngxPermissionsOnly=\"['doctor','FDO','hospital']\" class=\"container-fluid mb-3 text-right\">\r\n                        <button (click)='addBill()' class=\"btn btn-outline-info\" type=\"button\"><i\r\n                                class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add New Bills</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"table-responsive\">\r\n                    <div id=\"myTable_wrapper\" class=\"dataTables_wrapper container-fluid dt-bootstrap4 no-footer\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12\">\r\n                                <div class=\"sm-responsive\">\r\n                                    <table id=\"myTable\" class=\"table table-striped dataTable no-footer\" role=\"grid\"\r\n                                        aria-describedby=\"myTable_info\">\r\n                                        <thead>\r\n                                            <tr role=\"row\">\r\n                                                <th class=\"sorting_asc\" tabindex=\"0\" aria-controls=\"myTable\" rowspan=\"1\"\r\n                                                    colspan=\"1\" aria-sort=\"ascending\"\r\n                                                    aria-label=\"No: activate to sort column descending\"\r\n                                                    style=\"width: 61px;\">No</th>\r\n\r\n                                                <th class=\"sorting\" tabindex=\"0\" aria-controls=\"myTable\" rowspan=\"1\"\r\n                                                    colspan=\"1\" aria-label=\"Date: activate to sort column ascending\"\r\n                                                    style=\"width: 119px;\">Date</th>\r\n                                                <th class=\"sorting\" tabindex=\"0\" aria-controls=\"myTable\" rowspan=\"1\"\r\n                                                    colspan=\"1\" aria-label=\"Charges: activate to sort column ascending\"\r\n                                                    style=\"width: 130px;\">Charges</th>\r\n                                                <th class=\"sorting\" tabindex=\"0\" aria-controls=\"myTable\" rowspan=\"1\"\r\n                                                    colspan=\"1\" aria-label=\"Discount: activate to sort column ascending\"\r\n                                                    style=\"width: 134px;\">Discount</th>\r\n                                                <th class=\"sorting\" tabindex=\"0\" aria-controls=\"myTable\" rowspan=\"1\"\r\n                                                    colspan=\"1\" aria-label=\"Total: activate to sort column ascending\"\r\n                                                    style=\"width: 89px;\">Total</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor=\"let item of billsList; let i = index\"\r\n                                                (click)=\"onClick(item._id)\" role=\"row\" class=\"odd\">\r\n                                                <td class=\"sorting_1\">{{i + (page * limit)+1}}</td>\r\n\r\n                                                <td>{{item?.createdAt | date:'d/MMM/y'}}</td>\r\n                                                <td>{{getSubTotal(i)| currency :\"&#8358;\"}} </td>\r\n                                                <td>{{item?.discount}}% </td>\r\n                                                <td>{{applyDiscount(i) | currency :\"&#8358;\"}}</td>\r\n                                            </tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12 col-md-5\">\r\n                                <div class=\"dataTables_info\" id=\"myTable_info\" role=\"status\" aria-live=\"polite\">\r\n                                    <span class=\"pt-3\">showing {{(page * limit) + billsList?.length }} of {{totalCount}}\r\n                                        entries</span>\r\n                                </div>\r\n                            </div>\r\n                            <!-- Pagination -->\r\n                            <nav aria-label=\"Page navigation example\" class=\"pagination\">\r\n                                <ul class=\"pagination\" *ngIf=\"totalCount > limit\">\r\n                                    <li class=\"page-item\" *ngIf=\"page > 0\">\r\n                                        <a class=\"page-link\" (click)=\"onClickPage(page - 1 )\" href=\"javascript:void(0)\"\r\n                                            aria-label=\"Previous\">\r\n                                            <span aria-hidden=\"true\">&laquo;</span>\r\n                                            <span class=\"sr-only\">Previous</span>\r\n                                        </a>\r\n                                    </li>\r\n\r\n                                    <li class=\"page-item\" [ngClass]=\"{'active': page == 0}\" (click)=\"onClickPage(0)\"\r\n                                        *ngIf=\"(totalCount/limit) >= 0\">\r\n                                        <a class=\"page-link\" href=\"javascript:void(0)\">1</a>\r\n                                    </li>\r\n\r\n\r\n                                    <li class=\"page-item\" [ngClass]=\"{'active': page == 1}\"\r\n                                        *ngIf=\"(totalCount/limit) >= 1\">\r\n                                        <a class=\"page-link\" href=\"javascript:void(0)\" (click)=\"onClickPage(1)\">2</a>\r\n                                    </li>\r\n\r\n\r\n                                    <li class=\"page-item\" [ngClass]=\"{'active': page == 2}\"\r\n                                        *ngIf=\"(totalCount/limit) >= 2\">\r\n                                        <a class=\"page-link\" href=\"javascript:void(0)\" (click)=\"onClickPage(2)\">3</a>\r\n                                    </li>\r\n\r\n                                    <li class=\"page-item\" [ngClass]=\"{'active': page > 2}\"\r\n                                        *ngIf=\"((totalCount/limit) > 3) && (totalCount > (limit*(page+1)))\">\r\n                                        <a class=\"page-link\" (click)=\"onClickPage(page + 1 )\" href=\"javascript:void(0)\"\r\n                                            aria-label=\"Next\">\r\n                                            <span aria-hidden=\"true\">&raquo;</span>\r\n                                            <span class=\"sr-only\">Next</span>\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { PaymentService } from 'src/app/payment/payment.service';\r\nimport { Bill } from 'src/app/_models/bill';\r\n\r\n@Component({\r\n  selector: 'app-profile-billing',\r\n  templateUrl: './profile-billing.component.html',\r\n  styleUrls: ['./profile-billing.component.css']\r\n})\r\nexport class ProfileBillingComponent implements OnInit {\r\n  page = 0;\r\n  limit = 10;\r\n  totalCount = 0;\r\n  id:any;\r\n\r\n  billsList:Bill[]=[];\r\n\r\n  constructor(private router:Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private paymentService:PaymentService) { }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      console.log(params)\r\n      console.log(params['id'])\r\n      this.id = params['id'];\r\n      if (this.id){\r\n        this.getAll(this.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  addBill(){\r\n    this.router.navigate(['app/payment/add/']);\r\n  }\r\n\r\n  getAll(id){\r\n    this.paymentService.getByPatient(id,this.page,this.limit).subscribe((res:any)=>{\r\n      if (res.status == '200') {\r\n        console.log(res);\r\n        this.billsList = res.data.doc;\r\n        this.totalCount=res.data.count;\r\n      } else {\r\n        this.billsList = [];\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  onClick(id){\r\n    this.router.navigate(['/app/payment/invoice/',id]);\r\n\r\n  }\r\n\r\n  onClickPage(page = 0) {\r\n    this.page = page;\r\n    this.getAll(this.id);\r\n  }\r\n\r\n  getSubTotal(i) {\r\n    let subTotal: number = 0;\r\n    this.billsList[i].items.forEach(a => subTotal += (a.price * a.quantity));\r\n    return subTotal;\r\n  }\r\n\r\n  applyDiscount(i) {\r\n    return this.getSubTotal(i) - (this.getSubTotal(i) * (this.billsList[i].discount / 100));\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"card-body\">\r\n    <div class=\"d-flex align-items-center justify-content-between m-0\">\r\n        <p class=\"container-fluid text-left\">Total Reports: {{totalCount}}</p>\r\n\r\n        <div *ngxPermissionsOnly=\"['doctor']\" class=\"container-fluid mb-3 text-right\">\r\n            <button (click)=\"open()\" class=\"btn btn-outline-info\" type=\"button\"><i class=\"fa fa-plus-circle\"\r\n                    aria-hidden=\"true\"></i> Create Ticket </button>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <ul class=\"list-group\">\r\n\r\n        <li *ngFor=\"let report of reports\" class=\"list-group-item\">\r\n            <a href=\"javascript:void(0)\" (click)=\"openDetail(report)\">\r\n                {{report.subject}}\r\n            </a>\r\n            <span class=\"pull-right \">{{report?.updatedAt| date:'d/MMM/y'}}</span>\r\n            <span class=\"pull-right mr-2 mr-md-4\">{{report.status}}</span>\r\n        </li>\r\n\r\n\r\n    </ul>\r\n\r\n\r\n    <!-- Pagination -->\r\n    <nav aria-label=\"Page navigation example\" class=\"pagination\">\r\n        <ul class=\"pagination\" *ngIf=\"totalCount > limit\">\r\n            <li class=\"page-item\" *ngIf=\"page > 0\">\r\n                <a class=\"page-link\" (click)=\"onClickPage(page - 1 )\" href=\"javascript:void(0)\" aria-label=\"Previous\">\r\n                    <span aria-hidden=\"true\">&laquo;</span>\r\n                    <span class=\"sr-only\">Previous</span>\r\n                </a>\r\n            </li>\r\n\r\n            <li class=\"page-item\" [ngClass]=\"{'active': page == 0}\" (click)=\"onClickPage(0)\"\r\n                *ngIf=\"(totalCount/limit) >= 0\">\r\n                <a class=\"page-link\" href=\"javascript:void(0)\">1</a>\r\n            </li>\r\n\r\n\r\n            <li class=\"page-item\" [ngClass]=\"{'active': page == 1}\" *ngIf=\"(totalCount/limit) >= 1\">\r\n                <a class=\"page-link\" href=\"javascript:void(0)\" (click)=\"onClickPage(1)\">2</a>\r\n            </li>\r\n\r\n\r\n            <li class=\"page-item\" [ngClass]=\"{'active': page == 2}\" *ngIf=\"(totalCount/limit) >= 2\">\r\n                <a class=\"page-link\" href=\"javascript:void(0)\" (click)=\"onClickPage(2)\">3</a>\r\n            </li>\r\n\r\n            <li class=\"page-item\" [ngClass]=\"{'active': page > 2}\"\r\n                *ngIf=\"((totalCount/limit) > 3) && (totalCount > (limit*(page+1)))\">\r\n                <a class=\"page-link\" (click)=\"onClickPage(page + 1 )\" href=\"javascript:void(0)\" aria-label=\"Next\">\r\n                    <span aria-hidden=\"true\">&raquo;</span>\r\n                    <span class=\"sr-only\">Next</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n\r\n</div>\r\n\r\n<ng-template #createNewTicket>\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title text-primary\">Create new Ticket</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"close()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n    </div>\r\n    <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"form-horizontal\">\r\n        <div class=\"modal-body\">\r\n\r\n            <div class=\"form-group\">\r\n                <!-- Disease Input -->\r\n                <label class=\"col-md-12\">Category</label>\r\n                <div class=\"col-md-12 mt-3\">\r\n                    <ng-select formControlName=\"category\" placeholder=\"Select Category\" (change)='chnageSubCategory()'\r\n                        [items]=\"categories\">\r\n                    </ng-select>\r\n\r\n                    <small *ngIf=\"isFormSubmitted && f.category.errors && f.category.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Category is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <!-- Disease Input -->\r\n                <label class=\"col-md-12\">Sub Category</label>\r\n                <div class=\"col-md-12 mt-3\">\r\n                    <ng-select formControlName=\"subCategory\" placeholder=\"Select Sub Category\"\r\n                        [items]=\"selectedSubCategories\">\r\n                    </ng-select>\r\n\r\n                    <small *ngIf=\"isFormSubmitted && f.subCategory.errors && f.subCategory.errors.required\"\r\n                        class=\"text-danger\">\r\n                        Sub Category is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n            <!-- Subject -->\r\n            <div class=\"form-group\">\r\n                <label class=\"col-md-12\" for=\"Subject\">Subject\r\n                </label>\r\n                <div class=\"col-md-12\">\r\n                    <input type=\"text\" formControlName=\"subject\" class=\"form-control\" placeholder=\"enter your Subject\">\r\n                    <!-- subject Validation -->\r\n                    <small *ngIf=\"isFormSubmitted && f.subject.errors && f.subject.errors.required\" class=\"text-danger\">\r\n                        Subject is Required.\r\n                    </small>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n            <button type=\"submit\" class=\"btn btn-success waves-effect waves-light\">Save</button>\r\n        </div>\r\n    </form>\r\n</ng-template>\r\n<ng-template #ticket>\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title text-primary\">{{reportObj.subject}}</h4>\r\n        <button type=\"button\" class=\"close\" (click)=\"close()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"modal-body\">\r\n\r\n        <div class=\"col-md-12\">\r\n            <div class=\"pull-left\">\r\n                <address>\r\n                    <h3> &nbsp;<b class=\"text-danger\"> {{reportObj?.hospital?.name}} </b></h3>\r\n                    <p class=\"text-muted m-l-5\"> {{reportObj?.hospital?.address}},\r\n                        <br /> {{reportObj?.hospital?.city}}, {{reportObj?.hospital?.state}}\r\n                        <br /> Phone: {{reportObj?.hospital?.phone}}\r\n                    </p>\r\n                </address>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n\r\n            <label class=\"col-md-12\">Category: {{reportObj.category}}</label>\r\n\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n\r\n            <label class=\"col-md-12\">Sub Category: {{reportObj.subCategory}}</label>\r\n\r\n        </div>\r\n        <div class=\"form-group\">\r\n\r\n            <label class=\"col-md-12\">Status: {{reportObj.status}}</label>\r\n\r\n        </div>\r\n\r\n        <div class=\"form-group\" *ngIf=\"reportObj.description !== ''\">\r\n            <label class=\"col-md-12\">Description:\r\n            </label>\r\n            <div class=\"col-md-12\">\r\n                <p>{{reportObj.description}}</p>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-md-12\">Files:\r\n            </label>\r\n            <div class=\"col-md-12\">\r\n                <ul class=\"list-group\">\r\n\r\n                    <li *ngFor=\"let image of reportObj.files; let i = index\" class=\"list-group-item\">\r\n                        <a href=\"javascript:void(0)\" (click)=\"openLightBox(i)\">\r\n                            {{getImageName(image)}}\r\n                        </a>\r\n\r\n                    </li>\r\n\r\n\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n</ng-template>\r\n","import { Component, OnInit, Input, ViewChild, TemplateRef } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { ReportService } from '../services/report.service';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\nimport { NotifyService } from 'src/app/shared/notify.service';\r\nimport { Lightbox } from 'ngx-lightbox';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LabAttendantService } from 'src/app/lab-attendant/lab-attendant.service';\r\nimport { NotificationService } from 'src/app/shared/notification.service';\r\nimport { LAB_REPORT_CATEGORIES, LAB_REPORT_SUB_CATEGORIES } from 'src/app/_constants/reportCategories';\r\n\r\n@Component({\r\n  selector: 'app-profile-reports',\r\n  templateUrl: './profile-reports.component.html',\r\n  styleUrls: ['./profile-reports.component.css']\r\n})\r\nexport class ProfileReportsComponent implements OnInit {\r\n  reports = [];\r\n  page = 0;\r\n  limit = 10;\r\n  totalCount = 0;\r\n\r\n\r\n  selectedSubCategories = [];\r\n\r\n  labAttendentList = [];\r\n\r\n  reportObj = null\r\n  categories = LAB_REPORT_CATEGORIES;\r\n  subCategories = LAB_REPORT_SUB_CATEGORIES;\r\n\r\n  form: FormGroup;\r\n  isFormSubmitted = false;\r\n\r\n  config = {\r\n    displayKey: \"description\", //if objects array passed which key to be displayed defaults to description\r\n    search: true, //true/false for the search functionlity defaults to false,\r\n    height: 'auto', //height of the list so that if there are more no of items it can show a scroll defaults to auto. With auto height scroll will never appear\r\n    placeholder: 'Select Category', // text to be displayed when no item is selected defaults to Select,\r\n    customComparator: () => { }, // a custom function using which user wants to sort the items. default is undefined and Array.sort() will be used in that case,\r\n    limitTo: this.categories.length, // a number thats limits the no of options displayed in the UI similar to angular's limitTo pipe\r\n    moreText: 'more', // text to be displayed whenmore than one items are selected like Option 1 + 5 more\r\n    noResultsFound: 'No results found!', // text to be displayed when no items are found while searching\r\n    searchPlaceholder: 'Search', // label thats displayed in search input,\r\n    searchOnKey: 'name', // key on which search should be performed this will be selective search. if undefined this will be extensive search on all keys\r\n  }\r\n  @Input() patientId: string;\r\n  @Input() userId: any;\r\n  @ViewChild('createNewTicket', { static: true }) createNewTicket: TemplateRef<any>;\r\n  @ViewChild('ticket', { static: true }) ticket: TemplateRef<any>;\r\n  constructor(private ngbModal: NgbModal, private formBuilder: FormBuilder, private authService: AuthService, private reportService: ReportService,\r\n    private notifyService: NotifyService, private labAttendentService: LabAttendantService, private notificationService: NotificationService, private _lightbox: Lightbox) { }\r\n\r\n  ngOnInit() {\r\n    this.createForm();\r\n    this.getLabAttendentList();\r\n    // alert(this.userId);\r\n\r\n  }\r\n  ngOnChanges() {\r\n    if (this.patientId) {\r\n      this.get();\r\n    }\r\n  }\r\n  createForm() {\r\n    this.form = this.formBuilder.group({\r\n      category: ['', Validators.required],\r\n      subCategory: ['', Validators.required],\r\n      subject: ['', Validators.required],\r\n    });\r\n  }\r\n  get() {\r\n    this.reportService.get(this.patientId, this.page, this.limit).subscribe((res: ResponseMessage) => {\r\n      if (+res.status === 200) {\r\n        this.reports = res.data.doc;\r\n        this.totalCount = res.data.count;\r\n\r\n      }\r\n    })\r\n  }\r\n  get f() { return this.form.controls; }\r\n  open() {\r\n    this.ngbModal.open(this.createNewTicket);\r\n  }\r\n  openDetail(report) {\r\n    this.reportObj = report;\r\n    this.ngbModal.open(this.ticket);\r\n  }\r\n  close() {\r\n    this.ngbModal.dismissAll();\r\n  }\r\n  getImageName(image: string) {\r\n    let arr = image.split('/');\r\n    return arr[arr.length - 1]\r\n  }\r\n  onSubmit() {\r\n    this.isFormSubmitted = true;\r\n    if (this.form.invalid) { return; }\r\n\r\n    let notObj = {\r\n      createdBy: this.authService.currentUserValue._id,\r\n      description: 'A Medical Test has been recommended',\r\n      category: 4,\r\n      sentTo: [this.userId],\r\n    }\r\n    if (this.labAttendentList.length > 0) {\r\n      this.labAttendentList.forEach(element => {\r\n        notObj.sentTo.push(element.user._id);\r\n      });\r\n    }\r\n\r\n\r\n    let ticket = this.form.value;\r\n    ticket.patient = this.patientId;\r\n    ticket.doctor = this.authService.currentUserValue.roleId;\r\n    this.reportService.create(ticket).subscribe((res: ResponseMessage) => {\r\n      if (+res.status === 200) {\r\n        this.notifyService.success('Report ticket created');\r\n        this.notificationService.sendNotification(notObj);\r\n        this.close();\r\n        this.isFormSubmitted = true;\r\n        this.form.reset();\r\n        this.get();\r\n      }\r\n    })\r\n  }\r\n  openLightBox(index: number): void {\r\n    // open lightbox\r\n\r\n    let images = [];\r\n    this.reportObj.files.forEach((element, index) => {\r\n      images[index] = { src: environment.base_url + element };\r\n    });\r\n    console.log('images', images);\r\n    this._lightbox.open(images, index);\r\n  }\r\n\r\n  closeLightBox(): void {\r\n    // close lightbox programmatically\r\n    this._lightbox.close();\r\n  }\r\n\r\n  getLabAttendentList() {\r\n    this.labAttendentService.getList().subscribe((res: any) => {\r\n      // console.log('phrmacy List', res);\r\n      if (+res.status === 200) {\r\n        this.labAttendentList = res.data;\r\n        console.log(this.labAttendentList);\r\n      } else {\r\n        this.labAttendentList = [];\r\n      }\r\n    })\r\n  }\r\n\r\n  onClickPage(page = 0) {\r\n    this.page = page;\r\n    this.get();\r\n  }\r\n  chnageSubCategory() {\r\n    this.selectedSubCategories = [];\r\n    this.f['subCategory'].setValue('');\r\n    this.selectedSubCategories = this.subCategories[this.categories.indexOf(this.f['category'].value)];\r\n  }\r\n}\r\n","<!-- Modern Patient Profile Interface -->\r\n<div class=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50\" *ngIf=\"!isLoader\">\r\n\r\n    <!-- Access Restricted State -->\r\n    <div *ngIf=\"isNotSubscribed\" class=\"flex items-center justify-center min-h-screen p-6\">\r\n        <div class=\"max-w-md w-full\">\r\n            <div class=\"bg-white rounded-2xl shadow-xl border border-red-100 overflow-hidden\">\r\n                <div class=\"bg-gradient-to-r from-red-500 to-red-600 p-6 text-center\">\r\n                    <div class=\"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center\">\r\n                        <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                d=\"M12 15v2m0 0v2m0-2h2m-2 0H10m4-9.5A2.5 2.5 0 0115.5 12 2.5 2.5 0 0116 14.5H8A2.5 2.5 0 018.5 12 2.5 2.5 0 0111 9.5m4 0V8a4 4 0 00-8 0v1.5\">\r\n                            </path>\r\n                        </svg>\r\n                    </div>\r\n                    <h2 class=\"text-2xl font-bold text-white mb-2\">Access Restricted</h2>\r\n                </div>\r\n                <div class=\"p-6 text-center\">\r\n                    <p class=\"text-gray-600 mb-4\">{{ errorMessage }}</p>\r\n                    <p class=\"text-sm text-gray-500 mb-6\">Please ensure the patient has an active subscription to view\r\n                        their information.</p>\r\n                    <button\r\n                        class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-[1.02] focus:outline-none focus:ring-4 focus:ring-blue-200\"\r\n                        (click)=\"createSubscription()\">\r\n                        <span class=\"flex items-center justify-center\">\r\n                            <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n                            </svg>\r\n                            Subscribe Now\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Main Profile Content -->\r\n    <div *ngIf=\"!isNotSubscribed\" class=\"container mx-auto px-4 py-8\">\r\n\r\n        <!-- Header Section -->\r\n        <div class=\"mb-8\">\r\n            <div class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                <!-- Header Background -->\r\n                <div class=\"h-24 bg-gradient-to-r from-blue-500 to-purple-500\"></div>\r\n\r\n                <!-- Profile Section -->\r\n                <div class=\"px-6 py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                    <!-- Profile Image and Status -->\r\n                    <div class=\"flex items-center gap-4\">\r\n                        <div class=\"relative flex-shrink-0\">\r\n                            <img [src]=\"ImageSrc\" [alt]=\"patient?.user?.name || 'Patient'\"\r\n                                class=\"w-24 h-24 rounded-full border-4 border-white shadow-md object-cover bg-gray-100\">\r\n                            <span class=\"absolute bottom-0 right-0 w-6 h-6 rounded-full border-2 border-white\"\r\n                                [ngClass]=\"patient?.user?.active ? 'bg-green-500' : 'bg-red-500'\"></span>\r\n                        </div>\r\n                        <div class=\"flex flex-col\">\r\n                            <h1 class=\"text-2xl font-bold text-gray-900\">{{patient?.user?.name || 'Patient Name'}}</h1>\r\n                            <p class=\"text-gray-500 text-sm\">@{{patient?.user?.username}}</p>\r\n\r\n                            <div class=\"flex flex-wrap gap-2 mt-2\">\r\n                                <span\r\n                                    class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\r\n                                    <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                            d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2\">\r\n                                        </path>\r\n                                    </svg>\r\n                                    {{patient?.occupation || 'Not specified'}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Status and Action Button -->\r\n                    <div class=\"flex items-center gap-4\">\r\n                        <span class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\"\r\n                            [ngClass]=\"patient?.user?.active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\">\r\n                            <span class=\"w-2 h-2 rounded-full mr-2\"\r\n                                [ngClass]=\"patient?.user?.active ? 'bg-green-500' : 'bg-red-500'\"></span>\r\n                            {{patient?.user?.active ? 'Active' : 'Inactive'}}\r\n                        </span>\r\n                        <button *ngxPermissionsOnly=\"['hospital']\" type=\"button\"\r\n                            class=\"inline-flex items-center px-4 py-2 rounded-lg font-semibold text-white transition-all duration-200 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-offset-2\"\r\n                            [ngClass]=\"patient?.user?.active ? \r\n                                    'bg-red-600 hover:bg-red-700 focus:ring-red-500' : \r\n                                    'bg-green-600 hover:bg-green-700 focus:ring-green-500'\" (click)=\"markAsActive()\">\r\n                            <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n                            </svg>\r\n                            Mark as {{patient?.user?.active ? 'Inactive' : 'Active'}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"bg-white rounded-2xl shadow-lg mb-5 border border-gray-100 p-3\">\r\n            <button\r\n                class=\"w-full flex items-center justify-center px-6 py-4 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 active:from-emerald-800 active:to-emerald-900 text-white font-semibold rounded-xl transition-all duration-300 transform active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-emerald-200 shadow-lg hover:shadow-xl group\"\r\n                [routerLink]=\"['medical']\">\r\n                <svg class=\"w-6 h-6 mr-3 transition-transform duration-200 group-hover:rotate-12\" fill=\"none\"\r\n                    stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                        d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\">\r\n                    </path>\r\n                </svg>\r\n                <span class=\"text-base font-bold\">View Medical History</span>\r\n                <svg class=\"w-5 h-5 ml-2 transition-transform duration-200 group-hover:translate-x-1\" fill=\"none\"\r\n                    stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\">\r\n                    </path>\r\n                </svg>\r\n            </button>\r\n        </div>\r\n        <!-- Navigation Tabs -->\r\n        <!-- Dynamic Responsive Tab Navigation -->\r\n        <div class=\"mb-8 w-full\">\r\n            <!-- Desktop Navigation -->\r\n            <!-- Mobile Navigation -->\r\n            <div class=\"\">\r\n                <!-- Main Tabs Container -->\r\n                <div class=\"bg-white rounded-2xl w-full shadow-lg border border-gray-100 mb-4 overflow-hidden\">\r\n                    <!-- Scrollable Tab Bar -->\r\n                    <div class=\"overflow-x-auto w-full scrollbar-hide\">\r\n                        <nav style=\"display: grid !important;\" class=\"grid grid-cols-3   space-x-1 p-2 w-full\">\r\n                            <a class=\"flex flex-col items-center px-4 py-3 cursor-pointer rounded-xl font-medium transition-all duration-300 relative min-w-[80px] group\"\r\n                                [ngClass]=\"tab === 1 ? \r\n                            'bg-gradient-to-b from-blue-600 to-blue-700 text-white shadow-lg' : \r\n                            'text-gray-600 hover:bg-blue-50 active:bg-blue-100'\" (click)=\"onclickTab(1)\">\r\n                                <svg class=\"w-6 h-6 mb-1 transition-transform duration-200\"\r\n                                    [ngClass]=\"tab === 1 ? 'scale-110' : 'group-active:scale-95'\" fill=\"none\"\r\n                                    stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\r\n                                </svg>\r\n                                <span class=\"text-xs font-semibold\">General</span>\r\n                                <!-- Active indicator dot -->\r\n                                <div *ngIf=\"tab === 1\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-ping\">\r\n                                </div>\r\n                                <div *ngIf=\"tab === 1\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full\">\r\n                                </div>\r\n                            </a>\r\n\r\n                            <a *ngxPermissionsOnly=\"['patient']\"\r\n                                class=\"flex flex-col items-center px-4 py-3 cursor-pointer rounded-xl font-medium transition-all duration-300 relative min-w-[80px] group\"\r\n                                [ngClass]=\"tab === 2 ? \r\n                            'bg-gradient-to-b from-blue-600 to-blue-700 text-white shadow-lg' : \r\n                            'text-gray-600 hover:bg-blue-50 active:bg-blue-100'\" (click)=\"goToEdit()\">\r\n                                <svg class=\"w-6 h-6 mb-1 transition-transform duration-200\"\r\n                                    [ngClass]=\"tab === 2 ? 'scale-110' : 'group-active:scale-95'\" fill=\"none\"\r\n                                    stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\">\r\n                                    </path>\r\n                                </svg>\r\n                                <span class=\"text-xs font-semibold\">Update Details</span>\r\n                                <div *ngIf=\"tab === 2\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-ping\">\r\n                                </div>\r\n                                <div *ngIf=\"tab === 2\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full\">\r\n                                </div>\r\n                            </a>\r\n\r\n                            <a class=\"flex flex-col items-center px-4 py-3 cursor-pointer rounded-xl font-medium transition-all duration-300 relative min-w-[80px] group\"\r\n                                [ngClass]=\"tab === 3 ? \r\n                            'bg-gradient-to-b from-blue-600 to-blue-700 text-white shadow-lg' : \r\n                            'text-gray-600 hover:bg-blue-50 active:bg-blue-100'\" (click)=\"onclickTab(3)\">\r\n                                <svg class=\"w-6 h-6 mb-1 transition-transform duration-200\"\r\n                                    [ngClass]=\"tab === 3 ? 'scale-110' : 'group-active:scale-95'\" fill=\"none\"\r\n                                    stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\">\r\n                                    </path>\r\n                                </svg>\r\n                                <span class=\"text-xs font-semibold\">Reports</span>\r\n                                <div *ngIf=\"tab === 3\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-ping\">\r\n                                </div>\r\n                                <div *ngIf=\"tab === 3\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full\">\r\n                                </div>\r\n                            </a>\r\n\r\n                            <a class=\"flex flex-col items-center px-4 py-3 cursor-pointer rounded-xl font-medium transition-all duration-300 relative min-w-[80px] group\"\r\n                                [ngClass]=\"tab === 4 ? \r\n                            'bg-gradient-to-b from-blue-600 to-blue-700 text-white shadow-lg' : \r\n                            'text-gray-600 hover:bg-blue-50 active:bg-blue-100'\" (click)=\"onclickTab(4)\">\r\n                                <svg class=\"w-6 h-6 mb-1 transition-transform duration-200\"\r\n                                    [ngClass]=\"tab === 4 ? 'scale-110' : 'group-active:scale-95'\" fill=\"none\"\r\n                                    stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\">\r\n                                    </path>\r\n                                </svg>\r\n                                <span class=\"text-xs font-semibold\">Billing</span>\r\n                                <div *ngIf=\"tab === 4\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-ping\">\r\n                                </div>\r\n                                <div *ngIf=\"tab === 4\"\r\n                                    class=\"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full\">\r\n                                </div>\r\n                            </a>\r\n                        </nav>\r\n                    </div>\r\n\r\n                    <!-- Tab indicator line -->\r\n\r\n                </div>\r\n\r\n                <!-- Medical History Button (Separate on Mobile) -->\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Add this CSS for hiding scrollbar if needed -->\r\n\r\n\r\n        <!-- Tab Content -->\r\n        <div class=\"tab-content\">\r\n\r\n            <!-- General Tab -->\r\n            <div *ngIf=\"tab === 1\" class=\"space-y-6\">\r\n\r\n                <!-- Biodata Section -->\r\n                <!-- Biodata Section -->\r\n                <div class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                    <div class=\"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-100\">\r\n                        <h3 class=\"text-xl font-bold text-gray-900 flex items-center\">\r\n                            <svg class=\"w-6 h-6 mr-3 text-blue-600\" fill=\"none\" stroke=\"currentColor\"\r\n                                viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\r\n                            </svg>\r\n                            Biodata\r\n                        </h3>\r\n                    </div>\r\n                    <div class=\"p-6\">\r\n                        <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6\">\r\n                            <!-- Status -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Status</div>\r\n                                <div class=\"text-lg font-semibold\"\r\n                                    [ngClass]=\"patient?.user?.active ? 'text-green-600' : 'text-red-600'\">\r\n                                    {{patient?.user?.active ? 'Active' : 'Inactive'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"bg-gray-50 rounded-xl flex flex-col flex-wrap  p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Email</div>\r\n                                <div class=\"text-md text-ellipsis font-semibold text-gray-900\">{{patient?.user.email}}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Phone</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.user.phone}}</div>\r\n                            </div>\r\n                            <!-- Date of Birth -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Date of Birth</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.dob | date: 'longDate'}}\r\n                                </div>\r\n                            </div>\r\n                            <!-- Member Since -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Member Since</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.user?.createdAt | date:\r\n                                    'longDate'}}</div>\r\n                            </div>\r\n                            <!-- Pending Dues -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Pending Dues</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">Detailed</div>\r\n                            </div>\r\n                            <!-- Age -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Age</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.dob | age}}</div>\r\n                            </div>\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Address</div>\r\n                                <div class=\"text-md font-semibold text-gray-900\">{{patient?.user.address}}</div>\r\n                            </div>\r\n                            <!-- Tribe -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Tribe</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.tribe || 'Not specified'}}\r\n                                </div>\r\n                            </div>\r\n                            <!-- Religion -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Religion</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.religion || 'Not\r\n                                    specified'}}</div>\r\n                            </div>\r\n                            <!-- Marital Status -->\r\n                            <div class=\"bg-gray-50 rounded-xl p-4\">\r\n                                <div class=\"text-sm font-medium text-gray-500 mb-1\">Marital Status</div>\r\n                                <div class=\"text-lg font-semibold text-gray-900\">{{patient?.maritalStatus || 'Not\r\n                                    specified'}}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mt-6\" *ngIf=\"patient?.description\">\r\n                            <div class=\"text-sm font-medium text-gray-500 mb-2\">Description</div>\r\n                            <p class=\"text-gray-700 leading-relaxed bg-gray-50 rounded-xl p-4\">{{patient?.description}}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Vitals Section -->\r\n                <div class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                    <div class=\"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-gray-100\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <h3 class=\"text-xl font-bold text-gray-900 flex items-center\">\r\n                                <svg class=\"w-6 h-6 mr-3 text-green-600\" fill=\"none\" stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\">\r\n                                    </path>\r\n                                </svg>\r\n                                Vitals\r\n                            </h3>\r\n                            <div *ngIf=\"patient?.vitalsUpdatedAt\" class=\"text-sm text-gray-500\">\r\n                                Updated: {{patient?.vitalsUpdatedAt | date:'MMM d, h:mm a'}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"p-6\">\r\n                        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                            <div *ngFor=\"let vital of patient?.vitals\"\r\n                                class=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200\">\r\n                                {{vital.name}}: <span class=\"font-semibold\">{{vital.value}}</span>\r\n                                <!-- Vital content will be populated based on your vital structure -->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Past Medical History Section - FIXED VERSION -->\r\n                <div class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                    <div class=\"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b border-gray-100\">\r\n                        <h3 class=\"text-xl font-bold text-gray-900 flex items-center\">\r\n                            <svg class=\"w-6 h-6 mr-3 text-purple-600\" fill=\"none\" stroke=\"currentColor\"\r\n                                viewBox=\"0 0 24 24\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\">\r\n                                </path>\r\n                            </svg>\r\n                            Past Medical History\r\n                        </h3>\r\n                    </div>\r\n                    <div class=\"p-6\">\r\n                        <!-- Accordion for Doctors (Editable with Angular Editor) -->\r\n                        <div *ngxPermissionsOnly='[\"doctor\"]' class=\"block\">\r\n                            <ngb-accordion (openChange)=\"onChnageAccordian()\" [closeOthers]=\"true\"\r\n                                class=\"block space-y-4\">\r\n                                <ngb-panel id=\"acd-1\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Problems/Past Medical\r\n                                            History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 block\">\r\n                                            <!-- Angular Editor for Doctors -->\r\n                                            <angular-editor (click)=\"isButtonVisible = true\" [config]=\"editorConfig\"\r\n                                                [placeholder]=\"'Problems/Past Medical History'\"\r\n                                                [(ngModel)]=\"problems_PastMedicalHistoryValue\"\r\n                                                class=\"block bg-gray-50 rounded-xl\">\r\n                                            </angular-editor>\r\n                                            <button *ngIf=\"isButtonVisible\"\r\n                                                (click)=\"onSaveDiseaseChange('problems_PastMedicalHistory', problems_PastMedicalHistoryValue)\"\r\n                                                class=\"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                                                Save Changes\r\n                                            </button>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-2\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Drug History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 block\">\r\n                                            <angular-editor (click)=\"isButtonVisible = true\" [config]=\"editorConfig\"\r\n                                                [placeholder]=\"'Drug History'\" [(ngModel)]=\"drugHistoryValue\"\r\n                                                class=\"block bg-gray-50 rounded-xl\">\r\n                                            </angular-editor>\r\n                                            <button *ngIf=\"isButtonVisible\"\r\n                                                (click)=\"onSaveDiseaseChange('drugHistory', drugHistoryValue)\"\r\n                                                class=\"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                                                Save Changes\r\n                                            </button>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-3\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Surgical History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 block\">\r\n                                            <angular-editor (click)=\"isButtonVisible = true\" [config]=\"editorConfig\"\r\n                                                [placeholder]=\"'Surgical History'\" [(ngModel)]=\"surgicalHistoryValue\"\r\n                                                class=\"block bg-gray-50 rounded-xl\">\r\n                                            </angular-editor>\r\n                                            <button *ngIf=\"isButtonVisible\"\r\n                                                (click)=\"onSaveDiseaseChange('surgicalHistory', surgicalHistoryValue)\"\r\n                                                class=\"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                                                Save Changes\r\n                                            </button>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-4\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Obstetrics and Gynecology\r\n                                            History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 block\">\r\n                                            <angular-editor (click)=\"isButtonVisible = true\" [config]=\"editorConfig\"\r\n                                                [placeholder]=\"'Obstetrics and Gynecology History'\"\r\n                                                [(ngModel)]=\"obstetrics_GynacologyHistoryValue\"\r\n                                                class=\"block bg-gray-50 rounded-xl\">\r\n                                            </angular-editor>\r\n                                            <button *ngIf=\"isButtonVisible\"\r\n                                                (click)=\"onSaveDiseaseChange('obstetrics_GynacologyHistory', obstetrics_GynacologyHistoryValue)\"\r\n                                                class=\"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                                                Save Changes\r\n                                            </button>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-5\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Vaccines</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 block\">\r\n                                            <angular-editor (click)=\"isButtonVisible = true\" [config]=\"editorConfig\"\r\n                                                [placeholder]=\"'Vaccines'\" [(ngModel)]=\"vaccinesValue\"\r\n                                                class=\"block bg-gray-50 rounded-xl\">\r\n                                            </angular-editor>\r\n                                            <button *ngIf=\"isButtonVisible\"\r\n                                                (click)=\"onSaveDiseaseChange('vaccines', vaccinesValue)\"\r\n                                                class=\"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                                                Save Changes\r\n                                            </button>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-6\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Allergies</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 block\">\r\n                                            <angular-editor (click)=\"isButtonVisible = true\" [config]=\"editorConfig\"\r\n                                                [placeholder]=\"'Allergies'\" [(ngModel)]=\"allergiesValue\"\r\n                                                class=\"block bg-gray-50 rounded-xl\">\r\n                                            </angular-editor>\r\n                                            <button *ngIf=\"isButtonVisible\"\r\n                                                (click)=\"onSaveDiseaseChange('allergies', allergiesValue)\"\r\n                                                class=\"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                                                Save Changes\r\n                                            </button>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n                            </ngb-accordion>\r\n                        </div>\r\n\r\n                        <!-- Accordion for Non-Doctors (Read-Only) -->\r\n                        <div *ngxPermissionsExcept='[\"doctor\"]' class=\"block\">\r\n                            <ngb-accordion (openChange)=\"onChnageAccordian()\" [closeOthers]=\"true\"\r\n                                class=\"block space-y-4\">\r\n                                <ngb-panel id=\"acd-1\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Problems/Past Medical\r\n                                            History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 bg-gray-50 rounded-xl p-4 block\">\r\n                                            <p class=\"text-gray-700 leading-relaxed\"\r\n                                                [innerHTML]=\"problems_PastMedicalHistoryValue || 'No data available'\">\r\n                                            </p>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-2\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Drug History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 bg-gray-50 rounded-xl p-4 block\">\r\n                                            <p class=\"text-gray-700 leading-relaxed\"\r\n                                                [innerHTML]=\"drugHistoryValue || 'No data available'\">\r\n                                            </p>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-3\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Surgical History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 bg-gray-50 rounded-xl p-4 block\">\r\n                                            <p class=\"text-gray-700 leading-relaxed\"\r\n                                                [innerHTML]=\"surgicalHistoryValue || 'No data available'\"></p>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-4\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Obstetrics and Gynecology\r\n                                            History</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 bg-gray-50 rounded-xl p-4 block\">\r\n                                            <p class=\"text-gray-700 leading-relaxed\"\r\n                                                [innerHTML]=\"obstetrics_GynacologyHistoryValue || 'No data available'\">\r\n                                            </p>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-5\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Vaccines</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 bg-gray-50 rounded-xl p-4 block\">\r\n                                            <p class=\"text-gray-700 leading-relaxed\"\r\n                                                [innerHTML]=\"vaccinesValue || 'No data available'\">\r\n                                            </p>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n\r\n                                <ngb-panel id=\"acd-6\" class=\"block\">\r\n                                    <ng-template ngbPanelTitle>\r\n                                        <span class=\"block font-semibold text-gray-900\">Allergies</span>\r\n                                    </ng-template>\r\n                                    <ng-template ngbPanelContent>\r\n                                        <div class=\"mt-3 bg-gray-50 rounded-xl p-4 block\">\r\n                                            <p class=\"text-gray-700 leading-relaxed\"\r\n                                                [innerHTML]=\"allergiesValue || 'No data available'\">\r\n                                            </p>\r\n                                        </div>\r\n                                    </ng-template>\r\n                                </ngb-panel>\r\n                            </ngb-accordion>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Reports Tab -->\r\n            <div *ngIf=\"tab === 3\" class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                <app-profile-reports [userId]=\"patient?.user?._id\" [patientId]=\"patient?._id\">\r\n                </app-profile-reports>\r\n            </div>\r\n\r\n            <!-- Billing Tab -->\r\n            <div *ngIf=\"tab === 4\" class=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n                <app-profile-billing></app-profile-billing>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Loader -->\r\n<div *ngIf=\"isLoader\" class=\"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50\">\r\n    <div class=\"flex flex-col items-center space-y-4\">\r\n        <div class=\"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\"></div>\r\n        <p class=\"text-gray-600 font-medium\">Loading patient information...</p>\r\n    </div>\r\n</div>\r\n<style>\r\n    .scrollbar-hide {\r\n        -ms-overflow-style: none;\r\n        scrollbar-width: none;\r\n    }\r\n\r\n    .scrollbar-hide::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n\r\n    /* Custom tab indicator animation */\r\n    @keyframes slideIn {\r\n        from {\r\n            transform: translateX(-100%);\r\n            opacity: 0;\r\n        }\r\n\r\n        to {\r\n            transform: translateX(0);\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n    .tab-indicator {\r\n        animation: slideIn 0.3s ease-out;\r\n    }\r\n/* Fix for ng-bootstrap accordion with Tailwind CSS */\r\nngb-accordion .card {\r\n  display: block !important;\r\n  margin-bottom: 0.5rem;\r\n  background-color: white;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 0.5rem;\r\n}\r\n\r\nngb-accordion .card-header {\r\n  padding: 0;\r\n  background-color: transparent;\r\n  border-bottom: none;\r\n}\r\n\r\nngb-accordion .btn {\r\n  display: flex !important;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 1rem 1.5rem;\r\n  text-align: left;\r\n  background-color: transparent;\r\n  border: none;\r\n  font-weight: 600;\r\n  color: #374151;\r\n}\r\n\r\nngb-accordion .btn:hover {\r\n  background-color: #f9fafb;\r\n}\r\n\r\nngb-accordion .btn:focus {\r\n  box-shadow: 0 0 0 2px #3b82f6;\r\n  outline: none;\r\n}\r\n\r\nngb-accordion .collapse {\r\n  display: none;\r\n}\r\n\r\nngb-accordion .collapse.show {\r\n  display: block;\r\n}\r\n\r\nngb-accordion .card-body {\r\n  padding: 1.5rem;\r\n  border-top: 1px solid #e5e7eb;\r\n}\r\n\r\n/* Ensure accordion content is visible */\r\nngb-accordion .accordion-item {\r\n  display: block !important;\r\n  visibility: visible !important;\r\n  opacity: 1 !important;\r\n}\r\n\r\n/* Fix for Angular Editor inside accordion */\r\nngb-accordion angular-editor {\r\n  display: block !important;\r\n}\r\n\r\nngb-accordion .angular-editor {\r\n  display: block !important;\r\n}\r\n\r\n.collapse{\r\n    opacity: 1 !important;\r\n    visibility: visible !important;\r\n    display: block !important;\r\n}\r\n</style>\r\n<!-- Modal Template -->\r\n<ng-template #modalContent let-close=\"close\">\r\n    <!-- Your modal content here -->\r\n</ng-template>\r\n","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Patient } from 'src/app/_models/patient';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\nimport { environment } from 'src/environments/environment';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { NotifyService } from 'src/app/shared/notify.service';\r\nimport { PatientService } from '../patient.service';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css'],\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  isLoader = false;\r\n  isNotSubscribed = false;\r\n  errorMessage: string = '';\r\n\r\n  public showNotification(type: string, message: string): void {\r\n    this.notifier.notify(type, message);\r\n  }\r\n\r\n  private notifier: NotifierService;\r\n\r\n  @ViewChild('modalContent', { static: true }) modalContent: TemplateRef<any>;\r\n\r\n  editorConfig: AngularEditorConfig = {\r\n    editable: true, // This is crucial\r\n    /* Your existing config */\r\n  };\r\n  patientId: string;\r\n  patient: Patient;\r\n  vitals = [];\r\n  verticalVitals = [];\r\n  horizontalVitals = [];\r\n  problems_PastMedicalHistoryValue;\r\n  drugHistoryValue;\r\n  surgicalHistoryValue;\r\n  obstetrics_GynacologyHistoryValue;\r\n  vaccinesValue;\r\n  allergiesValue;\r\n  isButtonVisible = false;\r\n  tab = 1;\r\n\r\n  constructor(\r\n    private modal: NgbModal,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    notifier: NotifierService,\r\n    private patientService: PatientService,\r\n    private authService: AuthService,\r\n    private notifyService: NotifyService\r\n  ) {\r\n    this.notifier = notifier;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe((params) => {\r\n      this.get(params['id']);\r\n      this.patientId = params['id'];\r\n    });\r\n  }\r\n\r\n  // Create subscription and redirect to Paystack payment link\r\n  createSubscription() {\r\n    if (!this.patientId) {\r\n      this.showNotification('error', 'Patient ID is not available.');\r\n      return;\r\n    }\r\n\r\n    this.isLoader = true;\r\n    this.patientService.createSubscription(this.patientId).subscribe(\r\n      (res: any) => {\r\n        this.isLoader = false;\r\n        console.log(res)\r\n        if (res.status == '200' && res.data.status && res.data.paymentLink) {\r\n          // Open Paystack payment link in a new tab\r\n          window.open( res.data.paymentLink, '_blank');\r\n          this.showNotification('info', 'Redirecting to payment page...');\r\n        } else {\r\n          this.showNotification('error', 'Failed to create subscription. Please try again.');\r\n        }\r\n      },\r\n      (error) => {\r\n        this.isLoader = false;\r\n        this.showNotification('error', 'An error occurred while creating subscription.');\r\n        console.error('Subscription error:', error);\r\n      }\r\n    );\r\n  }\r\n  getTabIndicatorWidth(): number {\r\n    return 80; // Match the min-width of tabs\r\n  }\r\n  getTabIndicatorPosition(): number {\r\n    const tabWidth = 88; // Base width of each tab (80px min-width + 8px padding)\r\n    const padding = 8; // Container padding\r\n    \r\n    let activeTabIndex = 0;\r\n    \r\n    // Determine which tab is active and get its index\r\n    if (this.tab === 1) {\r\n      activeTabIndex = 0;\r\n    } else if (this.tab === 2) {\r\n      // Only count this tab if patient permissions exist\r\n      const hasPatientPermission = true; // Replace with your actual permission check\r\n      activeTabIndex = hasPatientPermission ? 1 : 0;\r\n    } else if (this.tab === 3) {\r\n      // Check if patient tab exists to determine correct index\r\n      const hasPatientPermission = true; // Replace with your actual permission check\r\n      activeTabIndex = hasPatientPermission ? 2 : 1;\r\n    } else if (this.tab === 4) {\r\n      // Check if patient tab exists to determine correct index\r\n      const hasPatientPermission = true; // Replace with your actual permission check\r\n      activeTabIndex = hasPatientPermission ? 3 : 2;\r\n    }\r\n    \r\n    return padding + (activeTabIndex * tabWidth);\r\n  }\r\n  navigateToPatientList() {\r\n    this.router.navigate(['app/patient']);\r\n  }\r\n\r\n  get(id) {\r\n    this.isLoader = true;\r\n    this.patientService.getById(id).subscribe(\r\n      (res: ResponseMessage) => {\r\n        console.log(res);\r\n        if (res.status == '200') {\r\n          this.isNotSubscribed = false;\r\n          this.patient = res.data;\r\n          this.problems_PastMedicalHistoryValue = this.patient.problems_PastMedicalHistory;\r\n          this.drugHistoryValue = this.patient.drugHistory;\r\n          this.surgicalHistoryValue = this.patient.surgicalHistory;\r\n          this.obstetrics_GynacologyHistoryValue = this.patient.obstetrics_GynacologyHistory;\r\n          this.vaccinesValue = this.patient.vaccines;\r\n          this.allergiesValue = this.patient.allergies;\r\n          this.isLoader = false;\r\n        } else if (res.status == '403') {\r\n          this.isNotSubscribed = true;\r\n          this.errorMessage = res.data.message;\r\n          this.isLoader = false;\r\n          this.showNotification('error', this.errorMessage);\r\n        } else {\r\n          this.router.navigate(['app/patient']);\r\n          this.isLoader = false;\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        this.isLoader = false;\r\n        this.showNotification('error', 'An error occurred while fetching patient data.');\r\n        this.router.navigate(['app/patient']);\r\n      }\r\n    );\r\n  }\r\n\r\n  get ImageSrc() {\r\n    if (this.patient) {\r\n      return environment.base_url + this.patient.user.image;\r\n    }\r\n    return environment.base_url + 'images/user.jpg';\r\n  }\r\n\r\n  _calculateAge(birthday) {\r\n    if (birthday) {\r\n      birthday = new Date(birthday);\r\n      const ageDifMs = Date.now() - birthday.getTime();\r\n      const ageDate = new Date(ageDifMs);\r\n      return Math.abs(ageDate.getUTCFullYear() - 1970);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  onclickTab(tab) {\r\n    this.tab = tab;\r\n  }\r\n\r\n  onClose() {\r\n    this.modal.dismissAll();\r\n  }\r\n\r\n  onOpen() {\r\n    this.modal.open(this.modalContent);\r\n  }\r\n\r\n  markAsActive() {\r\n    this.authService.toggleactive(this.patient.user._id).subscribe((res: ResponseMessage) => {\r\n      if (res.status === '200') {\r\n        this.patient.user.active = !this.patient.user.active;\r\n        this.notifyService.success(res.data.msg);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSaveDiseaseChange(diseaseType, value) {\r\n    this.isButtonVisible = false;\r\n    this.patientService.updateFixedDisease(this.patient._id, { diseaseType, value }).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        this.showNotification('success', 'Data Updated Successfully');\r\n      } else {\r\n        this.showNotification('error', 'something went wrong');\r\n      }\r\n    });\r\n  }\r\n\r\n  onChnageAccordian() {\r\n    console.log('here');\r\n    this.isButtonVisible = false;\r\n  }\r\n\r\n  checkTemprature(t) {\r\n    return t > 37.5 || t < 36.5;\r\n  }\r\n\r\n  checkPulseRate(p) {\r\n    return p > 100 || p < 60;\r\n  }\r\n\r\n  checkCyclesPerMin(c) {\r\n    return c > 18 || c < 12;\r\n  }\r\n\r\n  checkSystolic(s) {\r\n    return s > 139 || s < 90;\r\n  }\r\n\r\n  checkDiastolic(d) {\r\n    return d > 89 || d < 60;\r\n  }\r\n\r\n  checkOxygen(o) {\r\n    return o > 100 || o < 92;\r\n  }\r\n\r\n  goToEdit() {\r\n    this.router.navigate(['/app/patient/edit/', this.patient._id], {\r\n      queryParams: { returnUrl: this.router.url },\r\n    });\r\n  }\r\n}","<div class=\"min-h-screen bg-gray-50 p-4\">\r\n    <div class=\"max-w-7xl mx-auto\">\r\n        <!-- Header Section -->\r\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 mb-6\">\r\n            <div class=\"p-6\">\r\n                <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                    <div>\r\n                        <h1 class=\"text-2xl font-bold text-gray-900\">Patient Management</h1>\r\n                        <p class=\"text-gray-600 mt-1\">Manage and view patient information</p>\r\n                    </div>\r\n\r\n                    <!-- Search Section -->\r\n                    <div class=\"w-full sm:w-80\">\r\n                        <div class=\"relative\">\r\n                            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10\">\r\n                                <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <ng-select [items]=\"patientsList\" placeholder=\"Search patients by name or username...\"\r\n                                bindLabel=\"name\" autofocus bindValue=\"_id\" [typeahead]=\"patientInput$\"\r\n                                (change)=\"onSearchChange($event)\" class=\"search-select\">\r\n                                <ng-template ng-label-tmp let-item=\"item\">\r\n                                    <span *ngIf=\"item.user\">{{item.user.username}} - {{item.user.name}}</span>\r\n                                </ng-template>\r\n                                <ng-template ng-option-tmp let-item=\"item\">\r\n                                    <div class=\"flex items-center space-x-3 p-2\">\r\n                                        <div class=\"flex-shrink-0\">\r\n                                            <div\r\n                                                class=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                                                <span\r\n                                                    class=\"text-blue-600 font-medium text-sm\">{{item.user.name.charAt(0).toUpperCase()}}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"text-sm font-medium text-gray-900\">{{item.user.name}}</div>\r\n                                            <div class=\"text-sm text-gray-500\">@{{item.user.username}}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </ng-template>\r\n                            </ng-select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Main Content -->\r\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <!-- No Records State -->\r\n            <div *ngIf=\"patients == null || patients?.length == 0\" class=\"text-center py-16\">\r\n                <svg class=\"mx-auto h-16 w-16 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\"\r\n                        d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n                </svg>\r\n                <h3 class=\"text-lg font-medium text-gray-900 mt-4\">No patients found</h3>\r\n                <p class=\"text-gray-500 mt-2\">Try adjusting your search criteria or add new patients.</p>\r\n            </div>\r\n\r\n            <!-- Loader -->\r\n            <div *ngIf=\"isLoader\" class=\"flex justify-center items-center py-16\">\r\n                <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n            </div>\r\n\r\n            <!-- Desktop Table View -->\r\n            <div *ngIf=\"!isLoader && patients?.length > 0\" class=\"hidden lg:block\">\r\n                <div class=\"overflow-x-auto\">\r\n                    <table class=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead class=\"bg-gray-50\">\r\n                            <tr>\r\n                                <th\r\n                                    class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    #</th>\r\n                                <th\r\n                                    class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    Patient Info</th>\r\n                                <th\r\n                                    class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    Username</th>\r\n                                <th\r\n                                    class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    Status</th>\r\n                                <th\r\n                                    class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    Created</th>\r\n                                <th\r\n                                    class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                                    Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody class=\"bg-white divide-y divide-gray-200\">\r\n                            <tr *ngFor=\"let item of patients; let i = index\"\r\n                                class=\"hover:bg-gray-50 transition-colors duration-150\">\r\n                                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                    {{i + ((page - 1) * limit) + 1}}\r\n                                </td>\r\n                                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <div class=\"flex items-center space-x-4\">\r\n                                        <div class=\"flex-shrink-0\">\r\n                                            <div\r\n                                                class=\"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                                                <span\r\n                                                    class=\"text-white font-semibold text-sm\">{{item.user.name.charAt(0).toUpperCase()}}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"min-w-0 flex-1\">\r\n                                            <button (click)=\"onClickProfile(item._id)\"\r\n                                                class=\"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors duration-150 cursor-pointer bg-transparent border-0 p-0 text-left\">\r\n                                                {{item.user.name}}\r\n                                            </button>\r\n                                            <div class=\"text-sm text-gray-500 mt-1\">\r\n                                                <div class=\"flex items-center space-x-1\">\r\n                                                    <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\"\r\n                                                        viewBox=\"0 0 24 24\">\r\n                                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n                                                            stroke-width=\"2\"\r\n                                                            d=\"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                                                    </svg>\r\n                                                    <span>{{item.user.email}}</span>\r\n                                                </div>\r\n                                                <div class=\"flex items-center space-x-1 mt-1\">\r\n                                                    <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\"\r\n                                                        viewBox=\"0 0 24 24\">\r\n                                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n                                                            stroke-width=\"2\"\r\n                                                            d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n                                                    </svg>\r\n                                                    <span>{{item.user.phone}}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span\r\n                                        class=\"text-sm text-gray-900 font-mono bg-gray-100 px-2 py-1 rounded\">@{{item.user.username}}</span>\r\n                                </td>\r\n                                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span\r\n                                        class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\"\r\n                                        [ngClass]=\"item.user.active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\">\r\n                                        <span class=\"w-1.5 h-1.5 rounded-full mr-1.5\"\r\n                                            [ngClass]=\"item.user.active ? 'bg-green-400' : 'bg-red-400'\"></span>\r\n                                        {{item.user.active ? 'Active' : 'Inactive'}}\r\n                                    </span>\r\n                                </td>\r\n                                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                    <div class=\"flex flex-col\">\r\n                                        <span>{{item.user.createdAt | date : 'MMM d, y'}}</span>\r\n                                        <span class=\"text-xs text-gray-400\">{{item.user.createdAt | date :\r\n                                            'shortTime'}}</span>\r\n                                    </div>\r\n                                </td>\r\n                                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                                    <button (click)=\"onClickProfile(item._id)\"\r\n                                        class=\"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150\">\r\n                                        <svg class=\"h-4 w-4 mr-1.5\" fill=\"none\" stroke=\"currentColor\"\r\n                                            viewBox=\"0 0 24 24\">\r\n                                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                                d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                                d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                                        </svg>\r\n                                        View\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Mobile Card View -->\r\n            <div *ngIf=\"!isLoader && patients?.length > 0\" class=\"lg:hidden\">\r\n                <div class=\"space-y-4 p-4\">\r\n                    <div *ngFor=\"let item of patients; let i = index\"\r\n                        class=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-150\">\r\n                        <div class=\"flex items-start justify-between\">\r\n                            <div class=\"flex items-start space-x-3\">\r\n                                <div class=\"flex-shrink-0\">\r\n                                    <div\r\n                                        class=\"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                                        <span\r\n                                            class=\"text-white font-semibold text-sm\">{{item.user.name.charAt(0).toUpperCase()}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"min-w-0 flex-1\">\r\n                                    <button (click)=\"onClickProfile(item._id)\"\r\n                                        class=\"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors duration-150 bg-transparent border-0 p-0 text-left\">\r\n                                        {{item.user.name}}\r\n                                    </button>\r\n                                    <div class=\"text-sm text-gray-500 mt-1\">\r\n                                        <div>@{{item.user.username}}</div>\r\n                                        <div class=\"mt-1\">{{item.user.email}}</div>\r\n                                        <div>{{item.user.phone}}</div>\r\n                                    </div>\r\n                                    <div class=\"flex items-center justify-between mt-3\">\r\n                                        <span\r\n                                            class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium\"\r\n                                            [ngClass]=\"item.user.active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\">\r\n                                            <span class=\"w-1.5 h-1.5 rounded-full mr-1\"\r\n                                                [ngClass]=\"item.user.active ? 'bg-green-400' : 'bg-red-400'\"></span>\r\n                                            {{item.user.active ? 'Active' : 'Inactive'}}\r\n                                        </span>\r\n                                        <span class=\"text-xs text-gray-500\">{{item.user.createdAt | date : 'MMM d,\r\n                                            y'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <button (click)=\"onClickProfile(item._id)\"\r\n                                class=\"ml-2 p-2 text-gray-400 hover:text-gray-600 transition-colors duration-150 bg-transparent border-0\">\r\n                                <svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                        d=\"M9 5l7 7-7 7\" />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Pagination Footer with your existing component -->\r\n            <div *ngIf=\"!isLoader\"\r\n                class=\"bg-gray-50 border-t border-gray-200 px-4 py-3 sm:px-6\">\r\n                <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0\">\r\n                    <!-- Results Info -->\r\n                    <div class=\"text-sm text-gray-700\">\r\n                        Showing\r\n                        <span class=\"font-medium\">{{((page-1) * limit) + 1}}</span>\r\n                        to\r\n                        <span class=\"font-medium\">{{((page-1) * limit) + patients?.length}}</span>\r\n                        of\r\n                        <span class=\"font-medium\">{{totalCount}}</span>\r\n                        patients\r\n                    </div>\r\n\r\n                    <!-- Your existing pagination component -->\r\n                    <app-pagination (onPageChange)=\"onClickPage($event)\" [page]=\"this.page\" [limit]=\"this.limit\"\r\n                        [totalDocs]=\"this.totalCount\">\r\n                    </app-pagination>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<style>\r\n    /* Custom styles for ng-select to work with Tailwind */\r\n    .search-select .ng-select.ng-select-single .ng-select-container {\r\n        height: 42px;\r\n        padding-left: 2.5rem;\r\n    }\r\n\r\n    .search-select .ng-select .ng-control {\r\n        border-radius: 0.375rem;\r\n        border-color: #d1d5db;\r\n    }\r\n\r\n    .search-select .ng-select.ng-select-focused .ng-control {\r\n        border-color: #3b82f6;\r\n        box-shadow: 0 0 0 1px #3b82f6;\r\n    }\r\n\r\n    .search-select .ng-placeholder {\r\n        color: #9ca3af;\r\n    }\r\n\r\n    </style>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Patient } from 'src/app/_models/patient';\r\nimport { PatientService } from '../patient.service';\r\nimport { ResponseMessage } from 'src/app/_models/response';\r\nimport Swal from 'sweetalert2';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { Subject } from 'rxjs';\r\nimport { SearchService } from 'src/app/shared/search.service';\r\n\r\n@Component({\r\n  selector: 'app-profiles',\r\n  templateUrl: './profiles.component.html',\r\n  styleUrls: ['./profiles.component.css']\r\n})\r\nexport class ProfilesComponent implements OnInit {\r\n\r\n\r\n\r\n  isLoader = false;\r\n  patientsList: Patient[] = [];\r\n  patientInput$ = new Subject<string>();\r\n\r\n\r\n  page = 1;\r\n  limit = 20;\r\n  totalCount = 0;\r\n  patients: Patient[];\r\n\r\n  constructor(private router: Router,\r\n    private patientService: PatientService,\r\n    private searchService: SearchService,\r\n    private userService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.get();\r\n    this.patientInput$.subscribe(\r\n      txt => {\r\n\r\n        this.searchPatient(txt)\r\n      }\r\n    )\r\n  }\r\n  searchPatient(txt = 'MFP') {\r\n    this.searchService.searchPatient(txt).subscribe((response: ResponseMessage) => {\r\n      if (response.status == '200') {\r\n        this.patientsList = response.data;\r\n      } else {\r\n        this.patientsList = [];\r\n      }\r\n    });\r\n  }\r\n  get() {\r\n    this.isLoader = true;\r\n    this.patientService.get(this.page, this.limit).subscribe((res: ResponseMessage) => {\r\n      if (res.status == '200') {\r\n        console.log(res);\r\n        this.patients = res.data.docs;\r\n        this.totalCount = res.data.c;\r\n        this.isLoader = false;\r\n      } else {\r\n        this.patients = [];\r\n        this.isLoader = false;\r\n      }\r\n      console.log(this.patients)\r\n    })\r\n  }\r\n  onSearchChange(event) {\r\n    this.onClickProfile(event._id);\r\n  }\r\n  onClickProfile(id) {\r\n    this.router.navigate(['/app/patient/' + id]);\r\n  }\r\n\r\n  onClickEdit(id) {\r\n    console.log('edit clicked');\r\n    this.router.navigate(['/app/patient/edit/' + id]);\r\n  }\r\n\r\n\r\n  // onClickPage(page = 0) {\r\n  //   this.page = page;\r\n  //   this.get();\r\n  // }\r\n\r\n\r\n  onClickPage(e: any) {\r\n    this.page = e.page;\r\n    this.limit = e.limit;\r\n    this.get();\r\n  }\r\n  // Delete Alert\r\n  delet(index) {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Patient will be Deleted',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, delete it!',\r\n      cancelButtonText: 'No, keep it'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.toggleDelete(index);\r\n        Swal.fire(\r\n          'Deleted!',\r\n          'Patient has been deleted.',\r\n          'success'\r\n        )\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire(\r\n          'Cancelled',\r\n          'Patient not deleted',\r\n          'error'\r\n        )\r\n      }\r\n    });\r\n  }\r\n  toggleDelete(index) {\r\n    this.userService.toggleDelete(this.patients[index].user._id).subscribe((res: any) => {\r\n      if (res.status === 200) {\r\n        console.log('doctor deleted');\r\n        this.get();\r\n      }\r\n    })\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DiseaseCategory } from 'src/app/_models/diseaseCategory';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DiseaseCategoryService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  createCategory(category: DiseaseCategory) {\r\n    return this.http.post(`api/createDiseaseCategory`, category);\r\n  }\r\n\r\n  getAllDiseaseCategories(pid) {\r\n    return this.http.get(`api/getAllDiseaseCategories/${pid}`);\r\n  }\r\n\r\n  getSingleDiseaseCategory(id:any){\r\n    return this.http.get(`api/getSingleDiseaseCategory/${id}`);\r\n  }\r\n\r\n  deleteDiseaseCategory(id) {\r\n    return this.http.delete(`api/deleteDiseaseCategories/${id}`);\r\n  }\r\n\r\n  createDefaultCategories(id,list){\r\n    return this.http.post(`api/defaultList/${id}`,list);\r\n  }\r\n\r\n  updateDiseaseCategory(id, value: any) {\r\n    return this.http.put(`api/UpdateDiseaseCategory/${id}`, value)\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class ReportService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  create(report) {\r\n    return this.http.post(`api/labReport`, report);\r\n  }\r\n  get(patientId, page = 0, limit = 10) {\r\n    return this.http.get(`api/labReport/patient/${patientId}?page=${page}&limit=${limit}`);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}